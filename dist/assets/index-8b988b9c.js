function mx(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Tn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function gx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var g2={exports:{}},th={},v2={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fc=Symbol.for("react.element"),yx=Symbol.for("react.portal"),xx=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),bx=Symbol.for("react.profiler"),Nx=Symbol.for("react.provider"),_x=Symbol.for("react.context"),Sx=Symbol.for("react.forward_ref"),jx=Symbol.for("react.suspense"),kx=Symbol.for("react.memo"),Ax=Symbol.for("react.lazy"),cg=Symbol.iterator;function Lx(t){return t===null||typeof t!="object"?null:(t=cg&&t[cg]||t["@@iterator"],typeof t=="function"?t:null)}var y2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x2=Object.assign,w2={};function Zo(t,e,r){this.props=t,this.context=e,this.refs=w2,this.updater=r||y2}Zo.prototype.isReactComponent={};Zo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function b2(){}b2.prototype=Zo.prototype;function k0(t,e,r){this.props=t,this.context=e,this.refs=w2,this.updater=r||y2}var A0=k0.prototype=new b2;A0.constructor=k0;x2(A0,Zo.prototype);A0.isPureReactComponent=!0;var ug=Array.isArray,N2=Object.prototype.hasOwnProperty,L0={current:null},_2={key:!0,ref:!0,__self:!0,__source:!0};function S2(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)N2.call(e,n)&&!_2.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Fc,type:t,key:s,ref:a,props:i,_owner:L0.current}}function Px(t,e){return{$$typeof:Fc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function P0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fc}function Ex(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var dg=/\/+/g;function vf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Ex(""+t.key):e.toString(36)}function ld(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Fc:case yx:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+vf(a,0):n,ug(i)?(r="",t!=null&&(r=t.replace(dg,"$&/")+"/"),ld(i,e,r,"",function(d){return d})):i!=null&&(P0(i)&&(i=Px(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(dg,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",ug(t))for(var o=0;o<t.length;o++){s=t[o];var c=n+vf(s,o);a+=ld(s,e,r,c,i)}else if(c=Lx(t),typeof c=="function")for(t=c.call(t),o=0;!(s=t.next()).done;)s=s.value,c=n+vf(s,o++),a+=ld(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ru(t,e,r){if(t==null)return t;var n=[],i=0;return ld(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Cx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Jr={current:null},cd={transition:null},Ix={ReactCurrentDispatcher:Jr,ReactCurrentBatchConfig:cd,ReactCurrentOwner:L0};function j2(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Ru,forEach:function(t,e,r){Ru(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ru(t,function(){e++}),e},toArray:function(t){return Ru(t,function(e){return e})||[]},only:function(t){if(!P0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ct.Component=Zo;ct.Fragment=xx;ct.Profiler=bx;ct.PureComponent=k0;ct.StrictMode=wx;ct.Suspense=jx;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ix;ct.act=j2;ct.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=x2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=L0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)N2.call(e,c)&&!_2.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Fc,type:t.type,key:i,ref:s,props:n,_owner:a}};ct.createContext=function(t){return t={$$typeof:_x,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Nx,_context:t},t.Consumer=t};ct.createElement=S2;ct.createFactory=function(t){var e=S2.bind(null,t);return e.type=t,e};ct.createRef=function(){return{current:null}};ct.forwardRef=function(t){return{$$typeof:Sx,render:t}};ct.isValidElement=P0;ct.lazy=function(t){return{$$typeof:Ax,_payload:{_status:-1,_result:t},_init:Cx}};ct.memo=function(t,e){return{$$typeof:kx,type:t,compare:e===void 0?null:e}};ct.startTransition=function(t){var e=cd.transition;cd.transition={};try{t()}finally{cd.transition=e}};ct.unstable_act=j2;ct.useCallback=function(t,e){return Jr.current.useCallback(t,e)};ct.useContext=function(t){return Jr.current.useContext(t)};ct.useDebugValue=function(){};ct.useDeferredValue=function(t){return Jr.current.useDeferredValue(t)};ct.useEffect=function(t,e){return Jr.current.useEffect(t,e)};ct.useId=function(){return Jr.current.useId()};ct.useImperativeHandle=function(t,e,r){return Jr.current.useImperativeHandle(t,e,r)};ct.useInsertionEffect=function(t,e){return Jr.current.useInsertionEffect(t,e)};ct.useLayoutEffect=function(t,e){return Jr.current.useLayoutEffect(t,e)};ct.useMemo=function(t,e){return Jr.current.useMemo(t,e)};ct.useReducer=function(t,e,r){return Jr.current.useReducer(t,e,r)};ct.useRef=function(t){return Jr.current.useRef(t)};ct.useState=function(t){return Jr.current.useState(t)};ct.useSyncExternalStore=function(t,e,r){return Jr.current.useSyncExternalStore(t,e,r)};ct.useTransition=function(){return Jr.current.useTransition()};ct.version="18.3.1";v2.exports=ct;var oe=v2.exports;const k2=gx(oe),Ox=mx({__proto__:null,default:k2},[oe]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=oe,Rx=Symbol.for("react.element"),Tx=Symbol.for("react.fragment"),Fx=Object.prototype.hasOwnProperty,zx=Dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Mx={key:!0,ref:!0,__self:!0,__source:!0};function A2(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Fx.call(e,n)&&!Mx.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Rx,type:t,key:s,ref:a,props:i,_owner:zx.current}}th.Fragment=Tx;th.jsx=A2;th.jsxs=A2;g2.exports=th;var u=g2.exports,op={},L2={exports:{}},Nn={},P2={exports:{}},E2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(G,ie){var le=G.length;G.push(ie);e:for(;0<le;){var _e=le-1>>>1,P=G[_e];if(0<i(P,ie))G[_e]=ie,G[le]=P,le=_e;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var ie=G[0],le=G.pop();if(le!==ie){G[0]=le;e:for(var _e=0,P=G.length,q=P>>>1;_e<q;){var H=2*(_e+1)-1,K=G[H],ee=H+1,ce=G[ee];if(0>i(K,le))ee<P&&0>i(ce,K)?(G[_e]=ce,G[ee]=le,_e=ee):(G[_e]=K,G[H]=le,_e=H);else if(ee<P&&0>i(ce,le))G[_e]=ce,G[ee]=le,_e=ee;else break e}}return ie}function i(G,ie){var le=G.sortIndex-ie.sortIndex;return le!==0?le:G.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],d=[],p=1,m=null,y=3,f=!1,N=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(G){for(var ie=r(d);ie!==null;){if(ie.callback===null)n(d);else if(ie.startTime<=G)n(d),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=r(d)}}function F(G){if(_=!1,S(G),!N)if(r(c)!==null)N=!0,ue(L);else{var ie=r(d);ie!==null&&pe(F,ie.startTime-G)}}function L(G,ie){N=!1,_&&(_=!1,w(O),O=-1),f=!0;var le=y;try{for(S(ie),m=r(c);m!==null&&(!(m.expirationTime>ie)||G&&!D());){var _e=m.callback;if(typeof _e=="function"){m.callback=null,y=m.priorityLevel;var P=_e(m.expirationTime<=ie);ie=t.unstable_now(),typeof P=="function"?m.callback=P:m===r(c)&&n(c),S(ie)}else n(c);m=r(c)}if(m!==null)var q=!0;else{var H=r(d);H!==null&&pe(F,H.startTime-ie),q=!1}return q}finally{m=null,y=le,f=!1}}var M=!1,R=null,O=-1,Z=5,re=-1;function D(){return!(t.unstable_now()-re<Z)}function z(){if(R!==null){var G=t.unstable_now();re=G;var ie=!0;try{ie=R(!0,G)}finally{ie?B():(M=!1,R=null)}}else M=!1}var B;if(typeof x=="function")B=function(){x(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,he=W.port2;W.port1.onmessage=z,B=function(){he.postMessage(null)}}else B=function(){j(z,0)};function ue(G){R=G,M||(M=!0,B())}function pe(G,ie){O=j(function(){G(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){N||f||(N=!0,ue(L))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(G){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var le=y;y=ie;try{return G()}finally{y=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,ie){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var le=y;y=G;try{return ie()}finally{y=le}},t.unstable_scheduleCallback=function(G,ie,le){var _e=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?_e+le:_e):le=_e,G){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=le+P,G={id:p++,callback:ie,priorityLevel:G,startTime:le,expirationTime:P,sortIndex:-1},le>_e?(G.sortIndex=le,e(d,G),r(c)===null&&G===r(d)&&(_?(w(O),O=-1):_=!0,pe(F,le-_e))):(G.sortIndex=P,e(c,G),N||f||(N=!0,ue(L))),G},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(G){var ie=y;return function(){var le=y;y=ie;try{return G.apply(this,arguments)}finally{y=le}}}})(E2);P2.exports=E2;var Ux=P2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bx=oe,bn=Ux;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var C2=new Set,mc={};function Ea(t,e){Wo(t,e),Wo(t+"Capture",e)}function Wo(t,e){for(mc[t]=e,t=0;t<e.length;t++)C2.add(e[t])}var Xi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lp=Object.prototype.hasOwnProperty,qx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hg={},fg={};function $x(t){return lp.call(fg,t)?!0:lp.call(hg,t)?!1:qx.test(t)?fg[t]=!0:(hg[t]=!0,!1)}function Hx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Wx(t,e,r,n){if(e===null||typeof e>"u"||Hx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Kr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pr[t]=new Kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pr[e]=new Kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pr[t]=new Kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pr[t]=new Kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pr[t]=new Kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pr[t]=new Kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pr[t]=new Kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pr[t]=new Kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pr[t]=new Kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var E0=/[\-:]([a-z])/g;function C0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(E0,C0);Pr[e]=new Kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(E0,C0);Pr[e]=new Kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(E0,C0);Pr[e]=new Kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pr[t]=new Kr(t,1,!1,t.toLowerCase(),null,!1,!1)});Pr.xlinkHref=new Kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pr[t]=new Kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function I0(t,e,r,n){var i=Pr.hasOwnProperty(e)?Pr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Wx(e,r,i,n)&&(r=null),n||i===null?$x(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ts=Bx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),No=Symbol.for("react.portal"),_o=Symbol.for("react.fragment"),O0=Symbol.for("react.strict_mode"),cp=Symbol.for("react.profiler"),I2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),D0=Symbol.for("react.forward_ref"),up=Symbol.for("react.suspense"),dp=Symbol.for("react.suspense_list"),R0=Symbol.for("react.memo"),Ns=Symbol.for("react.lazy"),D2=Symbol.for("react.offscreen"),pg=Symbol.iterator;function Fl(t){return t===null||typeof t!="object"?null:(t=pg&&t[pg]||t["@@iterator"],typeof t=="function"?t:null)}var qt=Object.assign,yf;function Jl(t){if(yf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);yf=e&&e[1]||""}return`
`+yf+t}var xf=!1;function wf(t,e){if(!t||xf)return"";xf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{xf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Jl(t):""}function Vx(t){switch(t.tag){case 5:return Jl(t.type);case 16:return Jl("Lazy");case 13:return Jl("Suspense");case 19:return Jl("SuspenseList");case 0:case 2:case 15:return t=wf(t.type,!1),t;case 11:return t=wf(t.type.render,!1),t;case 1:return t=wf(t.type,!0),t;default:return""}}function hp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _o:return"Fragment";case No:return"Portal";case cp:return"Profiler";case O0:return"StrictMode";case up:return"Suspense";case dp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case O2:return(t.displayName||"Context")+".Consumer";case I2:return(t._context.displayName||"Context")+".Provider";case D0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case R0:return e=t.displayName||null,e!==null?e:hp(t.type)||"Memo";case Ns:e=t._payload,t=t._init;try{return hp(t(e))}catch{}}return null}function Gx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hp(e);case 8:return e===O0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Bs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function R2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jx(t){var e=R2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fu(t){t._valueTracker||(t._valueTracker=Jx(t))}function T2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=R2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fp(t,e){var r=e.checked;return qt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function mg(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Bs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F2(t,e){e=e.checked,e!=null&&I0(t,"checked",e,!1)}function pp(t,e){F2(t,e);var r=Bs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mp(t,e.type,r):e.hasOwnProperty("defaultValue")&&mp(t,e.type,Bs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function gg(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function mp(t,e,r){(e!=="number"||Sd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Kl=Array.isArray;function Ro(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Bs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function gp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return qt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function vg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(je(92));if(Kl(r)){if(1<r.length)throw Error(je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Bs(r)}}function z2(t,e){var r=Bs(e.value),n=Bs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function yg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function M2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?M2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var zu,U2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(zu=zu||document.createElement("div"),zu.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=zu.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Zl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kx=["Webkit","ms","Moz","O"];Object.keys(Zl).forEach(function(t){Kx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Zl[e]=Zl[t]})});function B2(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Zl.hasOwnProperty(t)&&Zl[t]?(""+e).trim():e+"px"}function q2(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=B2(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var Yx=qt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yp(t,e){if(e){if(Yx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function xp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wp=null;function T0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bp=null,To=null,Fo=null;function xg(t){if(t=Uc(t)){if(typeof bp!="function")throw Error(je(280));var e=t.stateNode;e&&(e=ah(e),bp(t.stateNode,t.type,e))}}function $2(t){To?Fo?Fo.push(t):Fo=[t]:To=t}function H2(){if(To){var t=To,e=Fo;if(Fo=To=null,xg(t),e)for(t=0;t<e.length;t++)xg(e[t])}}function W2(t,e){return t(e)}function V2(){}var bf=!1;function G2(t,e,r){if(bf)return t(e,r);bf=!0;try{return W2(t,e,r)}finally{bf=!1,(To!==null||Fo!==null)&&(V2(),H2())}}function vc(t,e){var r=t.stateNode;if(r===null)return null;var n=ah(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(je(231,e,typeof r));return r}var Np=!1;if(Xi)try{var zl={};Object.defineProperty(zl,"passive",{get:function(){Np=!0}}),window.addEventListener("test",zl,zl),window.removeEventListener("test",zl,zl)}catch{Np=!1}function Xx(t,e,r,n,i,s,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var ec=!1,jd=null,kd=!1,_p=null,Qx={onError:function(t){ec=!0,jd=t}};function Zx(t,e,r,n,i,s,a,o,c){ec=!1,jd=null,Xx.apply(Qx,arguments)}function ew(t,e,r,n,i,s,a,o,c){if(Zx.apply(this,arguments),ec){if(ec){var d=jd;ec=!1,jd=null}else throw Error(je(198));kd||(kd=!0,_p=d)}}function Ca(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function J2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function wg(t){if(Ca(t)!==t)throw Error(je(188))}function tw(t){var e=t.alternate;if(!e){if(e=Ca(t),e===null)throw Error(je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return wg(i),t;if(s===n)return wg(i),e;s=s.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?t:e}function K2(t){return t=tw(t),t!==null?Y2(t):null}function Y2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Y2(t);if(e!==null)return e;t=t.sibling}return null}var X2=bn.unstable_scheduleCallback,bg=bn.unstable_cancelCallback,rw=bn.unstable_shouldYield,nw=bn.unstable_requestPaint,er=bn.unstable_now,iw=bn.unstable_getCurrentPriorityLevel,F0=bn.unstable_ImmediatePriority,Q2=bn.unstable_UserBlockingPriority,Ad=bn.unstable_NormalPriority,sw=bn.unstable_LowPriority,Z2=bn.unstable_IdlePriority,rh=null,Ai=null;function aw(t){if(Ai&&typeof Ai.onCommitFiberRoot=="function")try{Ai.onCommitFiberRoot(rh,t,void 0,(t.current.flags&128)===128)}catch{}}var si=Math.clz32?Math.clz32:cw,ow=Math.log,lw=Math.LN2;function cw(t){return t>>>=0,t===0?32:31-(ow(t)/lw|0)|0}var Mu=64,Uu=4194304;function Yl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ld(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Yl(o):(s&=a,s!==0&&(n=Yl(s)))}else a=r&~i,a!==0?n=Yl(a):s!==0&&(n=Yl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-si(e),i=1<<r,n|=t[r],e&=~i;return n}function uw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-si(s),o=1<<a,c=i[a];c===-1?(!(o&r)||o&n)&&(i[a]=uw(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}}function Sp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ev(){var t=Mu;return Mu<<=1,!(Mu&4194240)&&(Mu=64),t}function Nf(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zc(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-si(e),t[e]=r}function hw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-si(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function z0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-si(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Nt=0;function tv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var rv,M0,nv,iv,sv,jp=!1,Bu=[],Cs=null,Is=null,Os=null,yc=new Map,xc=new Map,Ss=[],fw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ng(t,e){switch(t){case"focusin":case"focusout":Cs=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":yc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xc.delete(e.pointerId)}}function Ml(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Uc(e),e!==null&&M0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pw(t,e,r,n,i){switch(e){case"focusin":return Cs=Ml(Cs,t,e,r,n,i),!0;case"dragenter":return Is=Ml(Is,t,e,r,n,i),!0;case"mouseover":return Os=Ml(Os,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return yc.set(s,Ml(yc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,xc.set(s,Ml(xc.get(s)||null,t,e,r,n,i)),!0}return!1}function av(t){var e=xa(t.target);if(e!==null){var r=Ca(e);if(r!==null){if(e=r.tag,e===13){if(e=J2(r),e!==null){t.blockedOn=e,sv(t.priority,function(){nv(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ud(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=kp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);wp=n,r.target.dispatchEvent(n),wp=null}else return e=Uc(r),e!==null&&M0(e),t.blockedOn=r,!1;e.shift()}return!0}function _g(t,e,r){ud(t)&&r.delete(e)}function mw(){jp=!1,Cs!==null&&ud(Cs)&&(Cs=null),Is!==null&&ud(Is)&&(Is=null),Os!==null&&ud(Os)&&(Os=null),yc.forEach(_g),xc.forEach(_g)}function Ul(t,e){t.blockedOn===e&&(t.blockedOn=null,jp||(jp=!0,bn.unstable_scheduleCallback(bn.unstable_NormalPriority,mw)))}function wc(t){function e(i){return Ul(i,t)}if(0<Bu.length){Ul(Bu[0],t);for(var r=1;r<Bu.length;r++){var n=Bu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Cs!==null&&Ul(Cs,t),Is!==null&&Ul(Is,t),Os!==null&&Ul(Os,t),yc.forEach(e),xc.forEach(e),r=0;r<Ss.length;r++)n=Ss[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ss.length&&(r=Ss[0],r.blockedOn===null);)av(r),r.blockedOn===null&&Ss.shift()}var zo=ts.ReactCurrentBatchConfig,Pd=!0;function gw(t,e,r,n){var i=Nt,s=zo.transition;zo.transition=null;try{Nt=1,U0(t,e,r,n)}finally{Nt=i,zo.transition=s}}function vw(t,e,r,n){var i=Nt,s=zo.transition;zo.transition=null;try{Nt=4,U0(t,e,r,n)}finally{Nt=i,zo.transition=s}}function U0(t,e,r,n){if(Pd){var i=kp(t,e,r,n);if(i===null)If(t,e,n,Ed,r),Ng(t,n);else if(pw(i,t,e,r,n))n.stopPropagation();else if(Ng(t,n),e&4&&-1<fw.indexOf(t)){for(;i!==null;){var s=Uc(i);if(s!==null&&rv(s),s=kp(t,e,r,n),s===null&&If(t,e,n,Ed,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else If(t,e,n,null,r)}}var Ed=null;function kp(t,e,r,n){if(Ed=null,t=T0(n),t=xa(t),t!==null)if(e=Ca(t),e===null)t=null;else if(r=e.tag,r===13){if(t=J2(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ed=t,null}function ov(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iw()){case F0:return 1;case Q2:return 4;case Ad:case sw:return 16;case Z2:return 536870912;default:return 16}default:return 16}}var As=null,B0=null,dd=null;function lv(){if(dd)return dd;var t,e=B0,r=e.length,n,i="value"in As?As.value:As.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return dd=i.slice(t,1<n?1-n:void 0)}function hd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qu(){return!0}function Sg(){return!1}function _n(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qu:Sg,this.isPropagationStopped=Sg,this}return qt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),e}var el={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},q0=_n(el),Mc=qt({},el,{view:0,detail:0}),yw=_n(Mc),_f,Sf,Bl,nh=qt({},Mc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Bl&&(Bl&&t.type==="mousemove"?(_f=t.screenX-Bl.screenX,Sf=t.screenY-Bl.screenY):Sf=_f=0,Bl=t),_f)},movementY:function(t){return"movementY"in t?t.movementY:Sf}}),jg=_n(nh),xw=qt({},nh,{dataTransfer:0}),ww=_n(xw),bw=qt({},Mc,{relatedTarget:0}),jf=_n(bw),Nw=qt({},el,{animationName:0,elapsedTime:0,pseudoElement:0}),_w=_n(Nw),Sw=qt({},el,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),jw=_n(Sw),kw=qt({},el,{data:0}),kg=_n(kw),Aw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Lw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ew(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Pw[t])?!!e[t]:!1}function $0(){return Ew}var Cw=qt({},Mc,{key:function(t){if(t.key){var e=Aw[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=hd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Lw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$0,charCode:function(t){return t.type==="keypress"?hd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?hd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Iw=_n(Cw),Ow=qt({},nh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ag=_n(Ow),Dw=qt({},Mc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$0}),Rw=_n(Dw),Tw=qt({},el,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fw=_n(Tw),zw=qt({},nh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mw=_n(zw),Uw=[9,13,27,32],H0=Xi&&"CompositionEvent"in window,tc=null;Xi&&"documentMode"in document&&(tc=document.documentMode);var Bw=Xi&&"TextEvent"in window&&!tc,cv=Xi&&(!H0||tc&&8<tc&&11>=tc),Lg=String.fromCharCode(32),Pg=!1;function uv(t,e){switch(t){case"keyup":return Uw.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function dv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var So=!1;function qw(t,e){switch(t){case"compositionend":return dv(e);case"keypress":return e.which!==32?null:(Pg=!0,Lg);case"textInput":return t=e.data,t===Lg&&Pg?null:t;default:return null}}function $w(t,e){if(So)return t==="compositionend"||!H0&&uv(t,e)?(t=lv(),dd=B0=As=null,So=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return cv&&e.locale!=="ko"?null:e.data;default:return null}}var Hw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Eg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Hw[t.type]:e==="textarea"}function hv(t,e,r,n){$2(n),e=Cd(e,"onChange"),0<e.length&&(r=new q0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var rc=null,bc=null;function Ww(t){_v(t,0)}function ih(t){var e=Ao(t);if(T2(e))return t}function Vw(t,e){if(t==="change")return e}var fv=!1;if(Xi){var kf;if(Xi){var Af="oninput"in document;if(!Af){var Cg=document.createElement("div");Cg.setAttribute("oninput","return;"),Af=typeof Cg.oninput=="function"}kf=Af}else kf=!1;fv=kf&&(!document.documentMode||9<document.documentMode)}function Ig(){rc&&(rc.detachEvent("onpropertychange",pv),bc=rc=null)}function pv(t){if(t.propertyName==="value"&&ih(bc)){var e=[];hv(e,bc,t,T0(t)),G2(Ww,e)}}function Gw(t,e,r){t==="focusin"?(Ig(),rc=e,bc=r,rc.attachEvent("onpropertychange",pv)):t==="focusout"&&Ig()}function Jw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ih(bc)}function Kw(t,e){if(t==="click")return ih(e)}function Yw(t,e){if(t==="input"||t==="change")return ih(e)}function Xw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var oi=typeof Object.is=="function"?Object.is:Xw;function Nc(t,e){if(oi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!lp.call(e,i)||!oi(t[i],e[i]))return!1}return!0}function Og(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Dg(t,e){var r=Og(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Og(r)}}function mv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?mv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function gv(){for(var t=window,e=Sd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sd(t.document)}return e}function W0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Qw(t){var e=gv(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&mv(r.ownerDocument.documentElement,r)){if(n!==null&&W0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Dg(r,s);var a=Dg(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Zw=Xi&&"documentMode"in document&&11>=document.documentMode,jo=null,Ap=null,nc=null,Lp=!1;function Rg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Lp||jo==null||jo!==Sd(n)||(n=jo,"selectionStart"in n&&W0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),nc&&Nc(nc,n)||(nc=n,n=Cd(Ap,"onSelect"),0<n.length&&(e=new q0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=jo)))}function $u(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ko={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},Lf={},vv={};Xi&&(vv=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function sh(t){if(Lf[t])return Lf[t];if(!ko[t])return t;var e=ko[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in vv)return Lf[t]=e[r];return t}var yv=sh("animationend"),xv=sh("animationiteration"),wv=sh("animationstart"),bv=sh("transitionend"),Nv=new Map,Tg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vs(t,e){Nv.set(t,e),Ea(e,[t])}for(var Pf=0;Pf<Tg.length;Pf++){var Ef=Tg[Pf],eb=Ef.toLowerCase(),tb=Ef[0].toUpperCase()+Ef.slice(1);Vs(eb,"on"+tb)}Vs(yv,"onAnimationEnd");Vs(xv,"onAnimationIteration");Vs(wv,"onAnimationStart");Vs("dblclick","onDoubleClick");Vs("focusin","onFocus");Vs("focusout","onBlur");Vs(bv,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);Ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xl));function Fg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ew(n,e,void 0,t),t.currentTarget=null}function _v(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Fg(i,o,d),s=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Fg(i,o,d),s=c}}}if(kd)throw t=_p,kd=!1,_p=null,t}function Dt(t,e){var r=e[Op];r===void 0&&(r=e[Op]=new Set);var n=t+"__bubble";r.has(n)||(Sv(e,t,2,!1),r.add(n))}function Cf(t,e,r){var n=0;e&&(n|=4),Sv(r,t,n,e)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function _c(t){if(!t[Hu]){t[Hu]=!0,C2.forEach(function(r){r!=="selectionchange"&&(rb.has(r)||Cf(r,!1,t),Cf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hu]||(e[Hu]=!0,Cf("selectionchange",!1,e))}}function Sv(t,e,r,n){switch(ov(e)){case 1:var i=gw;break;case 4:i=vw;break;default:i=U0}r=i.bind(null,e,r,t),i=void 0,!Np||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function If(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=xa(o),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}o=o.parentNode}}n=n.return}G2(function(){var d=s,p=T0(r),m=[];e:{var y=Nv.get(t);if(y!==void 0){var f=q0,N=t;switch(t){case"keypress":if(hd(r)===0)break e;case"keydown":case"keyup":f=Iw;break;case"focusin":N="focus",f=jf;break;case"focusout":N="blur",f=jf;break;case"beforeblur":case"afterblur":f=jf;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=jg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=ww;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Rw;break;case yv:case xv:case wv:f=_w;break;case bv:f=Fw;break;case"scroll":f=yw;break;case"wheel":f=Mw;break;case"copy":case"cut":case"paste":f=jw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ag}var _=(e&4)!==0,j=!_&&t==="scroll",w=_?y!==null?y+"Capture":null:y;_=[];for(var x=d,S;x!==null;){S=x;var F=S.stateNode;if(S.tag===5&&F!==null&&(S=F,w!==null&&(F=vc(x,w),F!=null&&_.push(Sc(x,F,S)))),j)break;x=x.return}0<_.length&&(y=new f(y,N,null,r,p),m.push({event:y,listeners:_}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",y&&r!==wp&&(N=r.relatedTarget||r.fromElement)&&(xa(N)||N[Qi]))break e;if((f||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,f?(N=r.relatedTarget||r.toElement,f=d,N=N?xa(N):null,N!==null&&(j=Ca(N),N!==j||N.tag!==5&&N.tag!==6)&&(N=null)):(f=null,N=d),f!==N)){if(_=jg,F="onMouseLeave",w="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(_=Ag,F="onPointerLeave",w="onPointerEnter",x="pointer"),j=f==null?y:Ao(f),S=N==null?y:Ao(N),y=new _(F,x+"leave",f,r,p),y.target=j,y.relatedTarget=S,F=null,xa(p)===d&&(_=new _(w,x+"enter",N,r,p),_.target=S,_.relatedTarget=j,F=_),j=F,f&&N)t:{for(_=f,w=N,x=0,S=_;S;S=co(S))x++;for(S=0,F=w;F;F=co(F))S++;for(;0<x-S;)_=co(_),x--;for(;0<S-x;)w=co(w),S--;for(;x--;){if(_===w||w!==null&&_===w.alternate)break t;_=co(_),w=co(w)}_=null}else _=null;f!==null&&zg(m,y,f,_,!1),N!==null&&j!==null&&zg(m,j,N,_,!0)}}e:{if(y=d?Ao(d):window,f=y.nodeName&&y.nodeName.toLowerCase(),f==="select"||f==="input"&&y.type==="file")var L=Vw;else if(Eg(y))if(fv)L=Yw;else{L=Jw;var M=Gw}else(f=y.nodeName)&&f.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(L=Kw);if(L&&(L=L(t,d))){hv(m,L,r,p);break e}M&&M(t,y,d),t==="focusout"&&(M=y._wrapperState)&&M.controlled&&y.type==="number"&&mp(y,"number",y.value)}switch(M=d?Ao(d):window,t){case"focusin":(Eg(M)||M.contentEditable==="true")&&(jo=M,Ap=d,nc=null);break;case"focusout":nc=Ap=jo=null;break;case"mousedown":Lp=!0;break;case"contextmenu":case"mouseup":case"dragend":Lp=!1,Rg(m,r,p);break;case"selectionchange":if(Zw)break;case"keydown":case"keyup":Rg(m,r,p)}var R;if(H0)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else So?uv(t,r)&&(O="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(O="onCompositionStart");O&&(cv&&r.locale!=="ko"&&(So||O!=="onCompositionStart"?O==="onCompositionEnd"&&So&&(R=lv()):(As=p,B0="value"in As?As.value:As.textContent,So=!0)),M=Cd(d,O),0<M.length&&(O=new kg(O,t,null,r,p),m.push({event:O,listeners:M}),R?O.data=R:(R=dv(r),R!==null&&(O.data=R)))),(R=Bw?qw(t,r):$w(t,r))&&(d=Cd(d,"onBeforeInput"),0<d.length&&(p=new kg("onBeforeInput","beforeinput",null,r,p),m.push({event:p,listeners:d}),p.data=R))}_v(m,e)})}function Sc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Cd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vc(t,r),s!=null&&n.unshift(Sc(t,s,i)),s=vc(t,e),s!=null&&n.push(Sc(t,s,i))),t=t.return}return n}function co(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zg(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,i?(c=vc(r,s),c!=null&&a.unshift(Sc(r,c,o))):i||(c=vc(r,s),c!=null&&a.push(Sc(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var nb=/\r\n?/g,ib=/\u0000|\uFFFD/g;function Mg(t){return(typeof t=="string"?t:""+t).replace(nb,`
`).replace(ib,"")}function Wu(t,e,r){if(e=Mg(e),Mg(t)!==e&&r)throw Error(je(425))}function Id(){}var Pp=null,Ep=null;function Cp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ip=typeof setTimeout=="function"?setTimeout:void 0,sb=typeof clearTimeout=="function"?clearTimeout:void 0,Ug=typeof Promise=="function"?Promise:void 0,ab=typeof queueMicrotask=="function"?queueMicrotask:typeof Ug<"u"?function(t){return Ug.resolve(null).then(t).catch(ob)}:Ip;function ob(t){setTimeout(function(){throw t})}function Of(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),wc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);wc(e)}function Ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Bg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var tl=Math.random().toString(36).slice(2),Si="__reactFiber$"+tl,jc="__reactProps$"+tl,Qi="__reactContainer$"+tl,Op="__reactEvents$"+tl,lb="__reactListeners$"+tl,cb="__reactHandles$"+tl;function xa(t){var e=t[Si];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Qi]||r[Si]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Bg(t);t!==null;){if(r=t[Si])return r;t=Bg(t)}return e}t=r,r=t.parentNode}return null}function Uc(t){return t=t[Si]||t[Qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function ah(t){return t[jc]||null}var Dp=[],Lo=-1;function Gs(t){return{current:t}}function Tt(t){0>Lo||(t.current=Dp[Lo],Dp[Lo]=null,Lo--)}function It(t,e){Lo++,Dp[Lo]=t.current,t.current=e}var qs={},Br=Gs(qs),on=Gs(!1),ja=qs;function Vo(t,e){var r=t.type.contextTypes;if(!r)return qs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ln(t){return t=t.childContextTypes,t!=null}function Od(){Tt(on),Tt(Br)}function qg(t,e,r){if(Br.current!==qs)throw Error(je(168));It(Br,e),It(on,r)}function jv(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(je(108,Gx(t)||"Unknown",i));return qt({},r,n)}function Dd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||qs,ja=Br.current,It(Br,t),It(on,on.current),!0}function $g(t,e,r){var n=t.stateNode;if(!n)throw Error(je(169));r?(t=jv(t,e,ja),n.__reactInternalMemoizedMergedChildContext=t,Tt(on),Tt(Br),It(Br,t)):Tt(on),It(on,r)}var Gi=null,oh=!1,Df=!1;function kv(t){Gi===null?Gi=[t]:Gi.push(t)}function ub(t){oh=!0,kv(t)}function Js(){if(!Df&&Gi!==null){Df=!0;var t=0,e=Nt;try{var r=Gi;for(Nt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Gi=null,oh=!1}catch(i){throw Gi!==null&&(Gi=Gi.slice(t+1)),X2(F0,Js),i}finally{Nt=e,Df=!1}}return null}var Po=[],Eo=0,Rd=null,Td=0,In=[],On=0,ka=null,Ji=1,Ki="";function fa(t,e){Po[Eo++]=Td,Po[Eo++]=Rd,Rd=t,Td=e}function Av(t,e,r){In[On++]=Ji,In[On++]=Ki,In[On++]=ka,ka=t;var n=Ji;t=Ki;var i=32-si(n)-1;n&=~(1<<i),r+=1;var s=32-si(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ji=1<<32-si(e)+i|r<<i|n,Ki=s+t}else Ji=1<<s|r<<i|n,Ki=t}function V0(t){t.return!==null&&(fa(t,1),Av(t,1,0))}function G0(t){for(;t===Rd;)Rd=Po[--Eo],Po[Eo]=null,Td=Po[--Eo],Po[Eo]=null;for(;t===ka;)ka=In[--On],In[On]=null,Ki=In[--On],In[On]=null,Ji=In[--On],In[On]=null}var wn=null,yn=null,zt=!1,ii=null;function Lv(t,e){var r=Dn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Hg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,yn=Ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ka!==null?{id:Ji,overflow:Ki}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Dn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,wn=t,yn=null,!0):!1;default:return!1}}function Rp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Tp(t){if(zt){var e=yn;if(e){var r=e;if(!Hg(t,e)){if(Rp(t))throw Error(je(418));e=Ds(r.nextSibling);var n=wn;e&&Hg(t,e)?Lv(n,r):(t.flags=t.flags&-4097|2,zt=!1,wn=t)}}else{if(Rp(t))throw Error(je(418));t.flags=t.flags&-4097|2,zt=!1,wn=t}}}function Wg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Vu(t){if(t!==wn)return!1;if(!zt)return Wg(t),zt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Cp(t.type,t.memoizedProps)),e&&(e=yn)){if(Rp(t))throw Pv(),Error(je(418));for(;e;)Lv(t,e),e=Ds(e.nextSibling)}if(Wg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){yn=Ds(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=wn?Ds(t.stateNode.nextSibling):null;return!0}function Pv(){for(var t=yn;t;)t=Ds(t.nextSibling)}function Go(){yn=wn=null,zt=!1}function J0(t){ii===null?ii=[t]:ii.push(t)}var db=ts.ReactCurrentBatchConfig;function ql(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,t))}return t}function Gu(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Vg(t){var e=t._init;return e(t._payload)}function Ev(t){function e(w,x){if(t){var S=w.deletions;S===null?(w.deletions=[x],w.flags|=16):S.push(x)}}function r(w,x){if(!t)return null;for(;x!==null;)e(w,x),x=x.sibling;return null}function n(w,x){for(w=new Map;x!==null;)x.key!==null?w.set(x.key,x):w.set(x.index,x),x=x.sibling;return w}function i(w,x){return w=zs(w,x),w.index=0,w.sibling=null,w}function s(w,x,S){return w.index=S,t?(S=w.alternate,S!==null?(S=S.index,S<x?(w.flags|=2,x):S):(w.flags|=2,x)):(w.flags|=1048576,x)}function a(w){return t&&w.alternate===null&&(w.flags|=2),w}function o(w,x,S,F){return x===null||x.tag!==6?(x=Bf(S,w.mode,F),x.return=w,x):(x=i(x,S),x.return=w,x)}function c(w,x,S,F){var L=S.type;return L===_o?p(w,x,S.props.children,F,S.key):x!==null&&(x.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ns&&Vg(L)===x.type)?(F=i(x,S.props),F.ref=ql(w,x,S),F.return=w,F):(F=xd(S.type,S.key,S.props,null,w.mode,F),F.ref=ql(w,x,S),F.return=w,F)}function d(w,x,S,F){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=qf(S,w.mode,F),x.return=w,x):(x=i(x,S.children||[]),x.return=w,x)}function p(w,x,S,F,L){return x===null||x.tag!==7?(x=_a(S,w.mode,F,L),x.return=w,x):(x=i(x,S),x.return=w,x)}function m(w,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Bf(""+x,w.mode,S),x.return=w,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Tu:return S=xd(x.type,x.key,x.props,null,w.mode,S),S.ref=ql(w,null,x),S.return=w,S;case No:return x=qf(x,w.mode,S),x.return=w,x;case Ns:var F=x._init;return m(w,F(x._payload),S)}if(Kl(x)||Fl(x))return x=_a(x,w.mode,S,null),x.return=w,x;Gu(w,x)}return null}function y(w,x,S,F){var L=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return L!==null?null:o(w,x,""+S,F);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Tu:return S.key===L?c(w,x,S,F):null;case No:return S.key===L?d(w,x,S,F):null;case Ns:return L=S._init,y(w,x,L(S._payload),F)}if(Kl(S)||Fl(S))return L!==null?null:p(w,x,S,F,null);Gu(w,S)}return null}function f(w,x,S,F,L){if(typeof F=="string"&&F!==""||typeof F=="number")return w=w.get(S)||null,o(x,w,""+F,L);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Tu:return w=w.get(F.key===null?S:F.key)||null,c(x,w,F,L);case No:return w=w.get(F.key===null?S:F.key)||null,d(x,w,F,L);case Ns:var M=F._init;return f(w,x,S,M(F._payload),L)}if(Kl(F)||Fl(F))return w=w.get(S)||null,p(x,w,F,L,null);Gu(x,F)}return null}function N(w,x,S,F){for(var L=null,M=null,R=x,O=x=0,Z=null;R!==null&&O<S.length;O++){R.index>O?(Z=R,R=null):Z=R.sibling;var re=y(w,R,S[O],F);if(re===null){R===null&&(R=Z);break}t&&R&&re.alternate===null&&e(w,R),x=s(re,x,O),M===null?L=re:M.sibling=re,M=re,R=Z}if(O===S.length)return r(w,R),zt&&fa(w,O),L;if(R===null){for(;O<S.length;O++)R=m(w,S[O],F),R!==null&&(x=s(R,x,O),M===null?L=R:M.sibling=R,M=R);return zt&&fa(w,O),L}for(R=n(w,R);O<S.length;O++)Z=f(R,w,O,S[O],F),Z!==null&&(t&&Z.alternate!==null&&R.delete(Z.key===null?O:Z.key),x=s(Z,x,O),M===null?L=Z:M.sibling=Z,M=Z);return t&&R.forEach(function(D){return e(w,D)}),zt&&fa(w,O),L}function _(w,x,S,F){var L=Fl(S);if(typeof L!="function")throw Error(je(150));if(S=L.call(S),S==null)throw Error(je(151));for(var M=L=null,R=x,O=x=0,Z=null,re=S.next();R!==null&&!re.done;O++,re=S.next()){R.index>O?(Z=R,R=null):Z=R.sibling;var D=y(w,R,re.value,F);if(D===null){R===null&&(R=Z);break}t&&R&&D.alternate===null&&e(w,R),x=s(D,x,O),M===null?L=D:M.sibling=D,M=D,R=Z}if(re.done)return r(w,R),zt&&fa(w,O),L;if(R===null){for(;!re.done;O++,re=S.next())re=m(w,re.value,F),re!==null&&(x=s(re,x,O),M===null?L=re:M.sibling=re,M=re);return zt&&fa(w,O),L}for(R=n(w,R);!re.done;O++,re=S.next())re=f(R,w,O,re.value,F),re!==null&&(t&&re.alternate!==null&&R.delete(re.key===null?O:re.key),x=s(re,x,O),M===null?L=re:M.sibling=re,M=re);return t&&R.forEach(function(z){return e(w,z)}),zt&&fa(w,O),L}function j(w,x,S,F){if(typeof S=="object"&&S!==null&&S.type===_o&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Tu:e:{for(var L=S.key,M=x;M!==null;){if(M.key===L){if(L=S.type,L===_o){if(M.tag===7){r(w,M.sibling),x=i(M,S.props.children),x.return=w,w=x;break e}}else if(M.elementType===L||typeof L=="object"&&L!==null&&L.$$typeof===Ns&&Vg(L)===M.type){r(w,M.sibling),x=i(M,S.props),x.ref=ql(w,M,S),x.return=w,w=x;break e}r(w,M);break}else e(w,M);M=M.sibling}S.type===_o?(x=_a(S.props.children,w.mode,F,S.key),x.return=w,w=x):(F=xd(S.type,S.key,S.props,null,w.mode,F),F.ref=ql(w,x,S),F.return=w,w=F)}return a(w);case No:e:{for(M=S.key;x!==null;){if(x.key===M)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(w,x.sibling),x=i(x,S.children||[]),x.return=w,w=x;break e}else{r(w,x);break}else e(w,x);x=x.sibling}x=qf(S,w.mode,F),x.return=w,w=x}return a(w);case Ns:return M=S._init,j(w,x,M(S._payload),F)}if(Kl(S))return N(w,x,S,F);if(Fl(S))return _(w,x,S,F);Gu(w,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(w,x.sibling),x=i(x,S),x.return=w,w=x):(r(w,x),x=Bf(S,w.mode,F),x.return=w,w=x),a(w)):r(w,x)}return j}var Jo=Ev(!0),Cv=Ev(!1),Fd=Gs(null),zd=null,Co=null,K0=null;function Y0(){K0=Co=zd=null}function X0(t){var e=Fd.current;Tt(Fd),t._currentValue=e}function Fp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Mo(t,e){zd=t,K0=Co=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Fn(t){var e=t._currentValue;if(K0!==t)if(t={context:t,memoizedValue:e,next:null},Co===null){if(zd===null)throw Error(je(308));Co=t,zd.dependencies={lanes:0,firstContext:t}}else Co=Co.next=t;return e}var wa=null;function Q0(t){wa===null?wa=[t]:wa.push(t)}function Iv(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Q0(e)):(r.next=i.next,i.next=r),e.interleaved=r,Zi(t,n)}function Zi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _s=!1;function Z0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ov(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,pt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Zi(t,r)}return i=n.interleaved,i===null?(e.next=e,Q0(n)):(e.next=i.next,i.next=e),n.interleaved=e,Zi(t,r)}function fd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,z0(t,r)}}function Gg(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Md(t,e,r,n){var i=t.updateQueue;_s=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==a&&(o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;a=0,p=d=c=null,o=s;do{var y=o.lane,f=o.eventTime;if((n&y)===y){p!==null&&(p=p.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=t,_=o;switch(y=e,f=r,_.tag){case 1:if(N=_.payload,typeof N=="function"){m=N.call(f,m,y);break e}m=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=_.payload,y=typeof N=="function"?N.call(f,m,y):N,y==null)break e;m=qt({},m,y);break e;case 2:_s=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[o]:y.push(o))}else f={eventTime:f,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(d=p=f,c=m):p=p.next=f,a|=y;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);La|=a,t.lanes=a,t.memoizedState=m}}function Jg(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var Bc={},Li=Gs(Bc),kc=Gs(Bc),Ac=Gs(Bc);function ba(t){if(t===Bc)throw Error(je(174));return t}function em(t,e){switch(It(Ac,e),It(kc,t),It(Li,Bc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vp(e,t)}Tt(Li),It(Li,e)}function Ko(){Tt(Li),Tt(kc),Tt(Ac)}function Dv(t){ba(Ac.current);var e=ba(Li.current),r=vp(e,t.type);e!==r&&(It(kc,t),It(Li,r))}function tm(t){kc.current===t&&(Tt(Li),Tt(kc))}var Ut=Gs(0);function Ud(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rf=[];function rm(){for(var t=0;t<Rf.length;t++)Rf[t]._workInProgressVersionPrimary=null;Rf.length=0}var pd=ts.ReactCurrentDispatcher,Tf=ts.ReactCurrentBatchConfig,Aa=0,Bt=null,fr=null,wr=null,Bd=!1,ic=!1,Lc=0,hb=0;function Or(){throw Error(je(321))}function nm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!oi(t[r],e[r]))return!1;return!0}function im(t,e,r,n,i,s){if(Aa=s,Bt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,pd.current=t===null||t.memoizedState===null?gb:vb,t=r(n,i),ic){s=0;do{if(ic=!1,Lc=0,25<=s)throw Error(je(301));s+=1,wr=fr=null,e.updateQueue=null,pd.current=yb,t=r(n,i)}while(ic)}if(pd.current=qd,e=fr!==null&&fr.next!==null,Aa=0,wr=fr=Bt=null,Bd=!1,e)throw Error(je(300));return t}function sm(){var t=Lc!==0;return Lc=0,t}function _i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Bt.memoizedState=wr=t:wr=wr.next=t,wr}function zn(){if(fr===null){var t=Bt.alternate;t=t!==null?t.memoizedState:null}else t=fr.next;var e=wr===null?Bt.memoizedState:wr.next;if(e!==null)wr=e,fr=t;else{if(t===null)throw Error(je(310));fr=t,t={memoizedState:fr.memoizedState,baseState:fr.baseState,baseQueue:fr.baseQueue,queue:fr.queue,next:null},wr===null?Bt.memoizedState=wr=t:wr=wr.next=t}return wr}function Pc(t,e){return typeof e=="function"?e(t):e}function Ff(t){var e=zn(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=fr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,c=null,d=s;do{var p=d.lane;if((Aa&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,a=n):c=c.next=m,Bt.lanes|=p,La|=p}d=d.next}while(d!==null&&d!==s);c===null?a=n:c.next=o,oi(n,e.memoizedState)||(an=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Bt.lanes|=s,La|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function zf(t){var e=zn(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);oi(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Rv(){}function Tv(t,e){var r=Bt,n=zn(),i=e(),s=!oi(n.memoizedState,i);if(s&&(n.memoizedState=i,an=!0),n=n.queue,am(Mv.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||wr!==null&&wr.memoizedState.tag&1){if(r.flags|=2048,Ec(9,zv.bind(null,r,n,i,e),void 0,null),Nr===null)throw Error(je(349));Aa&30||Fv(r,e,i)}return i}function Fv(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function zv(t,e,r,n){e.value=r,e.getSnapshot=n,Uv(e)&&Bv(t)}function Mv(t,e,r){return r(function(){Uv(e)&&Bv(t)})}function Uv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!oi(t,r)}catch{return!0}}function Bv(t){var e=Zi(t,1);e!==null&&ai(e,t,1,-1)}function Kg(t){var e=_i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pc,lastRenderedState:t},e.queue=t,t=t.dispatch=mb.bind(null,Bt,t),[e.memoizedState,t]}function Ec(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Bt.updateQueue,e===null?(e={lastEffect:null,stores:null},Bt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function qv(){return zn().memoizedState}function md(t,e,r,n){var i=_i();Bt.flags|=t,i.memoizedState=Ec(1|e,r,void 0,n===void 0?null:n)}function lh(t,e,r,n){var i=zn();n=n===void 0?null:n;var s=void 0;if(fr!==null){var a=fr.memoizedState;if(s=a.destroy,n!==null&&nm(n,a.deps)){i.memoizedState=Ec(e,r,s,n);return}}Bt.flags|=t,i.memoizedState=Ec(1|e,r,s,n)}function Yg(t,e){return md(8390656,8,t,e)}function am(t,e){return lh(2048,8,t,e)}function $v(t,e){return lh(4,2,t,e)}function Hv(t,e){return lh(4,4,t,e)}function Wv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Vv(t,e,r){return r=r!=null?r.concat([t]):null,lh(4,4,Wv.bind(null,e,t),r)}function om(){}function Gv(t,e){var r=zn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Jv(t,e){var r=zn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Kv(t,e,r){return Aa&21?(oi(r,e)||(r=ev(),Bt.lanes|=r,La|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=r)}function fb(t,e){var r=Nt;Nt=r!==0&&4>r?r:4,t(!0);var n=Tf.transition;Tf.transition={};try{t(!1),e()}finally{Nt=r,Tf.transition=n}}function Yv(){return zn().memoizedState}function pb(t,e,r){var n=Fs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Xv(t))Qv(e,r);else if(r=Iv(t,e,r,n),r!==null){var i=Gr();ai(r,t,n,i),Zv(r,e,n)}}function mb(t,e,r){var n=Fs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Xv(t))Qv(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,oi(o,a)){var c=e.interleaved;c===null?(i.next=i,Q0(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=Iv(t,e,i,n),r!==null&&(i=Gr(),ai(r,t,n,i),Zv(r,e,n))}}function Xv(t){var e=t.alternate;return t===Bt||e!==null&&e===Bt}function Qv(t,e){ic=Bd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Zv(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,z0(t,r)}}var qd={readContext:Fn,useCallback:Or,useContext:Or,useEffect:Or,useImperativeHandle:Or,useInsertionEffect:Or,useLayoutEffect:Or,useMemo:Or,useReducer:Or,useRef:Or,useState:Or,useDebugValue:Or,useDeferredValue:Or,useTransition:Or,useMutableSource:Or,useSyncExternalStore:Or,useId:Or,unstable_isNewReconciler:!1},gb={readContext:Fn,useCallback:function(t,e){return _i().memoizedState=[t,e===void 0?null:e],t},useContext:Fn,useEffect:Yg,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,md(4194308,4,Wv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return md(4194308,4,t,e)},useInsertionEffect:function(t,e){return md(4,2,t,e)},useMemo:function(t,e){var r=_i();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=_i();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=pb.bind(null,Bt,t),[n.memoizedState,t]},useRef:function(t){var e=_i();return t={current:t},e.memoizedState=t},useState:Kg,useDebugValue:om,useDeferredValue:function(t){return _i().memoizedState=t},useTransition:function(){var t=Kg(!1),e=t[0];return t=fb.bind(null,t[1]),_i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Bt,i=_i();if(zt){if(r===void 0)throw Error(je(407));r=r()}else{if(r=e(),Nr===null)throw Error(je(349));Aa&30||Fv(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Yg(Mv.bind(null,n,s,t),[t]),n.flags|=2048,Ec(9,zv.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=_i(),e=Nr.identifierPrefix;if(zt){var r=Ki,n=Ji;r=(n&~(1<<32-si(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Lc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hb++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vb={readContext:Fn,useCallback:Gv,useContext:Fn,useEffect:am,useImperativeHandle:Vv,useInsertionEffect:$v,useLayoutEffect:Hv,useMemo:Jv,useReducer:Ff,useRef:qv,useState:function(){return Ff(Pc)},useDebugValue:om,useDeferredValue:function(t){var e=zn();return Kv(e,fr.memoizedState,t)},useTransition:function(){var t=Ff(Pc)[0],e=zn().memoizedState;return[t,e]},useMutableSource:Rv,useSyncExternalStore:Tv,useId:Yv,unstable_isNewReconciler:!1},yb={readContext:Fn,useCallback:Gv,useContext:Fn,useEffect:am,useImperativeHandle:Vv,useInsertionEffect:$v,useLayoutEffect:Hv,useMemo:Jv,useReducer:zf,useRef:qv,useState:function(){return zf(Pc)},useDebugValue:om,useDeferredValue:function(t){var e=zn();return fr===null?e.memoizedState=t:Kv(e,fr.memoizedState,t)},useTransition:function(){var t=zf(Pc)[0],e=zn().memoizedState;return[t,e]},useMutableSource:Rv,useSyncExternalStore:Tv,useId:Yv,unstable_isNewReconciler:!1};function ei(t,e){if(t&&t.defaultProps){e=qt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function zp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:qt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ch={isMounted:function(t){return(t=t._reactInternals)?Ca(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Gr(),i=Fs(t),s=Yi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Rs(t,s,i),e!==null&&(ai(e,t,i,n),fd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Gr(),i=Fs(t),s=Yi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Rs(t,s,i),e!==null&&(ai(e,t,i,n),fd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Gr(),n=Fs(t),i=Yi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Rs(t,i,n),e!==null&&(ai(e,t,n,r),fd(e,t,n))}};function Xg(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Nc(r,n)||!Nc(i,s):!0}function e5(t,e,r){var n=!1,i=qs,s=e.contextType;return typeof s=="object"&&s!==null?s=Fn(s):(i=ln(e)?ja:Br.current,n=e.contextTypes,s=(n=n!=null)?Vo(t,i):qs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ch,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Qg(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ch.enqueueReplaceState(e,e.state,null)}function Mp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},Z0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Fn(s):(s=ln(e)?ja:Br.current,i.context=Vo(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zp(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ch.enqueueReplaceState(i,i.state,null),Md(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var r="",n=e;do r+=Vx(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Mf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Up(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xb=typeof WeakMap=="function"?WeakMap:Map;function t5(t,e,r){r=Yi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Hd||(Hd=!0,Yp=n),Up(t,e)},r}function r5(t,e,r){r=Yi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Up(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Up(t,e),typeof n!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function Zg(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xb;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=Ob.bind(null,t,e,r),e.then(t,t))}function e1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Yi(-1,1),e.tag=2,Rs(r,e,1))),r.lanes|=1),t)}var wb=ts.ReactCurrentOwner,an=!1;function Wr(t,e,r,n){e.child=t===null?Cv(e,null,r,n):Jo(e,t.child,r,n)}function r1(t,e,r,n,i){r=r.render;var s=e.ref;return Mo(e,i),n=im(t,e,r,n,s,i),r=sm(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,es(t,e,i)):(zt&&r&&V0(e),e.flags|=1,Wr(t,e,n,i),e.child)}function n1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!mm(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,n5(t,e,s,n,i)):(t=xd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Nc,r(a,n)&&t.ref===e.ref)return es(t,e,i)}return e.flags|=1,t=zs(s,n),t.ref=e.ref,t.return=e,e.child=t}function n5(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Nc(s,n)&&t.ref===e.ref)if(an=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,es(t,e,i)}return Bp(t,e,r,n,i)}function i5(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Oo,vn),vn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(Oo,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,It(Oo,vn),vn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,It(Oo,vn),vn|=n;return Wr(t,e,i,r),e.child}function s5(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Bp(t,e,r,n,i){var s=ln(r)?ja:Br.current;return s=Vo(e,s),Mo(e,i),r=im(t,e,r,n,s,i),n=sm(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,es(t,e,i)):(zt&&n&&V0(e),e.flags|=1,Wr(t,e,r,i),e.child)}function i1(t,e,r,n,i){if(ln(r)){var s=!0;Dd(e)}else s=!1;if(Mo(e,i),e.stateNode===null)gd(t,e),e5(e,r,n),Mp(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=Fn(d):(d=ln(r)?ja:Br.current,d=Vo(e,d));var p=r.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==d)&&Qg(e,a,n,d),_s=!1;var y=e.memoizedState;a.state=y,Md(e,n,a,i),c=e.memoizedState,o!==n||y!==c||on.current||_s?(typeof p=="function"&&(zp(e,r,p,n),c=e.memoizedState),(o=_s||Xg(e,r,o,n,y,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Ov(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:ei(e.type,o),a.props=d,m=e.pendingProps,y=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=Fn(c):(c=ln(r)?ja:Br.current,c=Vo(e,c));var f=r.getDerivedStateFromProps;(p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||y!==c)&&Qg(e,a,n,c),_s=!1,y=e.memoizedState,a.state=y,Md(e,n,a,i);var N=e.memoizedState;o!==m||y!==N||on.current||_s?(typeof f=="function"&&(zp(e,r,f,n),N=e.memoizedState),(d=_s||Xg(e,r,d,n,y,N,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,N,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,N,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=N),a.props=n,a.state=N,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return qp(t,e,r,n,s,i)}function qp(t,e,r,n,i,s){s5(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&$g(e,r,!1),es(t,e,s);n=e.stateNode,wb.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Jo(e,t.child,null,s),e.child=Jo(e,null,o,s)):Wr(t,e,o,s),e.memoizedState=n.state,i&&$g(e,r,!0),e.child}function a5(t){var e=t.stateNode;e.pendingContext?qg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qg(t,e.context,!1),em(t,e.containerInfo)}function s1(t,e,r,n,i){return Go(),J0(i),e.flags|=256,Wr(t,e,r,n),e.child}var $p={dehydrated:null,treeContext:null,retryLane:0};function Hp(t){return{baseLanes:t,cachePool:null,transitions:null}}function o5(t,e,r){var n=e.pendingProps,i=Ut.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),It(Ut,i&1),t===null)return Tp(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=hh(a,n,0,null),t=_a(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hp(r),e.memoizedState=$p,t):lm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return bb(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=zs(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=zs(o,s):(s=_a(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Hp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=$p,n}return s=t.child,t=s.sibling,n=zs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lm(t,e){return e=hh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ju(t,e,r,n){return n!==null&&J0(n),Jo(e,t.child,null,r),t=lm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function bb(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Mf(Error(je(422))),Ju(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=hh({mode:"visible",children:n.children},i,0,null),s=_a(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Jo(e,t.child,null,a),e.child.memoizedState=Hp(a),e.memoizedState=$p,s);if(!(e.mode&1))return Ju(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(je(419)),n=Mf(s,n,void 0),Ju(t,e,a,n)}if(o=(a&t.childLanes)!==0,an||o){if(n=Nr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Zi(t,i),ai(n,t,i,-1))}return pm(),n=Mf(Error(je(421))),Ju(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Db.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yn=Ds(i.nextSibling),wn=e,zt=!0,ii=null,t!==null&&(In[On++]=Ji,In[On++]=Ki,In[On++]=ka,Ji=t.id,Ki=t.overflow,ka=e),e=lm(e,n.children),e.flags|=4096,e)}function a1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fp(t.return,e,r)}function Uf(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function l5(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Wr(t,e,n.children,r),n=Ut.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&a1(t,r,e);else if(t.tag===19)a1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(It(Ut,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ud(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Uf(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ud(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Uf(e,!0,r,null,s);break;case"together":Uf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function es(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),La|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,r=zs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=zs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Nb(t,e,r){switch(e.tag){case 3:a5(e),Go();break;case 5:Dv(e);break;case 1:ln(e.type)&&Dd(e);break;case 4:em(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;It(Fd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(It(Ut,Ut.current&1),e.flags|=128,null):r&e.child.childLanes?o5(t,e,r):(It(Ut,Ut.current&1),t=es(t,e,r),t!==null?t.sibling:null);It(Ut,Ut.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return l5(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(Ut,Ut.current),n)break;return null;case 22:case 23:return e.lanes=0,i5(t,e,r)}return es(t,e,r)}var c5,Wp,u5,d5;c5=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Wp=function(){};u5=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,ba(Li.current);var s=null;switch(r){case"input":i=fp(t,i),n=fp(t,n),s=[];break;case"select":i=qt({},i,{value:void 0}),n=qt({},n,{value:void 0}),s=[];break;case"textarea":i=gp(t,i),n=gp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Id)}yp(r,n);var a;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(mc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(mc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Dt("scroll",t),s||o===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};d5=function(t,e,r,n){r!==n&&(e.flags|=4)};function $l(t,e){if(!zt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Dr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function _b(t,e,r){var n=e.pendingProps;switch(G0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dr(e),null;case 1:return ln(e.type)&&Od(),Dr(e),null;case 3:return n=e.stateNode,Ko(),Tt(on),Tt(Br),rm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Vu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(Zp(ii),ii=null))),Wp(t,e),Dr(e),null;case 5:tm(e);var i=ba(Ac.current);if(r=e.type,t!==null&&e.stateNode!=null)u5(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(je(166));return Dr(e),null}if(t=ba(Li.current),Vu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Si]=e,n[jc]=s,t=(e.mode&1)!==0,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(i=0;i<Xl.length;i++)Dt(Xl[i],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":mg(n,s),Dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Dt("invalid",n);break;case"textarea":vg(n,s),Dt("invalid",n)}yp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Wu(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Wu(n.textContent,o,t),i=["children",""+o]):mc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Dt("scroll",n)}switch(r){case"input":Fu(n),gg(n,s,!0);break;case"textarea":Fu(n),yg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Id)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=M2(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Si]=e,t[jc]=n,c5(t,e,!1,!1),e.stateNode=t;e:{switch(a=xp(r,n),r){case"dialog":Dt("cancel",t),Dt("close",t),i=n;break;case"iframe":case"object":case"embed":Dt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Xl.length;i++)Dt(Xl[i],t);i=n;break;case"source":Dt("error",t),i=n;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=n;break;case"details":Dt("toggle",t),i=n;break;case"input":mg(t,n),i=fp(t,n),Dt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=qt({},n,{value:void 0}),Dt("invalid",t);break;case"textarea":vg(t,n),i=gp(t,n),Dt("invalid",t);break;default:i=n}yp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?q2(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&U2(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&gc(t,c):typeof c=="number"&&gc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Dt("scroll",t):c!=null&&I0(t,s,c,a))}switch(r){case"input":Fu(t),gg(t,n,!1);break;case"textarea":Fu(t),yg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Bs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ro(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ro(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Id)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Dr(e),null;case 6:if(t&&e.stateNode!=null)d5(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(je(166));if(r=ba(Ac.current),ba(Li.current),Vu(e)){if(n=e.stateNode,r=e.memoizedProps,n[Si]=e,(s=n.nodeValue!==r)&&(t=wn,t!==null))switch(t.tag){case 3:Wu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Si]=e,e.stateNode=n}return Dr(e),null;case 13:if(Tt(Ut),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zt&&yn!==null&&e.mode&1&&!(e.flags&128))Pv(),Go(),e.flags|=98560,s=!1;else if(s=Vu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[Si]=e}else Go(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Dr(e),s=!1}else ii!==null&&(Zp(ii),ii=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Ut.current&1?mr===0&&(mr=3):pm())),e.updateQueue!==null&&(e.flags|=4),Dr(e),null);case 4:return Ko(),Wp(t,e),t===null&&_c(e.stateNode.containerInfo),Dr(e),null;case 10:return X0(e.type._context),Dr(e),null;case 17:return ln(e.type)&&Od(),Dr(e),null;case 19:if(Tt(Ut),s=e.memoizedState,s===null)return Dr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)$l(s,!1);else{if(mr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ud(t),a!==null){for(e.flags|=128,$l(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return It(Ut,Ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&er()>Xo&&(e.flags|=128,n=!0,$l(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ud(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),$l(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!zt)return Dr(e),null}else 2*er()-s.renderingStartTime>Xo&&r!==1073741824&&(e.flags|=128,n=!0,$l(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=er(),e.sibling=null,r=Ut.current,It(Ut,n?r&1|2:r&1),e):(Dr(e),null);case 22:case 23:return fm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?vn&1073741824&&(Dr(e),e.subtreeFlags&6&&(e.flags|=8192)):Dr(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function Sb(t,e){switch(G0(e),e.tag){case 1:return ln(e.type)&&Od(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ko(),Tt(on),Tt(Br),rm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tm(e),null;case 13:if(Tt(Ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Go()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Tt(Ut),null;case 4:return Ko(),null;case 10:return X0(e.type._context),null;case 22:case 23:return fm(),null;case 24:return null;default:return null}}var Ku=!1,Mr=!1,jb=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Io(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Jt(t,e,n)}else r.current=null}function Vp(t,e,r){try{r()}catch(n){Jt(t,e,n)}}var o1=!1;function kb(t,e){if(Pp=Pd,t=gv(),W0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,d=0,p=0,m=t,y=null;t:for(;;){for(var f;m!==r||i!==0&&m.nodeType!==3||(o=a+i),m!==s||n!==0&&m.nodeType!==3||(c=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(f=m.firstChild)!==null;)y=m,m=f;for(;;){if(m===t)break t;if(y===r&&++d===i&&(o=a),y===s&&++p===n&&(c=a),(f=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=f}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Ep={focusedElem:t,selectionRange:r},Pd=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var N=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var _=N.memoizedProps,j=N.memoizedState,w=e.stateNode,x=w.getSnapshotBeforeUpdate(e.elementType===e.type?_:ei(e.type,_),j);w.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(F){Jt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return N=o1,o1=!1,N}function sc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Vp(e,r,s)}i=i.next}while(i!==n)}}function uh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Gp(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function h5(t){var e=t.alternate;e!==null&&(t.alternate=null,h5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Si],delete e[jc],delete e[Op],delete e[lb],delete e[cb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function f5(t){return t.tag===5||t.tag===3||t.tag===4}function l1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||f5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Jp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Id));else if(n!==4&&(t=t.child,t!==null))for(Jp(t,e,r),t=t.sibling;t!==null;)Jp(t,e,r),t=t.sibling}function Kp(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Kp(t,e,r),t=t.sibling;t!==null;)Kp(t,e,r),t=t.sibling}var Ar=null,ri=!1;function gs(t,e,r){for(r=r.child;r!==null;)p5(t,e,r),r=r.sibling}function p5(t,e,r){if(Ai&&typeof Ai.onCommitFiberUnmount=="function")try{Ai.onCommitFiberUnmount(rh,r)}catch{}switch(r.tag){case 5:Mr||Io(r,e);case 6:var n=Ar,i=ri;Ar=null,gs(t,e,r),Ar=n,ri=i,Ar!==null&&(ri?(t=Ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Ar.removeChild(r.stateNode));break;case 18:Ar!==null&&(ri?(t=Ar,r=r.stateNode,t.nodeType===8?Of(t.parentNode,r):t.nodeType===1&&Of(t,r),wc(t)):Of(Ar,r.stateNode));break;case 4:n=Ar,i=ri,Ar=r.stateNode.containerInfo,ri=!0,gs(t,e,r),Ar=n,ri=i;break;case 0:case 11:case 14:case 15:if(!Mr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Vp(r,e,a),i=i.next}while(i!==n)}gs(t,e,r);break;case 1:if(!Mr&&(Io(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Jt(r,e,o)}gs(t,e,r);break;case 21:gs(t,e,r);break;case 22:r.mode&1?(Mr=(n=Mr)||r.memoizedState!==null,gs(t,e,r),Mr=n):gs(t,e,r);break;default:gs(t,e,r)}}function c1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new jb),e.forEach(function(n){var i=Rb.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Yn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Ar=o.stateNode,ri=!1;break e;case 3:Ar=o.stateNode.containerInfo,ri=!0;break e;case 4:Ar=o.stateNode.containerInfo,ri=!0;break e}o=o.return}if(Ar===null)throw Error(je(160));p5(s,a,i),Ar=null,ri=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Jt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)m5(e,t),e=e.sibling}function m5(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yn(e,t),bi(t),n&4){try{sc(3,t,t.return),uh(3,t)}catch(_){Jt(t,t.return,_)}try{sc(5,t,t.return)}catch(_){Jt(t,t.return,_)}}break;case 1:Yn(e,t),bi(t),n&512&&r!==null&&Io(r,r.return);break;case 5:if(Yn(e,t),bi(t),n&512&&r!==null&&Io(r,r.return),t.flags&32){var i=t.stateNode;try{gc(i,"")}catch(_){Jt(t,t.return,_)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&F2(i,s),xp(o,a);var d=xp(o,s);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?q2(i,m):p==="dangerouslySetInnerHTML"?U2(i,m):p==="children"?gc(i,m):I0(i,p,m,d)}switch(o){case"input":pp(i,s);break;case"textarea":z2(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ro(i,!!s.multiple,f,!1):y!==!!s.multiple&&(s.defaultValue!=null?Ro(i,!!s.multiple,s.defaultValue,!0):Ro(i,!!s.multiple,s.multiple?[]:"",!1))}i[jc]=s}catch(_){Jt(t,t.return,_)}}break;case 6:if(Yn(e,t),bi(t),n&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Jt(t,t.return,_)}}break;case 3:if(Yn(e,t),bi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wc(e.containerInfo)}catch(_){Jt(t,t.return,_)}break;case 4:Yn(e,t),bi(t);break;case 13:Yn(e,t),bi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dm=er())),n&4&&c1(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(Mr=(d=Mr)||p,Yn(e,t),Mr=d):Yn(e,t),bi(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(ze=t,p=t.child;p!==null;){for(m=ze=p;ze!==null;){switch(y=ze,f=y.child,y.tag){case 0:case 11:case 14:case 15:sc(4,y,y.return);break;case 1:Io(y,y.return);var N=y.stateNode;if(typeof N.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,N.props=e.memoizedProps,N.state=e.memoizedState,N.componentWillUnmount()}catch(_){Jt(n,r,_)}}break;case 5:Io(y,y.return);break;case 22:if(y.memoizedState!==null){d1(m);continue}}f!==null?(f.return=y,ze=f):d1(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=B2("display",a))}catch(_){Jt(t,t.return,_)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(_){Jt(t,t.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Yn(e,t),bi(t),n&4&&c1(t);break;case 21:break;default:Yn(e,t),bi(t)}}function bi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(f5(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(gc(i,""),n.flags&=-33);var s=l1(t);Kp(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=l1(t);Jp(t,o,a);break;default:throw Error(je(161))}}catch(c){Jt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ab(t,e,r){ze=t,g5(t)}function g5(t,e,r){for(var n=(t.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ku;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Mr;o=Ku;var d=Mr;if(Ku=a,(Mr=c)&&!d)for(ze=i;ze!==null;)a=ze,c=a.child,a.tag===22&&a.memoizedState!==null?h1(i):c!==null?(c.return=a,ze=c):h1(i);for(;s!==null;)ze=s,g5(s),s=s.sibling;ze=i,Ku=o,Mr=d}u1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):u1(t)}}function u1(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Mr||uh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Mr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ei(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Jg(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Jg(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&wc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Mr||e.flags&512&&Gp(e)}catch(y){Jt(e,e.return,y)}}if(e===t){ze=null;break}if(r=e.sibling,r!==null){r.return=e.return,ze=r;break}ze=e.return}}function d1(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ze=r;break}ze=e.return}}function h1(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{uh(4,e)}catch(c){Jt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Jt(e,i,c)}}var s=e.return;try{Gp(e)}catch(c){Jt(e,s,c)}break;case 5:var a=e.return;try{Gp(e)}catch(c){Jt(e,a,c)}}}catch(c){Jt(e,e.return,c)}if(e===t){ze=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ze=o;break}ze=e.return}}var Lb=Math.ceil,$d=ts.ReactCurrentDispatcher,cm=ts.ReactCurrentOwner,Rn=ts.ReactCurrentBatchConfig,pt=0,Nr=null,cr=null,Lr=0,vn=0,Oo=Gs(0),mr=0,Cc=null,La=0,dh=0,um=0,ac=null,nn=null,dm=0,Xo=1/0,Hi=null,Hd=!1,Yp=null,Ts=null,Yu=!1,Ls=null,Wd=0,oc=0,Xp=null,vd=-1,yd=0;function Gr(){return pt&6?er():vd!==-1?vd:vd=er()}function Fs(t){return t.mode&1?pt&2&&Lr!==0?Lr&-Lr:db.transition!==null?(yd===0&&(yd=ev()),yd):(t=Nt,t!==0||(t=window.event,t=t===void 0?16:ov(t.type)),t):1}function ai(t,e,r,n){if(50<oc)throw oc=0,Xp=null,Error(je(185));zc(t,r,n),(!(pt&2)||t!==Nr)&&(t===Nr&&(!(pt&2)&&(dh|=r),mr===4&&js(t,Lr)),cn(t,n),r===1&&pt===0&&!(e.mode&1)&&(Xo=er()+500,oh&&Js()))}function cn(t,e){var r=t.callbackNode;dw(t,e);var n=Ld(t,t===Nr?Lr:0);if(n===0)r!==null&&bg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&bg(r),e===1)t.tag===0?ub(f1.bind(null,t)):kv(f1.bind(null,t)),ab(function(){!(pt&6)&&Js()}),r=null;else{switch(tv(n)){case 1:r=F0;break;case 4:r=Q2;break;case 16:r=Ad;break;case 536870912:r=Z2;break;default:r=Ad}r=S5(r,v5.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function v5(t,e){if(vd=-1,yd=0,pt&6)throw Error(je(327));var r=t.callbackNode;if(Uo()&&t.callbackNode!==r)return null;var n=Ld(t,t===Nr?Lr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Vd(t,n);else{e=n;var i=pt;pt|=2;var s=x5();(Nr!==t||Lr!==e)&&(Hi=null,Xo=er()+500,Na(t,e));do try{Cb();break}catch(o){y5(t,o)}while(1);Y0(),$d.current=s,pt=i,cr!==null?e=0:(Nr=null,Lr=0,e=mr)}if(e!==0){if(e===2&&(i=Sp(t),i!==0&&(n=i,e=Qp(t,i))),e===1)throw r=Cc,Na(t,0),js(t,n),cn(t,er()),r;if(e===6)js(t,n);else{if(i=t.current.alternate,!(n&30)&&!Pb(i)&&(e=Vd(t,n),e===2&&(s=Sp(t),s!==0&&(n=s,e=Qp(t,s))),e===1))throw r=Cc,Na(t,0),js(t,n),cn(t,er()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(je(345));case 2:pa(t,nn,Hi);break;case 3:if(js(t,n),(n&130023424)===n&&(e=dm+500-er(),10<e)){if(Ld(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Gr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ip(pa.bind(null,t,nn,Hi),e);break}pa(t,nn,Hi);break;case 4:if(js(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-si(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=er()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Lb(n/1960))-n,10<n){t.timeoutHandle=Ip(pa.bind(null,t,nn,Hi),n);break}pa(t,nn,Hi);break;case 5:pa(t,nn,Hi);break;default:throw Error(je(329))}}}return cn(t,er()),t.callbackNode===r?v5.bind(null,t):null}function Qp(t,e){var r=ac;return t.current.memoizedState.isDehydrated&&(Na(t,e).flags|=256),t=Vd(t,e),t!==2&&(e=nn,nn=r,e!==null&&Zp(e)),t}function Zp(t){nn===null?nn=t:nn.push.apply(nn,t)}function Pb(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!oi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function js(t,e){for(e&=~um,e&=~dh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-si(e),n=1<<r;t[r]=-1,e&=~n}}function f1(t){if(pt&6)throw Error(je(327));Uo();var e=Ld(t,0);if(!(e&1))return cn(t,er()),null;var r=Vd(t,e);if(t.tag!==0&&r===2){var n=Sp(t);n!==0&&(e=n,r=Qp(t,n))}if(r===1)throw r=Cc,Na(t,0),js(t,e),cn(t,er()),r;if(r===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,pa(t,nn,Hi),cn(t,er()),null}function hm(t,e){var r=pt;pt|=1;try{return t(e)}finally{pt=r,pt===0&&(Xo=er()+500,oh&&Js())}}function Pa(t){Ls!==null&&Ls.tag===0&&!(pt&6)&&Uo();var e=pt;pt|=1;var r=Rn.transition,n=Nt;try{if(Rn.transition=null,Nt=1,t)return t()}finally{Nt=n,Rn.transition=r,pt=e,!(pt&6)&&Js()}}function fm(){vn=Oo.current,Tt(Oo)}function Na(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,sb(r)),cr!==null)for(r=cr.return;r!==null;){var n=r;switch(G0(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Od();break;case 3:Ko(),Tt(on),Tt(Br),rm();break;case 5:tm(n);break;case 4:Ko();break;case 13:Tt(Ut);break;case 19:Tt(Ut);break;case 10:X0(n.type._context);break;case 22:case 23:fm()}r=r.return}if(Nr=t,cr=t=zs(t.current,null),Lr=vn=e,mr=0,Cc=null,um=dh=La=0,nn=ac=null,wa!==null){for(e=0;e<wa.length;e++)if(r=wa[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}wa=null}return t}function y5(t,e){do{var r=cr;try{if(Y0(),pd.current=qd,Bd){for(var n=Bt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Bd=!1}if(Aa=0,wr=fr=Bt=null,ic=!1,Lc=0,cm.current=null,r===null||r.return===null){mr=1,Cc=e,cr=null;break}e:{var s=t,a=r.return,o=r,c=e;if(e=Lr,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=o,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var f=e1(a);if(f!==null){f.flags&=-257,t1(f,a,o,s,e),f.mode&1&&Zg(s,d,e),e=f,c=d;var N=e.updateQueue;if(N===null){var _=new Set;_.add(c),e.updateQueue=_}else N.add(c);break e}else{if(!(e&1)){Zg(s,d,e),pm();break e}c=Error(je(426))}}else if(zt&&o.mode&1){var j=e1(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),t1(j,a,o,s,e),J0(Yo(c,o));break e}}s=c=Yo(c,o),mr!==4&&(mr=2),ac===null?ac=[s]:ac.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var w=t5(s,c,e);Gg(s,w);break e;case 1:o=c;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ts===null||!Ts.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=r5(s,o,e);Gg(s,F);break e}}s=s.return}while(s!==null)}b5(r)}catch(L){e=L,cr===r&&r!==null&&(cr=r=r.return);continue}break}while(1)}function x5(){var t=$d.current;return $d.current=qd,t===null?qd:t}function pm(){(mr===0||mr===3||mr===2)&&(mr=4),Nr===null||!(La&268435455)&&!(dh&268435455)||js(Nr,Lr)}function Vd(t,e){var r=pt;pt|=2;var n=x5();(Nr!==t||Lr!==e)&&(Hi=null,Na(t,e));do try{Eb();break}catch(i){y5(t,i)}while(1);if(Y0(),pt=r,$d.current=n,cr!==null)throw Error(je(261));return Nr=null,Lr=0,mr}function Eb(){for(;cr!==null;)w5(cr)}function Cb(){for(;cr!==null&&!rw();)w5(cr)}function w5(t){var e=_5(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?b5(t):cr=e,cm.current=null}function b5(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Sb(r,e),r!==null){r.flags&=32767,cr=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{mr=6,cr=null;return}}else if(r=_b(r,e,vn),r!==null){cr=r;return}if(e=e.sibling,e!==null){cr=e;return}cr=e=t}while(e!==null);mr===0&&(mr=5)}function pa(t,e,r){var n=Nt,i=Rn.transition;try{Rn.transition=null,Nt=1,Ib(t,e,r,n)}finally{Rn.transition=i,Nt=n}return null}function Ib(t,e,r,n){do Uo();while(Ls!==null);if(pt&6)throw Error(je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(hw(t,s),t===Nr&&(cr=Nr=null,Lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Yu||(Yu=!0,S5(Ad,function(){return Uo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var a=Nt;Nt=1;var o=pt;pt|=4,cm.current=null,kb(t,r),m5(r,t),Qw(Ep),Pd=!!Pp,Ep=Pp=null,t.current=r,Ab(r),nw(),pt=o,Nt=a,Rn.transition=s}else t.current=r;if(Yu&&(Yu=!1,Ls=t,Wd=i),s=t.pendingLanes,s===0&&(Ts=null),aw(r.stateNode),cn(t,er()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hd)throw Hd=!1,t=Yp,Yp=null,t;return Wd&1&&t.tag!==0&&Uo(),s=t.pendingLanes,s&1?t===Xp?oc++:(oc=0,Xp=t):oc=0,Js(),null}function Uo(){if(Ls!==null){var t=tv(Wd),e=Rn.transition,r=Nt;try{if(Rn.transition=null,Nt=16>t?16:t,Ls===null)var n=!1;else{if(t=Ls,Ls=null,Wd=0,pt&6)throw Error(je(331));var i=pt;for(pt|=4,ze=t.current;ze!==null;){var s=ze,a=s.child;if(ze.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ze=d;ze!==null;){var p=ze;switch(p.tag){case 0:case 11:case 15:sc(8,p,s)}var m=p.child;if(m!==null)m.return=p,ze=m;else for(;ze!==null;){p=ze;var y=p.sibling,f=p.return;if(h5(p),p===d){ze=null;break}if(y!==null){y.return=f,ze=y;break}ze=f}}}var N=s.alternate;if(N!==null){var _=N.child;if(_!==null){N.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}ze=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ze=a;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:sc(9,s,s.return)}var w=s.sibling;if(w!==null){w.return=s.return,ze=w;break e}ze=s.return}}var x=t.current;for(ze=x;ze!==null;){a=ze;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ze=S;else e:for(a=x;ze!==null;){if(o=ze,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:uh(9,o)}}catch(L){Jt(o,o.return,L)}if(o===a){ze=null;break e}var F=o.sibling;if(F!==null){F.return=o.return,ze=F;break e}ze=o.return}}if(pt=i,Js(),Ai&&typeof Ai.onPostCommitFiberRoot=="function")try{Ai.onPostCommitFiberRoot(rh,t)}catch{}n=!0}return n}finally{Nt=r,Rn.transition=e}}return!1}function p1(t,e,r){e=Yo(r,e),e=t5(t,e,1),t=Rs(t,e,1),e=Gr(),t!==null&&(zc(t,1,e),cn(t,e))}function Jt(t,e,r){if(t.tag===3)p1(t,t,r);else for(;e!==null;){if(e.tag===3){p1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ts===null||!Ts.has(n))){t=Yo(r,t),t=r5(e,t,1),e=Rs(e,t,1),t=Gr(),e!==null&&(zc(e,1,t),cn(e,t));break}}e=e.return}}function Ob(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Gr(),t.pingedLanes|=t.suspendedLanes&r,Nr===t&&(Lr&r)===r&&(mr===4||mr===3&&(Lr&130023424)===Lr&&500>er()-dm?Na(t,0):um|=r),cn(t,e)}function N5(t,e){e===0&&(t.mode&1?(e=Uu,Uu<<=1,!(Uu&130023424)&&(Uu=4194304)):e=1);var r=Gr();t=Zi(t,e),t!==null&&(zc(t,e,r),cn(t,r))}function Db(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),N5(t,r)}function Rb(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(e),N5(t,r)}var _5;_5=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||on.current)an=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return an=!1,Nb(t,e,r);an=!!(t.flags&131072)}else an=!1,zt&&e.flags&1048576&&Av(e,Td,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;gd(t,e),t=e.pendingProps;var i=Vo(e,Br.current);Mo(e,r),i=im(null,e,n,t,i,r);var s=sm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ln(n)?(s=!0,Dd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Z0(e),i.updater=ch,e.stateNode=i,i._reactInternals=e,Mp(e,n,t,r),e=qp(null,e,n,!0,s,r)):(e.tag=0,zt&&s&&V0(e),Wr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(gd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=Fb(n),t=ei(n,t),i){case 0:e=Bp(null,e,n,t,r);break e;case 1:e=i1(null,e,n,t,r);break e;case 11:e=r1(null,e,n,t,r);break e;case 14:e=n1(null,e,n,ei(n.type,t),r);break e}throw Error(je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),Bp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),i1(t,e,n,i,r);case 3:e:{if(a5(e),t===null)throw Error(je(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Ov(t,e),Md(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yo(Error(je(423)),e),e=s1(t,e,n,r,i);break e}else if(n!==i){i=Yo(Error(je(424)),e),e=s1(t,e,n,r,i);break e}else for(yn=Ds(e.stateNode.containerInfo.firstChild),wn=e,zt=!0,ii=null,r=Cv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Go(),n===i){e=es(t,e,r);break e}Wr(t,e,n,r)}e=e.child}return e;case 5:return Dv(e),t===null&&Tp(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Cp(n,i)?a=null:s!==null&&Cp(n,s)&&(e.flags|=32),s5(t,e),Wr(t,e,a,r),e.child;case 6:return t===null&&Tp(e),null;case 13:return o5(t,e,r);case 4:return em(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Jo(e,null,n,r):Wr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),r1(t,e,n,i,r);case 7:return Wr(t,e,e.pendingProps,r),e.child;case 8:return Wr(t,e,e.pendingProps.children,r),e.child;case 12:return Wr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,It(Fd,n._currentValue),n._currentValue=a,s!==null)if(oi(s.value,a)){if(s.children===i.children&&!on.current){e=es(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Yi(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Fp(s.return,r,e),o.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Fp(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Wr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Mo(e,r),i=Fn(i),n=n(i),e.flags|=1,Wr(t,e,n,r),e.child;case 14:return n=e.type,i=ei(n,e.pendingProps),i=ei(n.type,i),n1(t,e,n,i,r);case 15:return n5(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),gd(t,e),e.tag=1,ln(n)?(t=!0,Dd(e)):t=!1,Mo(e,r),e5(e,n,i),Mp(e,n,i,r),qp(null,e,n,!0,t,r);case 19:return l5(t,e,r);case 22:return i5(t,e,r)}throw Error(je(156,e.tag))};function S5(t,e){return X2(t,e)}function Tb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(t,e,r,n){return new Tb(t,e,r,n)}function mm(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Fb(t){if(typeof t=="function")return mm(t)?1:0;if(t!=null){if(t=t.$$typeof,t===D0)return 11;if(t===R0)return 14}return 2}function zs(t,e){var r=t.alternate;return r===null?(r=Dn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function xd(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")mm(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _o:return _a(r.children,i,s,e);case O0:a=8,i|=8;break;case cp:return t=Dn(12,r,e,i|2),t.elementType=cp,t.lanes=s,t;case up:return t=Dn(13,r,e,i),t.elementType=up,t.lanes=s,t;case dp:return t=Dn(19,r,e,i),t.elementType=dp,t.lanes=s,t;case D2:return hh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case I2:a=10;break e;case O2:a=9;break e;case D0:a=11;break e;case R0:a=14;break e;case Ns:a=16,n=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=Dn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function _a(t,e,r,n){return t=Dn(7,t,n,e),t.lanes=r,t}function hh(t,e,r,n){return t=Dn(22,t,n,e),t.elementType=D2,t.lanes=r,t.stateNode={isHidden:!1},t}function Bf(t,e,r){return t=Dn(6,t,null,e),t.lanes=r,t}function qf(t,e,r){return e=Dn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function zb(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nf(0),this.expirationTimes=Nf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nf(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function gm(t,e,r,n,i,s,a,o,c){return t=new zb(t,e,r,o,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Dn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Z0(s),t}function Mb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function j5(t){if(!t)return qs;t=t._reactInternals;e:{if(Ca(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ln(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var r=t.type;if(ln(r))return jv(t,r,e)}return e}function k5(t,e,r,n,i,s,a,o,c){return t=gm(r,n,!0,t,i,s,a,o,c),t.context=j5(null),r=t.current,n=Gr(),i=Fs(r),s=Yi(n,i),s.callback=e??null,Rs(r,s,i),t.current.lanes=i,zc(t,i,n),cn(t,n),t}function fh(t,e,r,n){var i=e.current,s=Gr(),a=Fs(i);return r=j5(r),e.context===null?e.context=r:e.pendingContext=r,e=Yi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Rs(i,e,a),t!==null&&(ai(t,i,a,s),fd(t,i,a)),a}function Gd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function vm(t,e){m1(t,e),(t=t.alternate)&&m1(t,e)}function Ub(){return null}var A5=typeof reportError=="function"?reportError:function(t){console.error(t)};function ym(t){this._internalRoot=t}ph.prototype.render=ym.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));fh(t,e,null,null)};ph.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Pa(function(){fh(null,t,null,null)}),e[Qi]=null}};function ph(t){this._internalRoot=t}ph.prototype.unstable_scheduleHydration=function(t){if(t){var e=iv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ss.length&&e!==0&&e<Ss[r].priority;r++);Ss.splice(r,0,t),r===0&&av(t)}};function xm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g1(){}function Bb(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Gd(a);s.call(d)}}var a=k5(e,n,t,0,null,!1,!1,"",g1);return t._reactRootContainer=a,t[Qi]=a.current,_c(t.nodeType===8?t.parentNode:t),Pa(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=Gd(c);o.call(d)}}var c=gm(t,0,!1,null,null,!1,!1,"",g1);return t._reactRootContainer=c,t[Qi]=c.current,_c(t.nodeType===8?t.parentNode:t),Pa(function(){fh(e,c,r,n)}),c}function gh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=Gd(a);o.call(c)}}fh(e,a,t,i)}else a=Bb(r,e,t,i,n);return Gd(a)}rv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Yl(e.pendingLanes);r!==0&&(z0(e,r|1),cn(e,er()),!(pt&6)&&(Xo=er()+500,Js()))}break;case 13:Pa(function(){var n=Zi(t,1);if(n!==null){var i=Gr();ai(n,t,1,i)}}),vm(t,1)}};M0=function(t){if(t.tag===13){var e=Zi(t,134217728);if(e!==null){var r=Gr();ai(e,t,134217728,r)}vm(t,134217728)}};nv=function(t){if(t.tag===13){var e=Fs(t),r=Zi(t,e);if(r!==null){var n=Gr();ai(r,t,e,n)}vm(t,e)}};iv=function(){return Nt};sv=function(t,e){var r=Nt;try{return Nt=t,e()}finally{Nt=r}};bp=function(t,e,r){switch(e){case"input":if(pp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ah(n);if(!i)throw Error(je(90));T2(n),pp(n,i)}}}break;case"textarea":z2(t,r);break;case"select":e=r.value,e!=null&&Ro(t,!!r.multiple,e,!1)}};W2=hm;V2=Pa;var qb={usingClientEntryPoint:!1,Events:[Uc,Ao,ah,$2,H2,hm]},Hl={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},$b={bundleType:Hl.bundleType,version:Hl.version,rendererPackageName:Hl.rendererPackageName,rendererConfig:Hl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=K2(t),t===null?null:t.stateNode},findFiberByHostInstance:Hl.findFiberByHostInstance||Ub,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xu.isDisabled&&Xu.supportsFiber)try{rh=Xu.inject($b),Ai=Xu}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=qb;Nn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xm(e))throw Error(je(200));return Mb(t,e,null,r)};Nn.createRoot=function(t,e){if(!xm(t))throw Error(je(299));var r=!1,n="",i=A5;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=gm(t,1,!1,null,null,r,!1,n,i),t[Qi]=e.current,_c(t.nodeType===8?t.parentNode:t),new ym(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=K2(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Pa(t)};Nn.hydrate=function(t,e,r){if(!mh(e))throw Error(je(200));return gh(null,t,e,!0,r)};Nn.hydrateRoot=function(t,e,r){if(!xm(t))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=A5;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=k5(e,null,t,1,r??null,i,!1,s,a),t[Qi]=e.current,_c(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new ph(e)};Nn.render=function(t,e,r){if(!mh(e))throw Error(je(200));return gh(null,t,e,!1,r)};Nn.unmountComponentAtNode=function(t){if(!mh(t))throw Error(je(40));return t._reactRootContainer?(Pa(function(){gh(null,null,t,!1,function(){t._reactRootContainer=null,t[Qi]=null})}),!0):!1};Nn.unstable_batchedUpdates=hm;Nn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!mh(r))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return gh(t,e,r,!1,n)};Nn.version="18.3.1-next-f1338f8080-20240426";function L5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(L5)}catch(t){console.error(t)}}L5(),L2.exports=Nn;var Hb=L2.exports,v1=Hb;op.createRoot=v1.createRoot,op.hydrateRoot=v1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ic(){return Ic=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ic.apply(this,arguments)}var Ps;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ps||(Ps={}));const y1="popstate";function Wb(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return e0("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Jd(i)}return Gb(e,r,null,t)}function ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function P5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Vb(){return Math.random().toString(36).substr(2,8)}function x1(t,e){return{usr:t.state,key:t.key,idx:e}}function e0(t,e,r,n){return r===void 0&&(r=null),Ic({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rl(e):e,{state:r,key:e&&e.key||n||Vb()})}function Jd(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function rl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Gb(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Ps.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(Ic({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){o=Ps.Pop;let j=p(),w=j==null?null:j-d;d=j,c&&c({action:o,location:_.location,delta:w})}function y(j,w){o=Ps.Push;let x=e0(_.location,j,w);r&&r(x,j),d=p()+1;let S=x1(x,d),F=_.createHref(x);try{a.pushState(S,"",F)}catch(L){if(L instanceof DOMException&&L.name==="DataCloneError")throw L;i.location.assign(F)}s&&c&&c({action:o,location:_.location,delta:1})}function f(j,w){o=Ps.Replace;let x=e0(_.location,j,w);r&&r(x,j),d=p();let S=x1(x,d),F=_.createHref(x);a.replaceState(S,"",F),s&&c&&c({action:o,location:_.location,delta:0})}function N(j){let w=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof j=="string"?j:Jd(j);return x=x.replace(/ $/,"%20"),ir(w,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,w)}let _={get action(){return o},get location(){return t(i,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(y1,m),c=j,()=>{i.removeEventListener(y1,m),c=null}},createHref(j){return e(i,j)},createURL:N,encodeLocation(j){let w=N(j);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:y,replace:f,go(j){return a.go(j)}};return _}var w1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(w1||(w1={}));function Jb(t,e,r){return r===void 0&&(r="/"),Kb(t,e,r,!1)}function Kb(t,e,r,n){let i=typeof e=="string"?rl(e):e,s=wm(i.pathname||"/",r);if(s==null)return null;let a=E5(t);Yb(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=o4(s);o=s4(a[c],d,n)}return o}function E5(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(ir(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Ms([n,c.relativePath]),p=r.concat(c);s.children&&s.children.length>0&&(ir(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),E5(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:n4(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of C5(s.path))i(s,a,c)}),e}function C5(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=C5(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function Yb(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:i4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Xb=/^:[\w-]+$/,Qb=3,Zb=2,e4=1,t4=10,r4=-2,b1=t=>t==="*";function n4(t,e){let r=t.split("/"),n=r.length;return r.some(b1)&&(n+=r4),e&&(n+=Zb),r.filter(i=>!b1(i)).reduce((i,s)=>i+(Xb.test(s)?Qb:s===""?e4:t4),n)}function i4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function s4(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=N1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=N1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Ms([s,m.pathname]),pathnameBase:d4(Ms([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=Ms([s,m.pathnameBase]))}return a}function N1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=a4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,p,m)=>{let{paramName:y,isOptional:f}=p;if(y==="*"){let _=o[m]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const N=o[m];return f&&!N?d[y]=void 0:d[y]=(N||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function a4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),P5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function o4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return P5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function wm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function l4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?rl(t):t;return{pathname:r?r.startsWith("/")?r:c4(r,e):e,search:h4(n),hash:f4(i)}}function c4(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function $f(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function u4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function bm(t,e){let r=u4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Nm(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=rl(t):(i=Ic({},t),ir(!i.pathname||!i.pathname.includes("?"),$f("?","pathname","search",i)),ir(!i.pathname||!i.pathname.includes("#"),$f("#","pathname","hash",i)),ir(!i.search||!i.search.includes("#"),$f("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let m=e.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}o=m>=0?e[m]:"/"}let c=l4(i,o),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Ms=t=>t.join("/").replace(/\/\/+/g,"/"),d4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),h4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,f4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function p4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const I5=["post","put","patch","delete"];new Set(I5);const m4=["get",...I5];new Set(m4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oc(){return Oc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oc.apply(this,arguments)}const _m=oe.createContext(null),g4=oe.createContext(null),Ks=oe.createContext(null),vh=oe.createContext(null),Ys=oe.createContext({outlet:null,matches:[],isDataRoute:!1}),O5=oe.createContext(null);function v4(t,e){let{relative:r}=e===void 0?{}:e;nl()||ir(!1);let{basename:n,navigator:i}=oe.useContext(Ks),{hash:s,pathname:a,search:o}=R5(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Ms([n,a])),i.createHref({pathname:c,search:o,hash:s})}function nl(){return oe.useContext(vh)!=null}function il(){return nl()||ir(!1),oe.useContext(vh).location}function D5(t){oe.useContext(Ks).static||oe.useLayoutEffect(t)}function qc(){let{isDataRoute:t}=oe.useContext(Ys);return t?E4():y4()}function y4(){nl()||ir(!1);let t=oe.useContext(_m),{basename:e,future:r,navigator:n}=oe.useContext(Ks),{matches:i}=oe.useContext(Ys),{pathname:s}=il(),a=JSON.stringify(bm(i,r.v7_relativeSplatPath)),o=oe.useRef(!1);return D5(()=>{o.current=!0}),oe.useCallback(function(d,p){if(p===void 0&&(p={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=Nm(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Ms([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,s,t])}function R5(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=oe.useContext(Ks),{matches:i}=oe.useContext(Ys),{pathname:s}=il(),a=JSON.stringify(bm(i,n.v7_relativeSplatPath));return oe.useMemo(()=>Nm(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function x4(t,e){return w4(t,e)}function w4(t,e,r,n){nl()||ir(!1);let{navigator:i}=oe.useContext(Ks),{matches:s}=oe.useContext(Ys),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=il(),p;if(e){var m;let j=typeof e=="string"?rl(e):e;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||ir(!1),p=j}else p=d;let y=p.pathname||"/",f=y;if(c!=="/"){let j=c.replace(/^\//,"").split("/");f="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let N=Jb(t,{pathname:f}),_=j4(N&&N.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Ms([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Ms([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),s,r,n);return e&&_?oe.createElement(vh.Provider,{value:{location:Oc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Ps.Pop}},_):_}function b4(){let t=P4(),e=p4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return oe.createElement(oe.Fragment,null,oe.createElement("h2",null,"Unexpected Application Error!"),oe.createElement("h3",{style:{fontStyle:"italic"}},e),r?oe.createElement("pre",{style:i},r):null,s)}const N4=oe.createElement(b4,null);class _4 extends oe.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?oe.createElement(Ys.Provider,{value:this.props.routeContext},oe.createElement(O5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function S4(t){let{routeContext:e,match:r,children:n}=t,i=oe.useContext(_m);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),oe.createElement(Ys.Provider,{value:e},n)}function j4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let p=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);p>=0||ir(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:f}=r,N=m.route.loader&&y[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||N){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let f,N=!1,_=null,j=null;r&&(f=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||N4,c&&(d<0&&y===0?(C4("route-fallback",!1),N=!0,j=null):d===y&&(N=!0,j=m.route.hydrateFallbackElement||null)));let w=e.concat(a.slice(0,y+1)),x=()=>{let S;return f?S=_:N?S=j:m.route.Component?S=oe.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=p,oe.createElement(S4,{match:m,routeContext:{outlet:p,matches:w,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?oe.createElement(_4,{location:r.location,revalidation:r.revalidation,component:_,error:f,children:x(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):x()},null)}var T5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(T5||{}),Kd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Kd||{});function k4(t){let e=oe.useContext(_m);return e||ir(!1),e}function A4(t){let e=oe.useContext(g4);return e||ir(!1),e}function L4(t){let e=oe.useContext(Ys);return e||ir(!1),e}function F5(t){let e=L4(),r=e.matches[e.matches.length-1];return r.route.id||ir(!1),r.route.id}function P4(){var t;let e=oe.useContext(O5),r=A4(Kd.UseRouteError),n=F5(Kd.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function E4(){let{router:t}=k4(T5.UseNavigateStable),e=F5(Kd.UseNavigateStable),r=oe.useRef(!1);return D5(()=>{r.current=!0}),oe.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Oc({fromRouteId:e},s)))},[t,e])}const _1={};function C4(t,e,r){!e&&!_1[t]&&(_1[t]=!0)}function I4(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function O4(t){let{to:e,replace:r,state:n,relative:i}=t;nl()||ir(!1);let{future:s,static:a}=oe.useContext(Ks),{matches:o}=oe.useContext(Ys),{pathname:c}=il(),d=qc(),p=Nm(e,bm(o,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return oe.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:i}),[d,m,i,r,n]),null}function ws(t){ir(!1)}function D4(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ps.Pop,navigator:s,static:a=!1,future:o}=t;nl()&&ir(!1);let c=e.replace(/^\/*/,"/"),d=oe.useMemo(()=>({basename:c,navigator:s,static:a,future:Oc({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof n=="string"&&(n=rl(n));let{pathname:p="/",search:m="",hash:y="",state:f=null,key:N="default"}=n,_=oe.useMemo(()=>{let j=wm(p,c);return j==null?null:{location:{pathname:j,search:m,hash:y,state:f,key:N},navigationType:i}},[c,p,m,y,f,N,i]);return _==null?null:oe.createElement(Ks.Provider,{value:d},oe.createElement(vh.Provider,{children:r,value:_}))}function R4(t){let{children:e,location:r}=t;return x4(t0(e),r)}new Promise(()=>{});function t0(t,e){e===void 0&&(e=[]);let r=[];return oe.Children.forEach(t,(n,i)=>{if(!oe.isValidElement(n))return;let s=[...e,i];if(n.type===oe.Fragment){r.push.apply(r,t0(n.props.children,s));return}n.type!==ws&&ir(!1),!n.props.index||!n.props.children||ir(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=t0(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function r0(){return r0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},r0.apply(this,arguments)}function T4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function F4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function z4(t,e){return t.button===0&&(!e||e==="_self")&&!F4(t)}const M4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],U4="6";try{window.__reactRouterVersion=U4}catch{}const B4="startTransition",S1=Ox[B4];function q4(t){let{basename:e,children:r,future:n,window:i}=t,s=oe.useRef();s.current==null&&(s.current=Wb({window:i,v5Compat:!0}));let a=s.current,[o,c]=oe.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},p=oe.useCallback(m=>{d&&S1?S1(()=>c(m)):c(m)},[c,d]);return oe.useLayoutEffect(()=>a.listen(p),[a,p]),oe.useEffect(()=>I4(n),[n]),oe.createElement(D4,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const $4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",H4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ji=oe.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:d,preventScrollReset:p,viewTransition:m}=e,y=T4(e,M4),{basename:f}=oe.useContext(Ks),N,_=!1;if(typeof d=="string"&&H4.test(d)&&(N=d,$4))try{let S=new URL(window.location.href),F=d.startsWith("//")?new URL(S.protocol+d):new URL(d),L=wm(F.pathname,f);F.origin===S.origin&&L!=null?d=L+F.search+F.hash:_=!0}catch{}let j=v4(d,{relative:i}),w=W4(d,{replace:a,state:o,target:c,preventScrollReset:p,relative:i,viewTransition:m});function x(S){n&&n(S),S.defaultPrevented||w(S)}return oe.createElement("a",r0({},y,{href:N||j,onClick:_||s?n:x,ref:r,target:c}))});var j1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j1||(j1={}));var k1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(k1||(k1={}));function W4(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,c=qc(),d=il(),p=R5(t,{relative:a});return oe.useCallback(m=>{if(z4(m,r)){m.preventDefault();let y=n!==void 0?n:Jd(d)===Jd(p);c(t,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[d,c,p,n,i,r,t,s,a,o])}var V4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const G4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),J4=(t,e)=>{const r=oe.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...c},d)=>oe.createElement("svg",{ref:d,...V4,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${G4(t)}`,...c},[...e.map(([p,m])=>oe.createElement(p,m)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var Ot=J4;const K4=Ot("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),Yd=Ot("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),Y4=Ot("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),n0=Ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),A1=Ot("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),X4=Ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Q4=Ot("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),Z4=Ot("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Sm=Ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),L1=Ot("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),e3=Ot("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),t3=Ot("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),r3=Ot("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),jm=Ot("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),lc=Ot("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),cc=Ot("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),n3=Ot("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),i3=Ot("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),s3=Ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),P1=Ot("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Us=Ot("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),Dc=Ot("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),Qu=Ot("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),km=Ot("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),a3=Ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),li=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),o3="modulepreload",l3=function(t){return"/"+t},E1={},$s=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=l3(s),s in E1)return;E1[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!n)for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":o3,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},c3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$s(()=>Promise.resolve().then(()=>sl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Am extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class u3 extends Am{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class C1 extends Am{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class I1 extends Am{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var i0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(i0||(i0={}));var d3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class h3{constructor(e,{headers:r={},customFetch:n,region:i=i0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=c3(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return d3(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(o["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(o["Content-Type"]="application/json",p=JSON.stringify(a)));const m=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:p}).catch(_=>{throw new u3(_)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new C1(m);if(!m.ok)throw new I1(m);let f=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),N;return f==="application/json"?N=yield m.json():f==="application/octet-stream"?N=yield m.blob():f==="text/event-stream"?N=m:f==="multipart/form-data"?N=yield m.formData():N=yield m.text(),{data:N,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof I1||i instanceof C1?i.context:void 0}}})}}var sn={},Lm={},yh={},$c={},xh={},wh={},f3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Qo=f3();const p3=Qo.fetch,z5=Qo.fetch.bind(Qo),M5=Qo.Headers,m3=Qo.Request,g3=Qo.Response,sl=Object.freeze(Object.defineProperty({__proto__:null,Headers:M5,Request:m3,Response:g3,default:z5,fetch:p3},Symbol.toStringTag,{value:"Module"})),v3=vx(sl);var bh={};Object.defineProperty(bh,"__esModule",{value:!0});let y3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};bh.default=y3;var U5=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wh,"__esModule",{value:!0});const x3=U5(v3),w3=U5(bh);let b3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=x3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,c;let d=null,p=null,m=null,y=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const w=await s.text();w===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=w:p=JSON.parse(w))}const _=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");_&&j&&j.length>1&&(m=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,f="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await s.text();try{d=JSON.parse(_),Array.isArray(d)&&s.status===404&&(p=[],d=null,y=200,f="OK")}catch{s.status===404&&_===""?(y=204,f="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,y=200,f="OK"),d&&this.shouldThrowOnError)throw new w3.default(d)}return{error:d,data:p,count:m,status:y,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};wh.default=b3;var N3=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(xh,"__esModule",{value:!0});const _3=N3(wh);let S3=class extends _3.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};xh.default=S3;var j3=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty($c,"__esModule",{value:!0});const k3=j3(xh);let A3=class extends k3.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};$c.default=A3;var L3=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(yh,"__esModule",{value:!0});const Wl=L3($c);let P3=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Wl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Wl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(c.length>0){const d=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new Wl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Wl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Wl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};yh.default=P3;var Nh={},_h={};Object.defineProperty(_h,"__esModule",{value:!0});_h.version=void 0;_h.version="0.0.0-automated";Object.defineProperty(Nh,"__esModule",{value:!0});Nh.DEFAULT_HEADERS=void 0;const E3=_h;Nh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${E3.version}`};var B5=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Lm,"__esModule",{value:!0});const C3=B5(yh),I3=B5($c),O3=Nh;let D3=class q5{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},O3.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new C3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new q5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{o.searchParams.append(p,m)})):(a="POST",c=r);const d=Object.assign({},this.headers);return s&&(d.Prefer=`count=${s}`),new I3.default({method:a,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Lm.default=D3;var al=Tn&&Tn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(sn,"__esModule",{value:!0});sn.PostgrestError=sn.PostgrestBuilder=sn.PostgrestTransformBuilder=sn.PostgrestFilterBuilder=sn.PostgrestQueryBuilder=sn.PostgrestClient=void 0;const $5=al(Lm);sn.PostgrestClient=$5.default;const H5=al(yh);sn.PostgrestQueryBuilder=H5.default;const W5=al($c);sn.PostgrestFilterBuilder=W5.default;const V5=al(xh);sn.PostgrestTransformBuilder=V5.default;const G5=al(wh);sn.PostgrestBuilder=G5.default;const J5=al(bh);sn.PostgrestError=J5.default;var R3=sn.default={PostgrestClient:$5.default,PostgrestQueryBuilder:H5.default,PostgrestFilterBuilder:W5.default,PostgrestTransformBuilder:V5.default,PostgrestBuilder:G5.default,PostgrestError:J5.default};const{PostgrestClient:T3,PostgrestQueryBuilder:t6,PostgrestFilterBuilder:r6,PostgrestTransformBuilder:n6,PostgrestBuilder:i6,PostgrestError:s6}=R3;class F3{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const i=this.dynamicRequire("undici");if(i&&i.WebSocket)return{type:"native",constructor:i.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const i=this.dynamicRequire("ws");if(i)return{type:"ws",constructor:(r=i.WebSocket)!==null&&r!==void 0?r:i};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const z3="2.15.0",M3=`realtime-js/${z3}`,U3="1.0.0",s0=1e4,B3=1e3,q3=100;var uc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(uc||(uc={}));var hr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(hr||(hr={}));var ni;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(ni||(ni={}));var a0;(function(t){t.websocket="websocket"})(a0||(a0={}));var va;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(va||(va={}));class $3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const c=n.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class K5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ct;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ct||(Ct={}));const O1=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=H3(a,t,e,i),s),{})},H3=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?Y5(s,a):o0(a)},Y5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return J3(e,r)}switch(t){case Ct.bool:return W3(e);case Ct.float4:case Ct.float8:case Ct.int2:case Ct.int4:case Ct.int8:case Ct.numeric:case Ct.oid:return V3(e);case Ct.json:case Ct.jsonb:return G3(e);case Ct.timestamp:return K3(e);case Ct.abstime:case Ct.date:case Ct.daterange:case Ct.int4range:case Ct.int8range:case Ct.money:case Ct.reltime:case Ct.text:case Ct.time:case Ct.timestamptz:case Ct.timetz:case Ct.tsrange:case Ct.tstzrange:return o0(e);default:return o0(e)}},o0=t=>t,W3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},V3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},G3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},J3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Y5(e,o))}return t},K3=t=>typeof t=="string"?t.replace(" ","T"):t,X5=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Hf{constructor(e,r,n={},i=s0){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var D1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(D1||(D1={}));class dc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=dc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=dc.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=dc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(s,(d,p)=>{a[d]||(c[d]=p)}),this.map(a,(d,p)=>{const m=s[d];if(m){const y=p.map(j=>j.presence_ref),f=m.map(j=>j.presence_ref),N=p.filter(j=>f.indexOf(j.presence_ref)<0),_=m.filter(j=>y.indexOf(j.presence_ref)<0);N.length>0&&(o[d]=N),_.length>0&&(c[d]=_)}else o[d]=p}),this.syncDiff(s,{joins:o,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var d;const p=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(c),p.length>0){const m=e[o].map(f=>f.presence_ref),y=p.filter(f=>m.indexOf(f.presence_ref)<0);e[o].unshift(...y)}n(o,p,c)}),this.map(a,(o,c)=>{let d=e[o];if(!d)return;const p=c.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),e[o]=d,i(o,d,c),d.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var R1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(R1||(R1={}));var hc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hc||(hc={}));var Wi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Wi||(Wi={}));class Pm{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=hr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Hf(this,ni.join,this.params,this.timeout),this.rejoinTimer=new K5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=hr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ni.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new dc(this),this.broadcastEndpointURL=X5(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==hr.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[hc.PRESENCE]&&this.bindings[hc.PRESENCE].length>0,p={},m={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Wi.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Wi.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var f;if(this.socket.setAuth(),y===void 0){e==null||e(Wi.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,_=(f=N==null?void 0:N.length)!==null&&f!==void 0?f:0,j=[];for(let w=0;w<_;w++){const x=N[w],{filter:{event:S,schema:F,table:L,filter:M}}=x,R=y&&y[w];if(R&&R.event===S&&R.schema===F&&R.table===L&&R.filter===M)j.push(Object.assign(Object.assign({},x),{id:R.id}));else{this.unsubscribe(),this.state=hr.errored,e==null||e(Wi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Wi.SUBSCRIBED);return}}).receive("error",y=>{this.state=hr.errored,e==null||e(Wi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Wi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===hr.joined&&e===hc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ni.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Hf(this,ni.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=hr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Hf(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>q3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:d,join:p}=ni;if(n&&[o,c,d,p].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var N,_,j;return((N=f.filter)===null||N===void 0?void 0:N.event)==="*"||((j=(_=f.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(f=>f.callback(y,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var N,_,j,w,x,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const F=f.id,L=(N=f.filter)===null||N===void 0?void 0:N.event;return F&&((_=r.ids)===null||_===void 0?void 0:_.includes(F))&&(L==="*"||(L==null?void 0:L.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const F=(x=(w=f==null?void 0:f.filter)===null||w===void 0?void 0:w.event)===null||x===void 0?void 0:x.toLocaleLowerCase();return F==="*"||F===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof y=="object"&&"ids"in y){const N=y.data,{schema:_,table:j,commit_timestamp:w,type:x,errors:S}=N;y=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:w,eventType:x,new:{},old:{},errors:S}),this._getPayloadRecords(N))}f.callback(y,n)})}_isClosed(){return this.state===hr.closed}_isJoined(){return this.state===hr.joined}_isJoining(){return this.state===hr.joining}_isLeaving(){return this.state===hr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Pm.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(ni.close,{},e)}_onError(e){this._on(ni.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=O1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=O1(e.columns,e.old_record)),r}}const T1=()=>{},Zu={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Y3=[1e3,2e3,5e3,1e4],X3=1e4,Q3=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Z3{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=s0,this.transport=null,this.heartbeatIntervalMs=Zu.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=T1,this.ref=0,this.reconnectTimer=null,this.logger=T1,this.conn=null,this.sendBuffer=[],this.serializer=new $3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>$s(()=>Promise.resolve().then(()=>sl),void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${a0.websocket}`,this.httpEndpoint=X5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=F3.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:U3}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case uc.connecting:return va.Connecting;case uc.open:return va.Open;case uc.closing:return va.Closing;default:return va.Closed}}isConnected(){return this.connectionState()===va.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Pm(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(B3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},Zu.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(ni.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Q3],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:M3};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(ni.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new K5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Zu.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:s0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:Zu.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=e==null?void 0:e.reconnectAfterMs)!==null&&o!==void 0?o:p=>Y3[p-1]||X3,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(p,m)=>m(JSON.stringify(p)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Em extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function xr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class eN extends Em{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class l0 extends Em{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var tN=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const Q5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$s(()=>Promise.resolve().then(()=>sl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},rN=()=>tN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield $s(()=>Promise.resolve().then(()=>sl),void 0)).Response:Response}),c0=t=>{if(Array.isArray(t))return t.map(r=>c0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=c0(n)}),e},nN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Ia=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const Wf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iN=(t,e,r)=>Ia(void 0,void 0,void 0,function*(){const n=yield rN();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new eN(Wf(i),s,a))}).catch(i=>{e(new l0(Wf(i),i))}):e(new l0(Wf(t),t))}),sN=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(nN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Hc(t,e,r,n,i,s){return Ia(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,sN(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>iN(c,o,n))})})}function Xd(t,e,r,n){return Ia(this,void 0,void 0,function*(){return Hc(t,"GET",e,r,n)})}function Vi(t,e,r,n,i){return Ia(this,void 0,void 0,function*(){return Hc(t,"POST",e,n,i,r)})}function u0(t,e,r,n,i){return Ia(this,void 0,void 0,function*(){return Hc(t,"PUT",e,n,i,r)})}function aN(t,e,r,n){return Ia(this,void 0,void 0,function*(){return Hc(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function Z5(t,e,r,n,i){return Ia(this,void 0,void 0,function*(){return Hc(t,"DELETE",e,n,i,r)})}var rn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const oN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},F1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lN{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Q5(i)}uploadOrUpdate(e,r,n,i){return rn(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},F1),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const d=this._removeEmptyFolders(r),p=this._getFinalPath(d),m=yield(e=="PUT"?u0:Vi)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(xr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return rn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return rn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:F1.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const m=yield u0(this.fetch,o.toString(),c,{headers:p});return{data:{path:s,fullPath:m.Key},error:null}}catch(c){if(xr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return rn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Vi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Em("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}update(e,r,n){return rn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return rn(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(xr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return rn(this,void 0,void 0,function*(){try{return{data:{path:(yield Vi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(xr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return rn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Vi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(xr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return rn(this,void 0,void 0,function*(){try{const i=yield Vi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(xr(i))return{data:null,error:i};throw i}})}download(e,r){return rn(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Xd(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(xr(o))return{data:null,error:o};throw o}})}info(e){return rn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Xd(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:c0(n),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}exists(e){return rn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield aN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xr(n)&&n instanceof l0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return rn(this,void 0,void 0,function*(){try{return{data:yield Z5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}list(e,r,n){return rn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},oN),r),{prefix:e||""});return{data:yield Vi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(xr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const cN="2.10.4",uN={"X-Client-Info":`storage-js/${cN}`};var uo=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class dN{constructor(e,r={},n,i){const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},uN),r),this.fetch=Q5(n)}listBuckets(){return uo(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(xr(e))return{data:null,error:e};throw e}})}getBucket(e){return uo(this,void 0,void 0,function*(){try{return{data:yield Xd(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return uo(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return uo(this,void 0,void 0,function*(){try{return{data:yield u0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return uo(this,void 0,void 0,function*(){try{return{data:yield Vi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return uo(this,void 0,void 0,function*(){try{return{data:yield Z5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(xr(r))return{data:null,error:r};throw r}})}}class hN extends dN{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new lN(this.url,this.headers,e,this.fetch)}}const fN="2.54.0";let Ql="";typeof Deno<"u"?Ql="deno":typeof document<"u"?Ql="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ql="react-native":Ql="node";const pN={"X-Client-Info":`supabase-js-${Ql}/${fN}`},mN={headers:pN},gN={schema:"public"},vN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},yN={};var xN=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const wN=t=>{let e;return t?e=t:typeof fetch>"u"?e=z5:e=fetch,(...r)=>e(...r)},bN=()=>typeof Headers>"u"?M5:Headers,NN=(t,e,r)=>{const n=wN(r),i=bN();return(s,a)=>xN(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:d}))})};var _N=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};function SN(t){return t.endsWith("/")?t:t+"/"}function jN(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:c,auth:d,realtime:p,global:m}=e,y={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},p),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>_N(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const ey="2.71.1",yo=30*1e3,d0=3,Vf=d0*yo,kN="http://localhost:9999",AN="supabase.auth.token",LN={"X-Client-Info":`gotrue-js/${ey}`},h0="X-Supabase-Api-Version",ty={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},PN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,EN=10*60*1e3;class Cm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function it(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class CN extends Cm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function IN(t){return it(t)&&t.name==="AuthApiError"}class ry extends Cm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Xs extends Cm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class bs extends Xs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ON(t){return it(t)&&t.name==="AuthSessionMissingError"}class ed extends Xs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class td extends Xs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class rd extends Xs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function DN(t){return it(t)&&t.name==="AuthImplicitGrantRedirectError"}class z1 extends Xs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class f0 extends Xs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Gf(t){return it(t)&&t.name==="AuthRetryableFetchError"}class M1 extends Xs{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class p0 extends Xs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),U1=` 	
\r=`.split(""),RN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<U1.length;e+=1)t[U1[e].charCodeAt(0)]=-2;for(let e=0;e<Qd.length;e+=1)t[Qd[e].charCodeAt(0)]=e;return t})();function B1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qd[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Qd[n]),e.queuedBits-=6}}function ny(t,e,r){const n=RN[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function q1(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{zN(a,n,r)};for(let a=0;a<t.length;a+=1)ny(t.charCodeAt(a),i,s);return e.join("")}function TN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function FN(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}TN(n,e)}}function zN(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function MN(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)ny(t.charCodeAt(i),r,n);return new Uint8Array(e)}function UN(t){const e=[];return FN(t,r=>e.push(r)),new Uint8Array(e)}function BN(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>B1(i,r,n)),B1(null,r,n),e.join("")}function qN(t){return Math.round(Date.now()/1e3)+t}function $N(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Zn=()=>typeof window<"u"&&typeof document<"u",da={tested:!1,writable:!1},iy=()=>{if(!Zn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(da.tested)return da.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),da.tested=!0,da.writable=!0}catch{da.tested=!0,da.writable=!1}return da.writable};function HN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const sy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>$s(()=>Promise.resolve().then(()=>sl),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},WN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",xo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},ha=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},vs=async(t,e)=>{await t.removeItem(e)};class Sh{constructor(){this.promise=new Sh.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Sh.promiseConstructor=Promise;function Jf(t){const e=t.split(".");if(e.length!==3)throw new p0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!PN.test(e[n]))throw new p0("JWT not in base64url format");return{header:JSON.parse(q1(e[0])),payload:JSON.parse(q1(e[1])),signature:MN(e[2]),raw:{header:e[0],payload:e[1]}}}async function VN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GN(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function JN(t){return("0"+t.toString(16)).substr(-2)}function KN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,JN).join("")}async function YN(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function XN(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await YN(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ho(t,e,r=!1){const n=KN();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await xo(t,`${e}-code-verifier`,i);const s=await XN(n);return[s,n===s?"plain":"s256"]}const QN=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZN(t){const e=t.headers.get(h0);if(!e||!e.match(QN))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function e_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function t_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const r_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function fo(t){if(!r_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Kf(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $1(t){return JSON.parse(JSON.stringify(t))}var n_=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const ma=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),i_=[502,503,504];async function H1(t){var e;if(!WN(t))throw new f0(ma(t),0);if(i_.includes(t.status))throw new f0(ma(t),t.status);let r;try{r=await t.json()}catch(s){throw new ry(ma(s),s)}let n;const i=ZN(t);if(i&&i.getTime()>=ty["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new M1(ma(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new bs}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new M1(ma(r),t.status,r.weak_password.reasons);throw new CN(ma(r),t.status||500,n)}const s_=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function lt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[h0]||(s[h0]=ty["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await a_(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function a_(t,e,r,n,i,s){const a=s_(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new f0(ma(c),0)}if(o.ok||await H1(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await H1(c)}}function $i(t){var e;let r=null;u_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=qN(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function W1(t){const e=$i(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function ks(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function o_(t){return{data:t,error:null}}function l_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=n_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function c_(t){return t}function u_(t){return t.access_token&&t.refresh_token&&t.expires_in}const Yf=["global","local","others"];var d_=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class h_{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=sy(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Yf[0]){if(Yf.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Yf.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ks})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=d_(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:l_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(it(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:ks})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},p=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:c_});if(p.error)throw p.error;const m=await p.json(),y=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(o=p.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(N=>{const _=parseInt(N.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(N.split(";")[1].split("=")[1]);d[`${j}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(it(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){fo(e);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:ks})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){fo(e);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:ks})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){fo(e);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:ks})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){fo(e.userId);try{const{data:r,error:n}=await lt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _deleteFactor(e){fo(e.userId),fo(e.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}}function V1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function f_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const po={debug:!!(globalThis&&iy()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ay extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class p_ extends ay{}async function m_(t,e,r){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),po.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){po.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{po.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw po.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new p_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(po.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}f_();const g_={url:kN,storageKey:AN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:LN,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function G1(t,e,r){return await r()}const mo={};class Rc{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Rc.nextInstanceID,Rc.nextInstanceID+=1,this.instanceID>0&&Zn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},g_),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new h_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=sy(i.fetch),this.lock=i.lock||G1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:Zn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=m_:this.lock=G1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:iy()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=V1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=V1(this.memoryStorage)),Zn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=mo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=mo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){mo[this.storageKey]=Object.assign(Object.assign({},mo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ey}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=HN(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Zn()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),DN(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return it(r)?{error:r}:{error:new ry("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:$i}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(it(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:p,password:m,options:y}=e;let f=null,N=null;this.flowType==="pkce"&&([f,N]=await ho(this.storage,this.storageKey)),s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:f,code_challenge_method:N},xform:$i})}else if("phone"in e){const{phone:p,password:m,options:y}=e;s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:$i})}else throw new td("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(it(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:W1})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:W1})}else throw new td("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ed}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,a,o,c,d,p,m,y,f;let N,_;if("message"in e)N=e.message,_=e.signature;else{const{chain:j,wallet:w,statement:x,options:S}=e;let F;if(Zn())if(typeof w=="object")F=w;else{const M=window;if("solana"in M&&typeof M.solana=="object"&&("signIn"in M.solana&&typeof M.solana.signIn=="function"||"signMessage"in M.solana&&typeof M.solana.signMessage=="function"))F=M.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=w}const L=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const M=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:L.host,uri:L.href}),x?{statement:x}:null));let R;if(Array.isArray(M)&&M[0]&&typeof M[0]=="object")R=M[0];else if(M&&typeof M=="object"&&"signedMessage"in M&&"signature"in M)R=M;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in R&&"signature"in R&&(typeof R.signedMessage=="string"||R.signedMessage instanceof Uint8Array)&&R.signature instanceof Uint8Array)N=typeof R.signedMessage=="string"?R.signedMessage:new TextDecoder().decode(R.signedMessage),_=R.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");N=[`${L.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...x?["",x,""]:[""],"Version: 1",`URI: ${L.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(p=S==null?void 0:S.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(R=>`- ${R}`)]:[]].join(`
`);const M=await F.signMessage(new TextEncoder().encode(N),"utf8");if(!M||!(M instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=M}}try{const{data:j,error:w}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:N,signature:BN(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:$i});if(w)throw w;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new ed}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:w})}catch(j){if(it(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await ha(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:$i});if(await vs(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new ed}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(it(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:$i}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new ed}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:c}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await ho(this.storage,this.storageKey));const{error:m}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:o,options:c}=e,{data:d,error:p}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p}}throw new td("You must provide either an email or phone number.")}catch(o){if(it(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:$i});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(it(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await ho(this.storage,this.storageKey)),await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:o_})}catch(s){if(it(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new bs;const{error:i}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(it(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new td("You must provide either an email or phone number and a type")}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await ha(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Vf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await ha(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=Kf()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,p)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,p))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:ks}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bs}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:ks})})}catch(r){if(it(r))return ON(r)&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new bs;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await ho(this.storage,this.storageKey));const{data:d,error:p}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:ks});if(p)throw p;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bs;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=Jf(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(it(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new bs;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Zn())throw new rd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new rd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new z1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new rd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new z1("No code detected.");const{data:x,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:x.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:d}=e;if(!s||!o||!a||!d)throw new rd("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(o);let y=p+m;c&&(y=parseInt(c));const f=y-p;f*1e3<=yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${m}s`);const N=y-m;p-N>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",N,y,p):p-N<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",N,y,p);const{data:_,error:j}=await this._getUser(s);if(j)throw j;const w={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:y,refresh_token:a,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:e.type},error:null}}catch(n){if(it(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await ha(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(IN(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await vs(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=$N(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await ho(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(it(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,c,d,p;const{data:m,error:y}=s;if(y)throw y;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",f,{headers:this.headers,jwt:(p=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return Zn()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(it(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await GN(async i=>(i>0&&await VN(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:$i})),(i,s)=>{const a=200*Math.pow(2,i);return s&&Gf(s)&&Date.now()+a-n<yo})}catch(n){if(this._debug(r,"error",n),it(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Zn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await ha(this.storage,this.storageKey);if(i&&this.userStorage){let a=await ha(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await xo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:Kf()}else if(i&&!i.user&&!i.user){const a=await ha(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await vs(this.storage,this.storageKey+"-user"),await xo(this.storage,this.storageKey,i)):i.user=Kf()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Vf;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Vf}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),Gf(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new bs;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Sh;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new bs;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),it(s)){const a={session:null,error:s};return Gf(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await xo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=$1(i);await xo(this.storage,this.storageKey,s)}else{const i=$1(r);await xo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await vs(this.storage,this.storageKey),await vs(this.storage,this.storageKey+"-code-verifier"),await vs(this.storage,this.storageKey+"-user"),this.userStorage&&await vs(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),yo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${yo}ms, refresh threshold is ${d0} ticks`),i<=d0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ay)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await ho(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await lt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(it(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Jf(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const p=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+EN>i)return n;const{data:s,error:a}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:N}=await this.getSession();if(N||!f.session)return{data:null,error:N};n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=Jf(n);r!=null&&r.allowExpired||e_(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const p=t_(i.alg),m=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,a,UN(`${o}.${c}`)))throw new p0("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}}Rc.nextInstanceID=0;const v_=Rc;class y_ extends v_{constructor(e){super(e)}}var x_=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class w_{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=SN(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:gN,realtime:yN,auth:Object.assign(Object.assign({},vN),{storageKey:d}),global:mN},m=jN(n??{},p);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=m.global.headers)!==null&&s!==void 0?s:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,m.global.fetch),this.fetch=NN(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new T3(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new hN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new h3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return x_(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:c},d,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new y_({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:c,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Z3(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const b_=(t,e,r)=>new w_(t,e,r);function N_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}N_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const __="https://oxkdjossstzpiewqncni.supabase.co",oy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94a2Rqb3Nzc3R6cGlld3FuY25pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3NzE5MjAsImV4cCI6MjA3MDM0NzkyMH0.AaNByPLw37pgjBmOXx7_mIoPZ2KsCO3lCtoC1m8uExE",Je=b_(__,oy),J1=oy!=="placeholder-key";class jt{static async getCurrentOrganizationId(){try{const e=localStorage.getItem("authUser");if(console.log("SupabaseService: Raw user data from localStorage:",e),!e)return console.log("SupabaseService: No user data found in localStorage"),null;const r=JSON.parse(e);return console.log("SupabaseService: Parsed user object:",r),console.log("SupabaseService: User organizationId:",r.organizationId),r.organizationId||null}catch(e){return console.error("Error getting organization ID:",e),null}}static async getOrders(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await Je.from("orders").select("*").eq("organization_id",e).order("created_at",{ascending:!1});if(n)throw n;return(r==null?void 0:r.map(i=>({id:i.id,organizationId:i.organization_id,jobName:i.job_name,jobNumber:i.job_number,orderNumber:i.order_number,purchaseOrder:i.purchase_order,designerId:i.designer_id,cost:i.cost,sourceId:i.source_id,destinationName:i.destination_name,status:i.status,priority:i.priority,pickupId:i.pickup_id,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading orders:",e),[]}}static async saveOrder(e){try{console.log("SupabaseService: Attempting to save order:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.error("SupabaseService: No organization ID found"),null;const n=new Date().toISOString(),i={organization_id:r,job_name:e.jobName,job_number:e.jobNumber,order_number:e.orderNumber,purchase_order:e.purchaseOrder,designer_id:e.designerId,cost:e.cost,source_id:e.sourceId,destination_name:e.destinationName,status:e.status,priority:e.priority,pickup_id:e.pickupId,created_at:n,updated_at:n};console.log("SupabaseService: Inserting order data:",i);const{data:s,error:a}=await Je.from("orders").insert([i]).select().single();if(a)throw console.error("SupabaseService: Database error:",a),a;return console.log("SupabaseService: Order saved successfully:",s),s?{...s,organizationId:s.organization_id,jobName:s.job_name,jobNumber:s.job_number,orderNumber:s.order_number,purchaseOrder:s.purchase_order,designerId:s.designer_id,sourceId:s.source_id,destinationName:s.destination_name,pickupId:s.pickup_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("SupabaseService: Error saving order:",r),null}}static async updateOrder(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const s={updated_at:new Date().toISOString()};r.jobName!==void 0&&(s.job_name=r.jobName),r.jobNumber!==void 0&&(s.job_number=r.jobNumber),r.orderNumber!==void 0&&(s.order_number=r.orderNumber),r.purchaseOrder!==void 0&&(s.purchase_order=r.purchaseOrder),r.designerId!==void 0&&(s.designer_id=r.designerId),r.cost!==void 0&&(s.cost=r.cost),r.sourceId!==void 0&&(s.source_id=r.sourceId),r.destinationName!==void 0&&(s.destination_name=r.destinationName),r.status!==void 0&&(s.status=r.status),r.priority!==void 0&&(s.priority=r.priority),r.pickupId!==void 0&&(s.pickup_id=r.pickupId);const{data:a,error:o}=await Je.from("orders").update(s).eq("id",e).eq("organization_id",n).select().single();if(o)throw o;return a?{...a,organizationId:a.organization_id,jobName:a.job_name,jobNumber:a.job_number,orderNumber:a.order_number,purchaseOrder:a.purchase_order,designerId:a.designer_id,sourceId:a.source_id,destinationName:a.destination_name,pickupId:a.pickup_id,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}:null}catch(n){return console.error("Error updating order:",n),null}}static async deleteOrder(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await Je.from("orders").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting order:",r),!1}}static async getPickups(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await Je.from("pickups").select("*").eq("organization_id",e).order("scheduled_date",{ascending:!0});if(n)throw n;return(r==null?void 0:r.map(i=>({id:i.id,organizationId:i.organization_id,name:i.name,orders:i.orders,driverId:i.driver_id,status:i.status,priority:i.priority,scheduledDate:new Date(i.scheduled_date),createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading pickups:",e),[]}}static async savePickup(e){try{const r=await this.getCurrentOrganizationId();if(!r)return null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,orders:e.orders,driver_id:e.driverId,status:e.status,priority:e.priority,scheduled_date:e.scheduledDate.toISOString(),created_at:n,updated_at:n},{data:s,error:a}=await Je.from("pickups").insert([i]).select().single();if(a)throw a;return s?{id:s.id,organizationId:s.organization_id,name:s.name,orders:s.orders,driverId:s.driver_id,status:s.status,priority:s.priority,scheduledDate:new Date(s.scheduled_date),createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("Error saving pickup:",r),null}}static async updatePickup(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const s={updated_at:new Date().toISOString()};r.name!==void 0&&(s.name=r.name),r.orders!==void 0&&(s.orders=r.orders),r.driverId!==void 0&&(s.driver_id=r.driverId),r.status!==void 0&&(s.status=r.status),r.priority!==void 0&&(s.priority=r.priority),r.scheduledDate!==void 0&&(s.scheduled_date=r.scheduledDate.toISOString());const{data:a,error:o}=await Je.from("pickups").update(s).eq("id",e).eq("organization_id",n).select().single();if(o)throw o;return a?{id:a.id,organizationId:a.organization_id,name:a.name,orders:a.orders,driverId:a.driver_id,status:a.status,priority:a.priority,scheduledDate:new Date(a.scheduled_date),createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}:null}catch(n){return console.error("Error updating pickup:",n),null}}static async deletePickup(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await Je.from("pickups").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting pickup:",r),!1}}static async getSources(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await Je.from("sources").select("*").eq("organization_id",e).order("name",{ascending:!0});if(n)throw n;return(r==null?void 0:r.map(i=>({id:i.id,organizationId:i.organization_id,name:i.name,address:i.address,phoneNumber:i.phone_number,mainContact:i.main_contact,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading sources:",e),[]}}static async saveSource(e){try{console.log("SupabaseService: Attempting to save source:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.error("SupabaseService: No organization ID found"),null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,address:e.address,phone_number:e.phoneNumber,main_contact:e.mainContact,created_at:n,updated_at:n};console.log("SupabaseService: Inserting source data:",i);const{data:s,error:a}=await Je.from("sources").insert([i]).select().single();if(a)throw console.error("SupabaseService: Database error:",a),a;return console.log("SupabaseService: Source saved successfully:",s),s?{...s,organizationId:s.organization_id,phoneNumber:s.phone_number,mainContact:s.main_contact,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("Error saving source:",r),null}}static async updateSource(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const s={updated_at:new Date().toISOString()};r.name!==void 0&&(s.name=r.name),r.address!==void 0&&(s.address=r.address),r.phoneNumber!==void 0&&(s.phone_number=r.phoneNumber),r.mainContact!==void 0&&(s.main_contact=r.mainContact);const{data:a,error:o}=await Je.from("sources").update(s).eq("id",e).eq("organization_id",n).select().single();if(o)throw o;return a?{...a,organizationId:a.organization_id,phoneNumber:a.phone_number,mainContact:a.main_contact,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}:null}catch(n){return console.error("Error updating manufacturer:",n),null}}static async deleteSource(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await Je.from("sources").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting manufacturer:",r),!1}}static async getDesigners(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await Je.from("designers").select("*").eq("organization_id",e).order("name",{ascending:!0});if(n)throw n;return(r==null?void 0:r.map(i=>({...i,organizationId:i.organization_id,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading designers:",e),[]}}static async saveDesigner(e){try{console.log("SupabaseService: Attempting to save designer:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.error("SupabaseService: No organization ID found"),null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,email:e.email,phone:e.phone,created_at:n,updated_at:n};console.log("SupabaseService: Inserting designer data:",i);const{data:s,error:a}=await Je.from("designers").insert([i]).select().single();if(a)throw console.error("SupabaseService: Database error:",a),a;return console.log("SupabaseService: Designer saved successfully:",s),s?{...s,organizationId:s.organization_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("Error saving designer:",r),null}}static async updateDesigner(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const i=new Date().toISOString(),{data:s,error:a}=await Je.from("designers").update({...r,updated_at:i}).eq("id",e).eq("organization_id",n).select().single();if(a)throw a;return s?{...s,organizationId:s.organization_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(n){return console.error("Error updating designer:",n),null}}static async deleteDesigner(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await Je.from("designers").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting designer:",r),!1}}static async getDrivers(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await Je.from("drivers").select("*").eq("organization_id",e).order("name",{ascending:!0});if(n)throw n;return(r==null?void 0:r.map(i=>({...i,organizationId:i.organization_id,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading drivers:",e),[]}}static async saveDriver(e){try{const r=await this.getCurrentOrganizationId();if(!r)return null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,email:e.email,phone:e.phone,vehicle:e.vehicle,created_at:n,updated_at:n},{data:s,error:a}=await Je.from("drivers").insert([i]).select().single();if(a)throw a;return s?{...s,organizationId:s.organization_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("Error saving driver:",r),null}}static async updateDriver(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const i=new Date().toISOString(),{data:s,error:a}=await Je.from("drivers").update({...r,updated_at:i}).eq("id",e).eq("organization_id",n).select().single();if(a)throw a;return s?{...s,organizationId:s.organization_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(n){return console.error("Error updating driver:",n),null}}static async deleteDriver(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await Je.from("drivers").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting driver:",r),!1}}static async getOrganizationalSettings(){try{console.log("SupabaseService: Getting organizational settings...");const e=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID for settings:",e),!e)return console.log("SupabaseService: No organization ID, returning default settings"),{id:"",organizationId:"",companyName:"",companyAddress:"",companyPhone:"",logoUrl:void 0,mobileIconUrl:void 0};console.log("SupabaseService: Querying organizational_settings table...");const{data:r,error:n}=await Je.from("organizational_settings").select("*").eq("organization_id",e).single();if(console.log("SupabaseService: Query result - data:",r,"error:",n),n)throw console.error("SupabaseService: Database error:",n),n;const i=r?{id:r.id,organizationId:r.organization_id,companyName:r.company_name,companyAddress:r.company_address,companyPhone:r.company_phone,logoUrl:r.logo_url,mobileIconUrl:r.mobile_icon_url}:{id:"",organizationId:e,companyName:"",companyAddress:"",companyPhone:"",logoUrl:void 0,mobileIconUrl:void 0};return console.log("SupabaseService: Returning settings:",i),i}catch(e){return console.error("Error loading organizational settings:",e),{id:"",organizationId:"",companyName:"",companyAddress:"",companyPhone:"",logoUrl:void 0,mobileIconUrl:void 0}}}static async saveOrganizationalSettings(e){try{console.log("SupabaseService: Saving organizational settings:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.log("SupabaseService: No organization ID found"),!1;const n=new Date().toISOString(),i={organization_id:r,company_name:e.companyName,company_address:e.companyAddress,company_phone:e.companyPhone,logo_url:e.logoUrl,mobile_icon_url:e.mobileIconUrl,created_at:n,updated_at:n};if(console.log("SupabaseService: Database settings:",i),i.logo_url&&i.logo_url.length>1e6)throw console.error("SupabaseService: Logo URL is too long:",i.logo_url.length,"characters"),new Error("Logo URL is too long. Please use a smaller image.");if(i.mobile_icon_url&&i.mobile_icon_url.length>5e5)throw console.error("SupabaseService: Mobile icon URL is too long:",i.mobile_icon_url.length,"characters"),new Error("Mobile icon URL is too long. Please use a smaller image.");const{data:s,error:a}=await Je.from("organizational_settings").select("id").eq("organization_id",r).single();console.log("SupabaseService: Existing record check - data:",s,"error:",a);let o;if(s?(console.log("SupabaseService: Updating existing record with ID:",s.id),o=await Je.from("organizational_settings").update({company_name:i.company_name,company_address:i.company_address,company_phone:i.company_phone,logo_url:i.logo_url,mobile_icon_url:i.mobile_icon_url,updated_at:i.updated_at}).eq("id",s.id).select()):(console.log("SupabaseService: Inserting new record"),o=await Je.from("organizational_settings").insert([i]).select()),console.log("SupabaseService: Operation result - data:",o.data,"error:",o.error),o.error)throw console.error("SupabaseService: Database error details:",o.error),o.error;return console.log("SupabaseService: Settings saved successfully"),!0}catch(r){return console.error("Error saving organizational settings:",r),!1}}}class fc{static async getSubscriptionPlans(){try{console.log("SubscriptionService: Fetching subscription plans...");const{data:e,error:r}=await Je.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(console.log("SubscriptionService: Raw data from supabase:",e),console.log("SubscriptionService: Error from supabase:",r),r)throw r;const n=(e==null?void 0:e.map(i=>({id:i.id,name:i.name,price:i.price,currency:i.currency,interval:i.interval,features:i.features,isActive:i.is_active})))||[];if(console.log("SubscriptionService: Mapped plans:",n),n.length===0){console.log("SubscriptionService: No plans found in database, returning default plans");const i=[{id:"free-plan",name:"free",price:0,currency:"USD",interval:"month",features:{maxUsers:3,maxOrders:50,maxPickups:20,maxSources:5,maxDesigners:5,maxDrivers:3,advancedReporting:!1,apiAccess:!1,prioritySupport:!1,customBranding:!1},isActive:!0},{id:"pro-plan",name:"pro",price:29.99,currency:"USD",interval:"month",features:{maxUsers:25,maxOrders:1e3,maxPickups:500,maxSources:50,maxDesigners:50,maxDrivers:25,advancedReporting:!0,apiAccess:!0,prioritySupport:!1,customBranding:!1},isActive:!0},{id:"enterprise-plan",name:"enterprise",price:99.99,currency:"USD",interval:"month",features:{maxUsers:-1,maxOrders:-1,maxPickups:-1,maxSources:-1,maxDesigners:-1,maxDrivers:-1,advancedReporting:!0,apiAccess:!0,prioritySupport:!0,customBranding:!0},isActive:!0}];return console.log("SubscriptionService: Returning default plans:",i),i}return n}catch(e){return console.error("Error loading subscription plans:",e),console.log("SubscriptionService: Returning empty array due to error"),[]}}static async getUsageMetrics(){try{const e=localStorage.getItem("authUser");if(!e)return null;const n=JSON.parse(e).organizationId;if(!n)return null;const{data:i}=await Je.from("organizations").select("plan").eq("id",n).single();if(!i)return null;const[s,a,o]=await Promise.all([this.getUsersCount(n),this.getOrdersCount(n),this.getPickupsCount(n)]),c=this.getPlanLimits(i.plan),d=new Date,p=new Date(d.getFullYear(),d.getMonth(),1),m=new Date(d.getFullYear(),d.getMonth()+1,0);return{organizationId:n,currentPeriod:{start:p,end:m},users:{total:s,active:s,limit:c.maxUsers},orders:{total:a,limit:c.maxOrders},pickups:{total:o,limit:c.maxPickups},storage:{used:0,limit:c.maxUsers*100},lastUpdated:d}}catch(e){return console.error("Error getting usage metrics:",e),null}}static async checkUsageLimit(e){try{const r=await this.getUsageMetrics();if(!r)return{allowed:!1,reason:"Unable to verify usage limits"};switch(e){case"create_user":if(r.users.total>=r.users.limit)return{allowed:!1,reason:`User limit reached (${r.users.total}/${r.users.limit}). Upgrade your plan to add more users.`};break;case"create_order":if(r.orders.total>=r.orders.limit)return{allowed:!1,reason:`Order limit reached (${r.orders.total}/${r.orders.limit}). Upgrade your plan to create more orders.`};break;case"create_pickup":if(r.pickups.total>=r.pickups.limit)return{allowed:!1,reason:`Pickup limit reached (${r.pickups.total}/${r.pickups.limit}). Upgrade your plan to create more pickups.`};break}return{allowed:!0}}catch(r){return console.error("Error checking usage limit:",r),{allowed:!1,reason:"Error checking usage limits"}}}static async upgradePlan(e){try{const r=localStorage.getItem("authUser");if(!r)return{success:!1,error:"Not authenticated"};const n=JSON.parse(r);if(!n.organizationId)return{success:!1,error:"Organization not found"};if(n.role!=="admin")return{success:!1,error:"Only administrators can upgrade plans"};const{error:s}=await Je.from("organizations").update({plan:e,updated_at:new Date().toISOString()}).eq("id",n.organizationId);if(s)throw s;return{success:!0}}catch(r){return console.error("Error upgrading plan:",r),{success:!1,error:"Failed to upgrade plan"}}}static async getBillingHistory(){try{const e=localStorage.getItem("authUser");return e?JSON.parse(e).organizationId?[]:[]:[]}catch(e){return console.error("Error getting billing history:",e),[]}}static async getUsersCount(e){try{const{count:r,error:n}=await Je.from("users").select("*",{count:"exact",head:!0}).eq("organization_id",e).eq("is_active",!0);if(n)throw n;return r||0}catch(r){return console.error("Error counting users:",r),0}}static async getOrdersCount(e){try{const{count:r,error:n}=await Je.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e);if(n)throw n;return r||0}catch(r){return console.error("Error counting orders:",r),0}}static async getPickupsCount(e){try{const{count:r,error:n}=await Je.from("pickups").select("*",{count:"exact",head:!0}).eq("organization_id",e);if(n)throw n;return r||0}catch(r){return console.error("Error counting pickups:",r),0}}static getPlanLimits(e){switch(e){case"free":return{maxUsers:3,maxOrders:50,maxPickups:20,maxSources:5,maxDesigners:5,maxDrivers:3};case"pro":return{maxUsers:25,maxOrders:1e3,maxPickups:500,maxSources:50,maxDesigners:50,maxDrivers:25};case"enterprise":return{maxUsers:-1,maxOrders:-1,maxPickups:-1,maxSources:-1,maxDesigners:-1,maxDrivers:-1};default:return{maxUsers:3,maxOrders:50,maxPickups:20,maxSources:5,maxDesigners:5,maxDrivers:3}}}}const S_={orders:[],pickups:[],sources:[],designers:[],drivers:[],organizationalSettings:{id:"",organizationId:"",companyName:"",companyAddress:"",companyPhone:"",logoUrl:void 0,mobileIconUrl:void 0},loading:!1,error:null},j_=(t,e)=>{switch(e.type){case"SET_LOADING":return{...t,loading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_ORDERS":return{...t,orders:e.payload};case"ADD_ORDER":return{...t,orders:[e.payload,...t.orders]};case"UPDATE_ORDER":return{...t,orders:t.orders.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_ORDER":return{...t,orders:t.orders.filter(r=>r.id!==e.payload)};case"SET_PICKUPS":return{...t,pickups:e.payload};case"ADD_PICKUP":return{...t,pickups:[e.payload,...t.pickups]};case"UPDATE_PICKUP":return{...t,pickups:t.pickups.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_PICKUP":return{...t,pickups:t.pickups.filter(r=>r.id!==e.payload)};case"SET_SOURCES":return{...t,sources:e.payload};case"ADD_SOURCE":return{...t,sources:[e.payload,...t.sources]};case"UPDATE_SOURCE":return{...t,sources:t.sources.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_SOURCE":return{...t,sources:t.sources.filter(r=>r.id!==e.payload)};case"SET_DESIGNERS":return{...t,designers:e.payload};case"ADD_DESIGNER":return{...t,designers:[e.payload,...t.designers]};case"UPDATE_DESIGNER":return{...t,designers:t.designers.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_DESIGNER":return{...t,designers:t.designers.filter(r=>r.id!==e.payload)};case"SET_DRIVERS":return{...t,drivers:e.payload};case"ADD_DRIVER":return{...t,drivers:[e.payload,...t.drivers]};case"UPDATE_DRIVER":return{...t,drivers:t.drivers.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_DRIVER":return{...t,drivers:t.drivers.filter(r=>r.id!==e.payload)};case"SET_ORGANIZATIONAL_SETTINGS":return{...t,organizationalSettings:e.payload};default:return t}},ly=oe.createContext(void 0),k_=({children:t})=>{const[e,r]=oe.useReducer(j_,S_);oe.useEffect(()=>{(async()=>{console.log("OrderContext: Starting to load data..."),r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});try{if(J1){console.log("OrderContext: Loading data from Supabase...");const[M,R,O,Z,re,D]=await Promise.all([jt.getOrders(),jt.getPickups(),jt.getSources(),jt.getDesigners(),jt.getDrivers(),jt.getOrganizationalSettings()]);console.log("OrderContext: Data loaded from Supabase:",{orders:M.length,pickups:R.length,sources:O.length,designers:Z.length,drivers:re.length}),r({type:"SET_ORDERS",payload:M}),r({type:"SET_PICKUPS",payload:R}),r({type:"SET_SOURCES",payload:O}),r({type:"SET_DESIGNERS",payload:Z}),r({type:"SET_DRIVERS",payload:re}),r({type:"SET_ORGANIZATIONAL_SETTINGS",payload:D})}}catch(M){console.error("OrderContext: Error loading data:",M),r({type:"SET_ERROR",payload:"Failed to load data"})}finally{console.log("OrderContext: Finished loading data"),r({type:"SET_LOADING",payload:!1})}})()},[]);const F={...e,addOrder:async L=>{try{console.log("OrderContext: Attempting to add order:",L);const M=await fc.checkUsageLimit("create_order");if(!M.allowed)return r({type:"SET_ERROR",payload:M.reason||"Usage limit exceeded"}),null;const R=await jt.saveOrder(L);return console.log("OrderContext: Order creation result:",R),R&&(r({type:"ADD_ORDER",payload:R}),r({type:"SET_ERROR",payload:null})),R}catch(M){return console.error("OrderContext: Error adding order:",M),r({type:"SET_ERROR",payload:"Failed to add order"}),null}},updateOrder:async(L,M)=>{try{const R=await jt.updateOrder(L,M);return R&&(r({type:"UPDATE_ORDER",payload:R}),r({type:"SET_ERROR",payload:null})),R}catch(R){return console.error("Error updating order:",R),r({type:"SET_ERROR",payload:"Failed to update order"}),null}},deleteOrder:async L=>{try{const M=await jt.deleteOrder(L);return M&&(r({type:"DELETE_ORDER",payload:L}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error deleting order:",M),r({type:"SET_ERROR",payload:"Failed to delete order"}),!1}},addPickup:async L=>{try{const M=await fc.checkUsageLimit("create_pickup");if(!M.allowed)return r({type:"SET_ERROR",payload:M.reason||"Usage limit exceeded"}),null;const R=await jt.savePickup(L);return R&&(r({type:"ADD_PICKUP",payload:R}),r({type:"SET_ERROR",payload:null})),R}catch(M){return console.error("Error adding pickup:",M),r({type:"SET_ERROR",payload:"Failed to add pickup"}),null}},updatePickup:async(L,M)=>{try{const R=await jt.updatePickup(L,M);return R&&(r({type:"UPDATE_PICKUP",payload:R}),r({type:"SET_ERROR",payload:null})),R}catch(R){return console.error("Error updating pickup:",R),r({type:"SET_ERROR",payload:"Failed to update pickup"}),null}},deletePickup:async L=>{try{const M=await jt.deletePickup(L);return M&&(r({type:"DELETE_PICKUP",payload:L}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error deleting pickup:",M),r({type:"SET_ERROR",payload:"Failed to delete pickup"}),!1}},addSource:async L=>{try{const M=await jt.saveSource(L);return M&&(r({type:"ADD_SOURCE",payload:M}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error adding Source:",M),r({type:"SET_ERROR",payload:"Failed to add Source"}),null}},updateSource:async(L,M)=>{try{const R=await jt.updateSource(L,M);return R&&(r({type:"UPDATE_SOURCE",payload:R}),r({type:"SET_ERROR",payload:null})),R}catch(R){return console.error("Error updating Source:",R),r({type:"SET_ERROR",payload:"Failed to update Source"}),null}},deleteSource:async L=>{try{const M=await jt.deleteSource(L);return M&&(r({type:"DELETE_SOURCE",payload:L}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error deleting Source:",M),r({type:"SET_ERROR",payload:"Failed to delete Source"}),!1}},addDesigner:async L=>{try{const M=await jt.saveDesigner(L);return M&&(r({type:"ADD_DESIGNER",payload:M}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error adding designer:",M),r({type:"SET_ERROR",payload:"Failed to add designer"}),null}},updateDesigner:async(L,M)=>{try{const R=await jt.updateDesigner(L,M);return R&&(r({type:"UPDATE_DESIGNER",payload:R}),r({type:"SET_ERROR",payload:null})),R}catch(R){return console.error("Error updating designer:",R),r({type:"SET_ERROR",payload:"Failed to update designer"}),null}},deleteDesigner:async L=>{try{const M=await jt.deleteDesigner(L);return M&&(r({type:"DELETE_DESIGNER",payload:L}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error deleting designer:",M),r({type:"SET_ERROR",payload:"Failed to delete designer"}),!1}},addDriver:async L=>{try{const M=await jt.saveDriver(L);return M&&(r({type:"ADD_DRIVER",payload:M}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error adding driver:",M),r({type:"SET_ERROR",payload:"Failed to add driver"}),null}},updateDriver:async(L,M)=>{try{const R=await jt.updateDriver(L,M);return R&&(r({type:"UPDATE_DRIVER",payload:R}),r({type:"SET_ERROR",payload:null})),R}catch(R){return console.error("Error updating driver:",R),r({type:"SET_ERROR",payload:"Failed to update driver"}),null}},deleteDriver:async L=>{try{const M=await jt.deleteDriver(L);return M&&(r({type:"DELETE_DRIVER",payload:L}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error deleting driver:",M),r({type:"SET_ERROR",payload:"Failed to delete driver"}),!1}},updateOrganizationalSettings:async L=>{try{const M=await jt.saveOrganizationalSettings(L);return M&&(r({type:"SET_ORGANIZATIONAL_SETTINGS",payload:L}),r({type:"SET_ERROR",payload:null})),M}catch(M){return console.error("Error updating organizational settings:",M),r({type:"SET_ERROR",payload:"Failed to update organizational settings"}),!1}},refreshData:async()=>{await(async()=>{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});try{console.log("OrderContext: Loading data...");const[M,R,O,Z,re,D]=await Promise.all([jt.getOrders(),jt.getPickups(),jt.getSources(),jt.getDesigners(),jt.getDrivers(),jt.getOrganizationalSettings()]);console.log("OrderContext: Data loaded - orgSettings:",D),r({type:"SET_ORDERS",payload:M}),r({type:"SET_PICKUPS",payload:R}),r({type:"SET_SOURCES",payload:O}),r({type:"SET_DESIGNERS",payload:Z}),r({type:"SET_DRIVERS",payload:re}),r({type:"SET_ORGANIZATIONAL_SETTINGS",payload:D})}catch(M){console.error("Error refreshing data:",M),r({type:"SET_ERROR",payload:"Failed to refresh data"})}finally{r({type:"SET_LOADING",payload:!1})}})()}};return u.jsx(ly.Provider,{value:F,children:t})},_r=()=>{const t=oe.useContext(ly);if(t===void 0)throw new Error("useOrder must be used within an OrderProvider");return t},cy=oe.createContext(void 0),un=()=>{const t=oe.useContext(cy);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},A_=({children:t})=>{const[e,r]=oe.useState(null),[n,i]=oe.useState(!0);oe.useEffect(()=>{s()},[]);const s=async()=>{try{const f=localStorage.getItem("authUser");if(console.log("checkUser: storedUser exists?",!!f),f){const N=JSON.parse(f);console.log("checkUser: setting user",N),r(N),await m()}else console.log("checkUser: no stored user, setting null"),r(null)}catch(f){console.error("Error checking user:",f),r(null)}finally{i(!1)}},a=async f=>{try{const{data:N,error:_}=await Je.from("organizations").select("id").eq("slug",f.organizationSlug).eq("is_active",!0).single();if(_||!N)return{success:!1,error:"Organization not found"};const{data:j,error:w}=await Je.from("users").select("*").eq("email",f.email).eq("organization_id",N.id).eq("is_active",!0).single();if(w||!j)return{success:!1,error:"Invalid credentials"};if(j.password_hash!==f.password)return{success:!1,error:"Invalid credentials"};const x={id:j.id,organizationId:j.organization_id,email:j.email,username:j.username,firstName:j.first_name,lastName:j.last_name,role:j.role,permissions:{canManageUsers:!0,canManageBilling:!0,canViewReports:!0,canManageSettings:!0},organization:{id:N.id,name:"",slug:f.organizationSlug,plan:"free",isActive:!0,createdAt:new Date,updatedAt:new Date}};return localStorage.setItem("authUser",JSON.stringify(x)),console.log("login: setting user in state",x),r(x),await Je.from("users").update({last_login:new Date().toISOString()}).eq("id",j.id),await m(),{success:!0}}catch(N){return console.error("Login error:",N),{success:!1,error:"An unexpected error occurred"}}},o=async f=>{try{const{data:N}=await Je.from("organizations").select("id").eq("slug",f.organizationSlug).single();if(N)return{success:!1,error:"Organization slug already exists"};const{data:_,error:j}=await Je.from("organizations").insert({name:f.organizationName,slug:f.organizationSlug,plan:"free",is_active:!0}).select().single();if(j||!_)return console.error("Organization creation error:",j),{success:!1,error:`Failed to create organization: ${(j==null?void 0:j.message)||"Unknown error"}`};const{data:w,error:x}=await Je.from("users").insert({organization_id:_.id,email:f.email,username:f.username,password_hash:f.password,first_name:f.firstName,last_name:f.lastName,role:"admin",is_active:!0,email_verified:!0}).select().single();if(x||!w)return console.error("User creation error:",x),{success:!1,error:`Failed to create user: ${(x==null?void 0:x.message)||"Unknown error"}`};const{error:S}=await Je.from("organizational_settings").insert({organization_id:_.id,company_name:f.organizationName,company_address:"",company_phone:""});S&&console.error("Organizational settings creation error:",S);const F={id:w.id,organizationId:w.organization_id,email:w.email,username:w.username,firstName:w.first_name,lastName:w.last_name,role:w.role,permissions:{canManageUsers:!0,canManageBilling:!0,canViewReports:!0,canManageSettings:!0},organization:{id:_.id,name:f.organizationName,slug:f.organizationSlug,plan:"free",isActive:!0,createdAt:new Date,updatedAt:new Date}};return localStorage.setItem("authUser",JSON.stringify(F)),r(F),{success:!0}}catch(N){return console.error("Signup error:",N),{success:!1,error:"An unexpected error occurred"}}},c=async()=>{localStorage.removeItem("authUser"),r(null)},d=async f=>{try{const{data:N}=await Je.from("organizations").select("id").eq("slug",f.organizationSlug).single();if(!N)return{success:!1,error:"Organization not found"};const{data:_}=await Je.from("users").select("id").eq("email",f.email).eq("organization_id",N.id).single();if(!_)return{success:!1,error:"User not found"};const j=Math.random().toString(36).substring(2)+Date.now().toString(36),w=new Date(Date.now()+24*60*60*1e3);return await Je.from("password_reset_tokens").insert({user_id:_.id,token:j,expires_at:w.toISOString()}),console.log("Password reset token:",j),console.log("In production, send email with reset link"),{success:!0}}catch(N){return console.error("Password reset request error:",N),{success:!1,error:"An unexpected error occurred"}}},p=async f=>{try{const{data:N}=await Je.from("password_reset_tokens").select("user_id, expires_at").eq("token",f.token).eq("used",!1).single();return N?new Date(N.expires_at)<new Date?{success:!1,error:"Token has expired"}:(await Je.from("users").update({password_hash:f.password}).eq("id",N.user_id),await Je.from("password_reset_tokens").update({used:!0}).eq("token",f.token),{success:!0}):{success:!1,error:"Invalid or expired token"}}catch(N){return console.error("Password reset error:",N),{success:!1,error:"An unexpected error occurred"}}},m=async()=>{try{const f=localStorage.getItem("authUser");if(!f){r(null);return}const N=JSON.parse(f),{data:_}=await Je.from("organizations").select("*").eq("id",N.organizationId).single();if(_){const j={...N,organization:{id:_.id,name:_.name,slug:_.slug,plan:_.plan,isActive:_.is_active,createdAt:new Date(_.created_at),updatedAt:new Date(_.updated_at)}};localStorage.setItem("authUser",JSON.stringify(j)),r(j)}}catch(f){console.error("Error refreshing user:",f),r(null)}},y={user:e,loading:n,login:a,signup:o,logout:c,requestPasswordReset:d,resetPassword:p,refreshUser:m};return u.jsx(cy.Provider,{value:y,children:t})},L_=()=>{var f,N;const t=il(),e=qc(),{organizationalSettings:r}=_r(),{user:n,logout:i}=un(),[s,a]=oe.useState(!1),[o,c]=oe.useState(!1),d=oe.useRef(null),p=oe.useRef(null),m=async()=>{await i(),e("/login")};if(oe.useEffect(()=>{const _=j=>{d.current&&!d.current.contains(j.target)&&c(!1),p.current&&!p.current.contains(j.target)&&a(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),!n)return null;const y=t.pathname==="/settings"||t.pathname==="/subscription"||n.role==="admin"&&t.pathname==="/users";return u.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs(ji,{to:"/",className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[r.mobileIconUrl&&u.jsx("img",{src:r.mobileIconUrl,alt:r.companyName||"Company Icon",className:"h-8 w-8 object-contain block md:hidden",style:{maxWidth:"32px",maxHeight:"32px"}}),r.logoUrl?u.jsx("img",{src:r.logoUrl,alt:r.companyName||"Company Logo",className:`h-8 w-auto object-contain ${r.mobileIconUrl?"hidden md:block":"block"}`,style:{maxWidth:"192px",maxHeight:"32px"}}):u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(jm,{className:"h-8 w-8 text-indigo-600"}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:r.companyName||n.organization.name||"CabinetTrack"})]})]}),u.jsxs("nav",{className:"flex items-center ml-auto",style:{gap:"16px"},children:[u.jsx(ji,{to:"/",className:`inline-flex items-center p-2 rounded-md text-sm font-medium transition-colors ${t.pathname==="/"?"text-indigo-600 bg-indigo-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:u.jsx(e3,{className:"h-5 w-5"})}),u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{onClick:()=>c(!o),className:`inline-flex items-center p-2 rounded-md text-sm font-medium transition-colors ${y?"text-indigo-600 bg-indigo-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:[u.jsx(P1,{className:"h-5 w-5"}),u.jsx(n0,{className:"h-4 w-4 ml-1"})]}),o&&u.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[u.jsxs(ji,{to:"/settings",className:`block px-4 py-2 text-sm hover:bg-gray-100 ${t.pathname==="/settings"?"text-indigo-600 bg-indigo-50":"text-gray-700"}`,onClick:()=>c(!1),children:[u.jsx(P1,{className:"h-4 w-4 mr-2 inline"}),"General Settings"]}),u.jsxs(ji,{to:"/subscription",className:`block px-4 py-2 text-sm hover:bg-gray-100 ${t.pathname==="/subscription"?"text-indigo-600 bg-indigo-50":"text-gray-700"}`,onClick:()=>c(!1),children:[u.jsx(Z4,{className:"h-4 w-4 mr-2 inline"}),"Billing"]}),n.role==="admin"&&u.jsxs(ji,{to:"/users",className:`block px-4 py-2 text-sm hover:bg-gray-100 ${t.pathname==="/users"?"text-indigo-600 bg-indigo-50":"text-gray-700"}`,onClick:()=>c(!1),children:[u.jsx(a3,{className:"h-4 w-4 mr-2 inline"}),"Users"]})]})]})]}),u.jsxs("div",{className:"relative",ref:p,children:[u.jsxs("button",{onClick:()=>a(!s),className:"flex items-center space-x-2 text-sm text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 rounded-md p-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:u.jsxs("span",{className:"text-indigo-800 font-medium text-sm",children:[(f=n.firstName)==null?void 0:f[0],(N=n.lastName)==null?void 0:N[0]]})}),u.jsxs("span",{className:"hidden md:block",children:[n.firstName," ",n.lastName]}),u.jsx(n0,{className:"h-4 w-4"})]}),s&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[u.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-100",children:[u.jsxs("div",{className:"font-medium",children:[n.firstName," ",n.lastName]}),u.jsxs("div",{className:"text-gray-500",children:["@",n.username]}),u.jsx("div",{className:"text-gray-500",children:n.organization.name})]}),u.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[u.jsx(t3,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]})})})};var Kt=(t=>(t.PENDING="pending",t.IN_PROGRESS="in_progress",t.READY_FOR_PICKUP="ready_for_pickup",t.PICKED_UP="picked_up",t.IN_TRANSIT="in_transit",t.DELIVERED="delivered",t.CANCELLED="cancelled",t))(Kt||{}),Zt=(t=>(t.SCHEDULED="scheduled",t.IN_PROGRESS="in_progress",t.COMPLETED="completed",t.CANCELLED="cancelled",t.ARCHIVED="archived",t))(Zt||{}),pr=(t=>(t.LOW="low",t.STANDARD="standard",t.HIGH="high",t.URGENT="urgent",t))(pr||{}),Vr=(t=>(t.LOW="low",t.STANDARD="standard",t.HIGH="high",t.URGENT="urgent",t))(Vr||{});const P_=({order:t,isOpen:e,onClose:r,mode:n})=>{const{addOrder:i,updateOrder:s,designers:a,Sources:o}=_r(),{user:c}=un(),[d,p]=oe.useState({jobName:"",jobNumber:"",orderNumber:"",purchaseOrder:"",designerId:"",cost:"",sourceId:"",destinationName:"",status:Kt.PENDING,priority:Vr.STANDARD});oe.useEffect(()=>{p(t&&n==="edit"?{jobName:t.jobName,jobNumber:t.jobNumber,orderNumber:t.orderNumber,purchaseOrder:t.purchaseOrder,designerId:t.designerId,cost:t.cost.toString(),sourceId:t.SourceId,destinationName:t.destinationName,status:t.status,priority:t.priority}:{jobName:"",jobNumber:"",orderNumber:"",purchaseOrder:"",designerId:"",cost:"",sourceId:"",destinationName:"",status:Kt.PENDING,priority:Vr.STANDARD})},[t,n]);const m=async N=>{N.preventDefault();try{if(n==="create"){const _={organizationId:(c==null?void 0:c.organizationId)||"",id:Date.now().toString(),...d,cost:parseFloat(d.cost),createdAt:new Date,updatedAt:new Date};if(!await i(_)){alert("Failed to create order. Please try again.");return}}else if(t&&!await s(t.id,{jobName:d.jobName,jobNumber:d.jobNumber,orderNumber:d.orderNumber,purchaseOrder:d.purchaseOrder,designerId:d.designerId,cost:parseFloat(d.cost),sourceId:d.SourceId,destinationName:d.destinationName,status:d.status,priority:d.priority})){alert("Failed to update order. Please try again.");return}r()}catch(_){console.error("Error saving order:",_),alert("Failed to save order. Please try again.")}},y=N=>{const{name:_,value:j}=N.target;p(w=>({...w,[_]:j}))};if(!e)return null;const f=n==="create"?"Create New Order":"Edit Order";return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[85vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:f}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-5 w-5"})})]}),u.jsxs("form",{onSubmit:m,className:"p-4 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Name *"}),u.jsx("input",{type:"text",name:"jobName",value:d.jobName,onChange:y,required:!0,className:"input",placeholder:"Enter job name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Number *"}),u.jsx("input",{type:"text",name:"jobNumber",value:d.jobNumber,onChange:y,required:!0,className:"input",placeholder:"Enter job number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),u.jsx("input",{type:"text",name:"orderNumber",value:d.orderNumber,onChange:y,className:"input",placeholder:"Enter order number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Order"}),u.jsx("input",{type:"text",name:"purchaseOrder",value:d.purchaseOrder,onChange:y,className:"input",placeholder:"Enter purchase order"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designer *"}),u.jsxs("select",{name:"designerId",value:d.designerId,onChange:y,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select designer"}),a.map(N=>u.jsx("option",{value:N.id,children:N.name},N.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost *"}),u.jsx("input",{type:"number",name:"cost",value:d.cost,onChange:y,required:!0,step:"0.01",min:"0",className:"input",placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source *"}),u.jsxs("select",{name:"SourceId",value:d.SourceId,onChange:y,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select Source"}),sources.map(N=>u.jsx("option",{value:source.id,children:source.name},source.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination"}),u.jsx("input",{type:"text",name:"destinationName",value:d.destinationName,onChange:y,className:"input",placeholder:"Enter destination"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsx("select",{name:"status",value:d.status,onChange:y,className:"input",children:Object.values(Kt).map(N=>u.jsx("option",{value:N,children:N.replace("_"," ").replace(/\b\w/g,_=>_.toUpperCase())},N))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),u.jsx("select",{name:"priority",value:d.priority,onChange:y,className:"input",children:Object.values(Vr).map(N=>u.jsx("option",{value:N,children:N.charAt(0).toUpperCase()+N.slice(1)},N))})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",children:n==="create"?"Create Order":"Update Order"})]})]})]})})};function bt(t){"@babel/helpers - typeof";return bt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bt(t)}var Ur=Uint8Array,xn=Uint16Array,Im=Int32Array,jh=new Ur([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),kh=new Ur([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),m0=new Ur([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uy=function(t,e){for(var r=new xn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new Im(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},dy=uy(jh,2),hy=dy.b,g0=dy.r;hy[28]=258,g0[258]=28;var fy=uy(kh,0),E_=fy.b,K1=fy.r,v0=new xn(32768);for(var Rt=0;Rt<32768;++Rt){var ys=(Rt&43690)>>1|(Rt&21845)<<1;ys=(ys&52428)>>2|(ys&13107)<<2,ys=(ys&61680)>>4|(ys&3855)<<4,v0[Rt]=((ys&65280)>>8|(ys&255)<<8)>>1}var Pi=function(t,e,r){for(var n=t.length,i=0,s=new xn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new xn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new xn(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var d=i<<4|t[i],p=e-t[i],m=a[t[i]-1]++<<p,y=m|(1<<p)-1;m<=y;++m)o[v0[m]>>c]=d}else for(o=new xn(n),i=0;i<n;++i)t[i]&&(o[i]=v0[a[t[i]-1]++]>>15-t[i]);return o},Hs=new Ur(288);for(var Rt=0;Rt<144;++Rt)Hs[Rt]=8;for(var Rt=144;Rt<256;++Rt)Hs[Rt]=9;for(var Rt=256;Rt<280;++Rt)Hs[Rt]=7;for(var Rt=280;Rt<288;++Rt)Hs[Rt]=8;var Tc=new Ur(32);for(var Rt=0;Rt<32;++Rt)Tc[Rt]=5;var C_=Pi(Hs,9,0),I_=Pi(Hs,9,1),O_=Pi(Tc,5,0),D_=Pi(Tc,5,1),Xf=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Xn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Qf=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Om=function(t){return(t+7)/8|0},py=function(t,e,r){return(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length),new Ur(t.subarray(e,r))},R_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ti=function(t,e,r){var n=new Error(e||R_[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ti),!r)throw n;return n},T_=function(t,e,r,n){var i=t.length,s=n?n.length:0;if(!i||e.f&&!e.l)return r||new Ur(0);var a=!r,o=a||e.i!=2,c=e.i;a&&(r=new Ur(i*3));var d=function(ke){var Oe=r.length;if(ke>Oe){var Ee=new Ur(Math.max(Oe*2,ke));Ee.set(r),r=Ee}},p=e.f||0,m=e.p||0,y=e.b||0,f=e.l,N=e.d,_=e.m,j=e.n,w=i*8;do{if(!f){p=Xn(t,m,1);var x=Xn(t,m+1,3);if(m+=3,x)if(x==1)f=I_,N=D_,_=9,j=5;else if(x==2){var M=Xn(t,m,31)+257,R=Xn(t,m+10,15)+4,O=M+Xn(t,m+5,31)+1;m+=14;for(var Z=new Ur(O),re=new Ur(19),D=0;D<R;++D)re[m0[D]]=Xn(t,m+D*3,7);m+=R*3;for(var z=Xf(re),B=(1<<z)-1,W=Pi(re,z,1),D=0;D<O;){var he=W[Xn(t,m,B)];m+=he&15;var S=he>>4;if(S<16)Z[D++]=S;else{var ue=0,pe=0;for(S==16?(pe=3+Xn(t,m,3),m+=2,ue=Z[D-1]):S==17?(pe=3+Xn(t,m,7),m+=3):S==18&&(pe=11+Xn(t,m,127),m+=7);pe--;)Z[D++]=ue}}var G=Z.subarray(0,M),ie=Z.subarray(M);_=Xf(G),j=Xf(ie),f=Pi(G,_,1),N=Pi(ie,j,1)}else ti(1);else{var S=Om(m)+4,F=t[S-4]|t[S-3]<<8,L=S+F;if(L>i){c&&ti(0);break}o&&d(y+F),r.set(t.subarray(S,L),y),e.b=y+=F,e.p=m=L*8,e.f=p;continue}if(m>w){c&&ti(0);break}}o&&d(y+131072);for(var le=(1<<_)-1,_e=(1<<j)-1,P=m;;P=m){var ue=f[Qf(t,m)&le],q=ue>>4;if(m+=ue&15,m>w){c&&ti(0);break}if(ue||ti(2),q<256)r[y++]=q;else if(q==256){P=m,f=null;break}else{var H=q-254;if(q>264){var D=q-257,K=jh[D];H=Xn(t,m,(1<<K)-1)+hy[D],m+=K}var ee=N[Qf(t,m)&_e],ce=ee>>4;ee||ti(3),m+=ee&15;var ie=E_[ce];if(ce>3){var K=kh[ce];ie+=Qf(t,m)&(1<<K)-1,m+=K}if(m>w){c&&ti(0);break}o&&d(y+131072);var de=y+H;if(y<ie){var fe=s-ie,Ae=Math.min(ie,de);for(fe+y<0&&ti(3);y<Ae;++y)r[y]=n[fe+y]}for(;y<de;++y)r[y]=r[y-ie]}}e.l=f,e.p=P,e.b=y,e.f=p,f&&(p=1,e.m=_,e.d=N,e.n=j)}while(!p);return y!=r.length&&a?py(r,0,y):r.subarray(0,y)},qi=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Vl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Zf=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:gy,l:0};if(i==1){var a=new Ur(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(L,M){return L.f-M.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,p=1,m=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};p!=i-1;)o=r[r[d].f<r[m].f?d++:m++],c=r[d!=p&&r[d].f<r[m].f?d++:m++],r[p++]={s:-1,f:o.f+c.f,l:o,r:c};for(var y=s[0].s,n=1;n<i;++n)s[n].s>y&&(y=s[n].s);var f=new xn(y+1),N=y0(r[p-1],f,0);if(N>e){var n=0,_=0,j=N-e,w=1<<j;for(s.sort(function(M,R){return f[R.s]-f[M.s]||M.f-R.f});n<i;++n){var x=s[n].s;if(f[x]>e)_+=w-(1<<N-f[x]),f[x]=e;else break}for(_>>=j;_>0;){var S=s[n].s;f[S]<e?_-=1<<e-f[S]++-1:++n}for(;n>=0&&_;--n){var F=s[n].s;f[F]==e&&(--f[F],++_)}N=e}return{t:new Ur(f),l:N}},y0=function(t,e,r){return t.s==-1?Math.max(y0(t.l,e,r+1),y0(t.r,e,r+1)):e[t.s]=r},Y1=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new xn(++e),n=0,i=t[0],s=1,a=function(c){r[n++]=c},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Gl=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},my=function(t,e,r){var n=r.length,i=Om(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},X1=function(t,e,r,n,i,s,a,o,c,d,p){qi(e,p++,r),++i[256];for(var m=Zf(i,15),y=m.t,f=m.l,N=Zf(s,15),_=N.t,j=N.l,w=Y1(y),x=w.c,S=w.n,F=Y1(_),L=F.c,M=F.n,R=new xn(19),O=0;O<x.length;++O)++R[x[O]&31];for(var O=0;O<L.length;++O)++R[L[O]&31];for(var Z=Zf(R,7),re=Z.t,D=Z.l,z=19;z>4&&!re[m0[z-1]];--z);var B=d+5<<3,W=Gl(i,Hs)+Gl(s,Tc)+a,he=Gl(i,y)+Gl(s,_)+a+14+3*z+Gl(R,re)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&B<=W&&B<=he)return my(e,p,t.subarray(c,c+d));var ue,pe,G,ie;if(qi(e,p,1+(he<W)),p+=2,he<W){ue=Pi(y,f,0),pe=y,G=Pi(_,j,0),ie=_;var le=Pi(re,D,0);qi(e,p,S-257),qi(e,p+5,M-1),qi(e,p+10,z-4),p+=14;for(var O=0;O<z;++O)qi(e,p+3*O,re[m0[O]]);p+=3*z;for(var _e=[x,L],P=0;P<2;++P)for(var q=_e[P],O=0;O<q.length;++O){var H=q[O]&31;qi(e,p,le[H]),p+=re[H],H>15&&(qi(e,p,q[O]>>5&127),p+=q[O]>>12)}}else ue=C_,pe=Hs,G=O_,ie=Tc;for(var O=0;O<o;++O){var K=n[O];if(K>255){var H=K>>18&31;Vl(e,p,ue[H+257]),p+=pe[H+257],H>7&&(qi(e,p,K>>23&31),p+=jh[H]);var ee=K&31;Vl(e,p,G[ee]),p+=ie[ee],ee>3&&(Vl(e,p,K>>5&8191),p+=kh[ee])}else Vl(e,p,ue[K]),p+=pe[K]}return Vl(e,p,ue[256]),p+pe[256]},F_=new Im([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),gy=new Ur(0),z_=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Ur(n+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(n,o.length-i),d=s.l,p=(s.r||0)&7;if(e){p&&(c[0]=s.r>>3);for(var m=F_[e-1],y=m>>13,f=m&8191,N=(1<<r)-1,_=s.p||new xn(32768),j=s.h||new xn(N+1),w=Math.ceil(r/3),x=2*w,S=function(Ve){return(t[Ve]^t[Ve+1]<<w^t[Ve+2]<<x)&N},F=new Im(25e3),L=new xn(288),M=new xn(32),R=0,O=0,Z=s.i||0,re=0,D=s.w||0,z=0;Z+2<a;++Z){var B=S(Z),W=Z&32767,he=j[B];if(_[W]=he,j[B]=W,D<=Z){var ue=a-Z;if((R>7e3||re>24576)&&(ue>423||!d)){p=X1(t,c,0,F,L,M,O,re,z,Z-z,p),re=R=O=0,z=Z;for(var pe=0;pe<286;++pe)L[pe]=0;for(var pe=0;pe<30;++pe)M[pe]=0}var G=2,ie=0,le=f,_e=W-he&32767;if(ue>2&&B==S(Z-_e))for(var P=Math.min(y,ue)-1,q=Math.min(32767,Z),H=Math.min(258,ue);_e<=q&&--le&&W!=he;){if(t[Z+G]==t[Z+G-_e]){for(var K=0;K<H&&t[Z+K]==t[Z+K-_e];++K);if(K>G){if(G=K,ie=_e,K>P)break;for(var ee=Math.min(_e,K-2),ce=0,pe=0;pe<ee;++pe){var de=Z-_e+pe&32767,fe=_[de],Ae=de-fe&32767;Ae>ce&&(ce=Ae,he=de)}}}W=he,he=_[W],_e+=W-he&32767}if(ie){F[re++]=268435456|g0[G]<<18|K1[ie];var ke=g0[G]&31,Oe=K1[ie]&31;O+=jh[ke]+kh[Oe],++L[257+ke],++M[Oe],D=Z+G,++R}else F[re++]=t[Z],++L[t[Z]]}}for(Z=Math.max(Z,D);Z<a;++Z)F[re++]=t[Z],++L[t[Z]];p=X1(t,c,d,F,L,M,O,re,z,Z-z,p),d||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=j,s.p=_,s.i=Z,s.w=D)}else{for(var Z=s.w||0;Z<a+d;Z+=65535){var Ee=Z+65535;Ee>=a&&(c[p/8|0]=d,Ee=a),p=my(c,p+1,t.subarray(Z,Ee))}s.i=a}return py(o,0,n+Om(p)+i)},vy=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},M_=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Ur(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return z_(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},yy=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},U_=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=vy();i.p(e.dictionary),yy(t,2,i.d())}},B_=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ti(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&ti(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function x0(t,e){e||(e={});var r=vy();r.p(t);var n=M_(t,e,e.dictionary?6:2,4);return U_(n,e),yy(n,n.length-4,r.d()),n}function q_(t,e){return T_(t.subarray(B_(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var $_=typeof TextDecoder<"u"&&new TextDecoder,H_=0;try{$_.decode(gy,{stream:!0}),H_=1}catch{}var Ge=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function ep(){Ge.console&&typeof Ge.console.log=="function"&&Ge.console.log.apply(Ge.console,arguments)}var Lt={log:ep,warn:function(t){Ge.console&&(typeof Ge.console.warn=="function"?Ge.console.warn.apply(Ge.console,arguments):ep.call(null,arguments))},error:function(t){Ge.console&&(typeof Ge.console.error=="function"?Ge.console.error.apply(Ge.console,arguments):ep(t))}};function tp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){ga(n.response,e,r)},n.onerror=function(){Lt.error("could not download file")},n.send()}function Q1(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function nd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var pc,w0,ga=Ge.saveAs||((typeof window>"u"?"undefined":bt(window))!=="object"||window!==Ge?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ge.URL||Ge.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Q1(i.href)?tp(t,e,r):nd(i,i.target="_blank"):nd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){nd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Q1(t))tp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){nd(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:bt(s)!=="object"&&(Lt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return tp(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ge.HTMLElement)||Ge.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":bt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var p=o.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},o.readAsDataURL(t)}else{var c=Ge.URL||Ge.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function xy(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function rp(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Rr(r,n,i,s,e[0],7,-680876936),s=Rr(s,r,n,i,e[1],12,-389564586),i=Rr(i,s,r,n,e[2],17,606105819),n=Rr(n,i,s,r,e[3],22,-1044525330),r=Rr(r,n,i,s,e[4],7,-176418897),s=Rr(s,r,n,i,e[5],12,1200080426),i=Rr(i,s,r,n,e[6],17,-1473231341),n=Rr(n,i,s,r,e[7],22,-45705983),r=Rr(r,n,i,s,e[8],7,1770035416),s=Rr(s,r,n,i,e[9],12,-1958414417),i=Rr(i,s,r,n,e[10],17,-42063),n=Rr(n,i,s,r,e[11],22,-1990404162),r=Rr(r,n,i,s,e[12],7,1804603682),s=Rr(s,r,n,i,e[13],12,-40341101),i=Rr(i,s,r,n,e[14],17,-1502002290),r=Tr(r,n=Rr(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Tr(s,r,n,i,e[6],9,-1069501632),i=Tr(i,s,r,n,e[11],14,643717713),n=Tr(n,i,s,r,e[0],20,-373897302),r=Tr(r,n,i,s,e[5],5,-701558691),s=Tr(s,r,n,i,e[10],9,38016083),i=Tr(i,s,r,n,e[15],14,-660478335),n=Tr(n,i,s,r,e[4],20,-405537848),r=Tr(r,n,i,s,e[9],5,568446438),s=Tr(s,r,n,i,e[14],9,-1019803690),i=Tr(i,s,r,n,e[3],14,-187363961),n=Tr(n,i,s,r,e[8],20,1163531501),r=Tr(r,n,i,s,e[13],5,-1444681467),s=Tr(s,r,n,i,e[2],9,-51403784),i=Tr(i,s,r,n,e[7],14,1735328473),r=Fr(r,n=Tr(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Fr(s,r,n,i,e[8],11,-2022574463),i=Fr(i,s,r,n,e[11],16,1839030562),n=Fr(n,i,s,r,e[14],23,-35309556),r=Fr(r,n,i,s,e[1],4,-1530992060),s=Fr(s,r,n,i,e[4],11,1272893353),i=Fr(i,s,r,n,e[7],16,-155497632),n=Fr(n,i,s,r,e[10],23,-1094730640),r=Fr(r,n,i,s,e[13],4,681279174),s=Fr(s,r,n,i,e[0],11,-358537222),i=Fr(i,s,r,n,e[3],16,-722521979),n=Fr(n,i,s,r,e[6],23,76029189),r=Fr(r,n,i,s,e[9],4,-640364487),s=Fr(s,r,n,i,e[12],11,-421815835),i=Fr(i,s,r,n,e[15],16,530742520),r=zr(r,n=Fr(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=zr(s,r,n,i,e[7],10,1126891415),i=zr(i,s,r,n,e[14],15,-1416354905),n=zr(n,i,s,r,e[5],21,-57434055),r=zr(r,n,i,s,e[12],6,1700485571),s=zr(s,r,n,i,e[3],10,-1894986606),i=zr(i,s,r,n,e[10],15,-1051523),n=zr(n,i,s,r,e[1],21,-2054922799),r=zr(r,n,i,s,e[8],6,1873313359),s=zr(s,r,n,i,e[15],10,-30611744),i=zr(i,s,r,n,e[6],15,-1560198380),n=zr(n,i,s,r,e[13],21,1309151649),r=zr(r,n,i,s,e[4],6,-145523070),s=zr(s,r,n,i,e[11],10,-1120210379),i=zr(i,s,r,n,e[2],15,718787259),n=zr(n,i,s,r,e[9],21,-343485551),t[0]=Es(r,t[0]),t[1]=Es(n,t[1]),t[2]=Es(i,t[2]),t[3]=Es(s,t[3])}function Ah(t,e,r,n,i,s){return e=Es(Es(e,t),Es(n,s)),Es(e<<i|e>>>32-i,r)}function Rr(t,e,r,n,i,s,a){return Ah(e&r|~e&n,t,e,i,s,a)}function Tr(t,e,r,n,i,s,a){return Ah(e&n|r&~n,t,e,i,s,a)}function Fr(t,e,r,n,i,s,a){return Ah(e^r^n,t,e,i,s,a)}function zr(t,e,r,n,i,s,a){return Ah(r^(e|~n),t,e,i,s,a)}function wy(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)rp(n,W_(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(rp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,rp(n,i),n}function W_(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}pc=Ge.atob.bind(Ge),w0=Ge.btoa.bind(Ge);var Z1="0123456789abcdef".split("");function V_(t){for(var e="",r=0;r<4;r++)e+=Z1[t>>8*r+4&15]+Z1[t>>8*r&15];return e}function G_(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function b0(t){return wy(t).map(G_).join("")}var J_=function(t){for(var e=0;e<t.length;e++)t[e]=V_(t[e]);return t.join("")}(wy("hello"))!="5d41402abc4b2a76b9719d911017c592";function Es(t,e){if(J_){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function N0(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var p=o[c];d=(d+p+a.charCodeAt(c))%256,o[c]=o[d],o[d]=p}r=t,n=o}else o=n;var m=e.length,y=0,f=0,N="";for(c=0;c<m;c++)f=(f+(p=o[y=(y+1)%256]))%256,o[y]=o[f],o[f]=p,a=o[(o[y]+o[f])%256],N+=String.fromCharCode(e.charCodeAt(c)^a);return N}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var e2={print:4,modify:8,copy:16,"annot-forms":32};function wo(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(e2.perm!==void 0)throw new Error("Invalid permission: "+o);i+=e2[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=b0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=N0(this.encryptionKey,this.padding)}function bo(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function t2(t){if(bt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Ge.console&&Lt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Zd(t){if(!(this instanceof Zd))return new Zd(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function by(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function ya(t,e,r,n,i){if(!(this instanceof ya))return new ya(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,by.call(this,n,i)}function Do(t,e,r,n,i){if(!(this instanceof Do))return new Do(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,by.call(this,n,i)}function He(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,d="S",p=null;bt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},f={internal:{},__private__:{}};f.__private__.PubSub=t2;var N="1.3",_=f.__private__.getPdfVersion=function(){return N};f.__private__.setPdfVersion=function(g){N=g};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return j};var w=f.__private__.getPageFormat=function(g){return j[g]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},S=x.COMPAT;function F(){this.saveGraphicsState(),V(new We(Re,0,0,-Re,0,is()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),d="n",S=x.ADVANCED}function L(){this.restoreGraphicsState(),d="S",S=x.COMPAT}var M=f.__private__.combineFontStyleAndFontWeight=function(g,A){if(g=="bold"&&A=="normal"||g=="bold"&&A==400||g=="normal"&&A=="italic"||g=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(g=A==400||A==="normal"?g==="italic"?"italic":"normal":A!=700&&A!=="bold"||g!=="normal"?(A==700?"bold":A)+""+g:"bold"),g};f.advancedAPI=function(g){var A=S===x.COMPAT;return A&&F.call(this),typeof g!="function"||(g(this),A&&L.call(this)),this},f.compatAPI=function(g){var A=S===x.ADVANCED;return A&&L.call(this),typeof g!="function"||(g(this),A&&F.call(this)),this},f.isAdvancedAPI=function(){return S===x.ADVANCED};var R,O=function(g){if(S!==x.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Z=f.roundToPrecision=f.__private__.roundToPrecision=function(g,A){var $=e||A;if(isNaN(g)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed($).replace(/0+$/,"")};R=f.hpf=f.__private__.hpf=typeof c=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,c)}:c==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return Z(g,16)};var re=f.f2=f.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return Z(g,2)},D=f.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return Z(g,3)},z=f.scale=f.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return S===x.COMPAT?g*Re:S===x.ADVANCED?g:void 0},B=function(g){return S===x.COMPAT?is()-g:S===x.ADVANCED?g:void 0},W=function(g){return z(B(g))};f.__private__.setPrecision=f.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var he,ue="00000000000000000000000000000000",pe=f.__private__.getFileId=function(){return ue},G=f.__private__.setFileId=function(g){return ue=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Cr=new wo(p.userPermissions,p.userPassword,p.ownerPassword,ue)),ue};f.setFileId=function(g){return G(g),this},f.getFileId=function(){return pe()};var ie=f.__private__.convertDateToPDFDate=function(g){var A=g.getTimezoneOffset(),$=A<0?"+":"-",J=Math.floor(Math.abs(A/60)),ne=Math.abs(A%60),ge=[$,H(J),"'",H(ne),"'"].join("");return["D:",g.getFullYear(),H(g.getMonth()+1),H(g.getDate()),H(g.getHours()),H(g.getMinutes()),H(g.getSeconds()),ge].join("")},le=f.__private__.convertPDFDateToDate=function(g){var A=parseInt(g.substr(2,4),10),$=parseInt(g.substr(6,2),10)-1,J=parseInt(g.substr(8,2),10),ne=parseInt(g.substr(10,2),10),ge=parseInt(g.substr(12,2),10),Ne=parseInt(g.substr(14,2),10);return new Date(A,$,J,ne,ge,Ne,0)},_e=f.__private__.setCreationDate=function(g){var A;if(g===void 0&&(g=new Date),g instanceof Date)A=ie(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=g}return he=A},P=f.__private__.getCreationDate=function(g){var A=he;return g==="jsDate"&&(A=le(he)),A};f.setCreationDate=function(g){return _e(g),this},f.getCreationDate=function(g){return P(g)};var q,H=f.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},K=f.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},ee=0,ce=[],de=[],fe=0,Ae=[],ke=[],Oe=!1,Ee=de,Ve=function(){ee=0,fe=0,de=[],ce=[],Ae=[],Ii=sr(),qn=sr()};f.__private__.setCustomOutputDestination=function(g){Oe=!0,Ee=g};var ve=function(g){Oe||(Ee=g)};f.__private__.resetCustomOutputDestination=function(){Oe=!1,Ee=de};var V=f.__private__.out=function(g){return g=g.toString(),fe+=g.length+1,Ee.push(g),Ee},tt=f.__private__.write=function(g){return V(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Ue=f.__private__.getArrayBuffer=function(g){for(var A=g.length,$=new ArrayBuffer(A),J=new Uint8Array($);A--;)J[A]=g.charCodeAt(A);return $},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Se};var Le=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(g){return Le=S===x.ADVANCED?g/Re:g,this};var De,Ie=f.__private__.getFontSize=f.getFontSize=function(){return S===x.COMPAT?Le:Le*Re},Be=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(g){return Be=g,this},f.__private__.getR2L=f.getR2L=function(){return Be};var Xe,st=f.__private__.setZoomMode=function(g){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))De=g;else if(isNaN(g)){if(A.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');De=g}else De=parseInt(g,10)};f.__private__.getZoomMode=function(){return De};var at,ht=f.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Xe=g};f.__private__.getPageMode=function(){return Xe};var _t=f.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');at=g};f.__private__.getLayoutMode=function(){return at},f.__private__.setDisplayMode=f.setDisplayMode=function(g,A,$){return st(g),_t(A),ht($),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(g){if(Object.keys(Ke).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[g]},f.__private__.getDocumentProperties=function(){return Ke},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(g){for(var A in Ke)Ke.hasOwnProperty(A)&&g[A]&&(Ke[A]=g[A]);return this},f.__private__.setDocumentProperty=function(g,A){if(Object.keys(Ke).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[g]=A};var ot,Re,Er,mt,Mn,kt={},Ft={},di=[],vt={},Qs={},$t={},Un={},Ci=null,Ht=0,Qe=[],yt=new t2(f),Zs=t.hotfixes||[],Sr={},hi={},fi=[],We=function g(A,$,J,ne,ge,Ne){if(!(this instanceof g))return new g(A,$,J,ne,ge,Ne);isNaN(A)&&(A=1),isNaN($)&&($=0),isNaN(J)&&(J=0),isNaN(ne)&&(ne=1),isNaN(ge)&&(ge=0),isNaN(Ne)&&(Ne=0),this._matrix=[A,$,J,ne,ge,Ne]};Object.defineProperty(We.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(We.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(We.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(We.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(We.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(We.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(We.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(We.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(We.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(We.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(We.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(We.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(We.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(We.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(We.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(We.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),We.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(g)},We.prototype.multiply=function(g){var A=g.sx*this.sx+g.shy*this.shx,$=g.sx*this.shy+g.shy*this.sy,J=g.shx*this.sx+g.sy*this.shx,ne=g.shx*this.shy+g.sy*this.sy,ge=g.tx*this.sx+g.ty*this.shx+this.tx,Ne=g.tx*this.shy+g.ty*this.sy+this.ty;return new We(A,$,J,ne,ge,Ne)},We.prototype.decompose=function(){var g=this.sx,A=this.shy,$=this.shx,J=this.sy,ne=this.tx,ge=this.ty,Ne=Math.sqrt(g*g+A*A),Te=(g/=Ne)*$+(A/=Ne)*J;$-=g*Te,J-=A*Te;var qe=Math.sqrt($*$+J*J);return Te/=qe,g*(J/=qe)<A*($/=qe)&&(g=-g,A=-A,Te=-Te,Ne=-Ne),{scale:new We(Ne,0,0,qe,0,0),translate:new We(1,0,0,1,ne,ge),rotate:new We(g,A,-A,g,0,0),skew:new We(1,0,Te,1,0,0)}},We.prototype.toString=function(g){return this.join(" ")},We.prototype.inversed=function(){var g=this.sx,A=this.shy,$=this.shx,J=this.sy,ne=this.tx,ge=this.ty,Ne=1/(g*J-A*$),Te=J*Ne,qe=-A*Ne,rt=-$*Ne,Ze=g*Ne;return new We(Te,qe,rt,Ze,-Te*ne-rt*ge,-qe*ne-Ze*ge)},We.prototype.applyToPoint=function(g){var A=g.x*this.sx+g.y*this.shx+this.tx,$=g.x*this.shy+g.y*this.sy+this.ty;return new Ga(A,$)},We.prototype.applyToRectangle=function(g){var A=this.applyToPoint(g),$=this.applyToPoint(new Ga(g.x+g.w,g.y+g.h));return new vl(A.x,A.y,$.x-A.x,$.y-A.y)},We.prototype.clone=function(){var g=this.sx,A=this.shy,$=this.shx,J=this.sy,ne=this.tx,ge=this.ty;return new We(g,A,$,J,ne,ge)},f.Matrix=We;var Bn=f.matrixMult=function(g,A){return A.multiply(g)},pi=new We(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=pi;var Yr=function(g,A){if(!Qs[g]){var $=(A instanceof ya?"Sh":"P")+(Object.keys(vt).length+1).toString(10);A.id=$,Qs[g]=$,vt[$]=A,yt.publish("addPattern",A)}};f.ShadingPattern=ya,f.TilingPattern=Do,f.addShadingPattern=function(g,A){return O("addShadingPattern()"),Yr(g,A),this},f.beginTilingPattern=function(g){O("beginTilingPattern()"),cu(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},f.endTilingPattern=function(g,A){O("endTilingPattern()"),A.stream=ke[q].join(`
`),Yr(g,A),yt.publish("endTilingPattern",A),fi.pop().restore()};var ur=f.__private__.newObject=function(){var g=sr();return hn(g,!0),g},sr=f.__private__.newObjectDeferred=function(){return ee++,ce[ee]=function(){return fe},ee},hn=function(g,A){return A=typeof A=="boolean"&&A,ce[g]=fe,A&&V(g+" 0 obj"),g},Da=f.__private__.newAdditionalObject=function(){var g={objId:sr(),content:""};return Ae.push(g),g},Ii=sr(),qn=sr(),$n=f.__private__.decodeColorString=function(g){var A=g.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var $=parseFloat(A[0]);A=[$,$,$,"r"]}for(var J="#",ne=0;ne<3;ne++)J+=("0"+Math.floor(255*parseFloat(A[ne])).toString(16)).slice(-2);return J},Hn=f.__private__.encodeColorString=function(g){var A;typeof g=="string"&&(g={ch1:g});var $=g.ch1,J=g.ch2,ne=g.ch3,ge=g.ch4,Ne=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Te=new xy($);if(Te.ok)$=Te.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var qe=parseInt($.substr(1),16);$=qe>>16&255,J=qe>>8&255,ne=255&qe}if(J===void 0||ge===void 0&&$===J&&J===ne)if(typeof $=="string")A=$+" "+Ne[0];else switch(g.precision){case 2:A=re($/255)+" "+Ne[0];break;case 3:default:A=D($/255)+" "+Ne[0]}else if(ge===void 0||bt(ge)==="object"){if(ge&&!isNaN(ge.a)&&ge.a===0)return A=["1.","1.","1.",Ne[1]].join(" ");if(typeof $=="string")A=[$,J,ne,Ne[1]].join(" ");else switch(g.precision){case 2:A=[re($/255),re(J/255),re(ne/255),Ne[1]].join(" ");break;default:case 3:A=[D($/255),D(J/255),D(ne/255),Ne[1]].join(" ")}}else if(typeof $=="string")A=[$,J,ne,ge,Ne[2]].join(" ");else switch(g.precision){case 2:A=[re($),re(J),re(ne),re(ge),Ne[2]].join(" ");break;case 3:default:A=[D($),D(J),D(ne),D(ge),Ne[2]].join(" ")}return A},mi=f.__private__.getFilters=function(){return a},Sn=f.__private__.putStream=function(g){var A=(g=g||{}).data||"",$=g.filters||mi(),J=g.alreadyAppliedFilters||[],ne=g.addLength1||!1,ge=A.length,Ne=g.objectId,Te=function(Ir){return Ir};if(p!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Te=Cr.encryptor(Ne,0));var qe={};$===!0&&($=["FlateEncode"]);var rt=g.additionalKeyValues||[],Ze=(qe=He.API.processDataByFilters!==void 0?He.API.processDataByFilters(A,$):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(J)?J.join(" "):J.toString());if(qe.data.length!==0&&(rt.push({key:"Length",value:qe.data.length}),ne===!0&&rt.push({key:"Length1",value:ge})),Ze.length!=0)if(Ze.split("/").length-1==1)rt.push({key:"Filter",value:Ze});else{rt.push({key:"Filter",value:"["+Ze+"]"});for(var dt=0;dt<rt.length;dt+=1)if(rt[dt].key==="DecodeParms"){for(var Mt=[],Wt=0;Wt<qe.reverseChain.split("/").length-1;Wt+=1)Mt.push("null");Mt.push(rt[dt].value),rt[dt].value="["+Mt.join(" ")+"]"}}V("<<");for(var ar=0;ar<rt.length;ar++)V("/"+rt[ar].key+" "+rt[ar].value);V(">>"),qe.data.length!==0&&(V("stream"),V(Te(qe.data)),V("endstream"))},gi=f.__private__.putPage=function(g){var A=g.number,$=g.data,J=g.objId,ne=g.contentsObjId;hn(J,!0),V("<</Type /Page"),V("/Parent "+g.rootDictionaryObjId+" 0 R"),V("/Resources "+g.resourceDictionaryObjId+" 0 R"),V("/MediaBox ["+parseFloat(R(g.mediaBox.bottomLeftX))+" "+parseFloat(R(g.mediaBox.bottomLeftY))+" "+R(g.mediaBox.topRightX)+" "+R(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&V("/CropBox ["+R(g.cropBox.bottomLeftX)+" "+R(g.cropBox.bottomLeftY)+" "+R(g.cropBox.topRightX)+" "+R(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&V("/BleedBox ["+R(g.bleedBox.bottomLeftX)+" "+R(g.bleedBox.bottomLeftY)+" "+R(g.bleedBox.topRightX)+" "+R(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&V("/TrimBox ["+R(g.trimBox.bottomLeftX)+" "+R(g.trimBox.bottomLeftY)+" "+R(g.trimBox.topRightX)+" "+R(g.trimBox.topRightY)+"]"),g.artBox!==null&&V("/ArtBox ["+R(g.artBox.bottomLeftX)+" "+R(g.artBox.bottomLeftY)+" "+R(g.artBox.topRightX)+" "+R(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&V("/UserUnit "+g.userUnit),yt.publish("putPage",{objId:J,pageContext:Qe[A],pageNumber:A,page:$}),V("/Contents "+ne+" 0 R"),V(">>"),V("endobj");var ge=$.join(`
`);return S===x.ADVANCED&&(ge+=`
Q`),hn(ne,!0),Sn({data:ge,filters:mi(),objectId:ne}),V("endobj"),J},ea=f.__private__.putPages=function(){var g,A,$=[];for(g=1;g<=Ht;g++)Qe[g].objId=sr(),Qe[g].contentsObjId=sr();for(g=1;g<=Ht;g++)$.push(gi({number:g,data:ke[g],objId:Qe[g].objId,contentsObjId:Qe[g].contentsObjId,mediaBox:Qe[g].mediaBox,cropBox:Qe[g].cropBox,bleedBox:Qe[g].bleedBox,trimBox:Qe[g].trimBox,artBox:Qe[g].artBox,userUnit:Qe[g].userUnit,rootDictionaryObjId:Ii,resourceDictionaryObjId:qn}));hn(Ii,!0),V("<</Type /Pages");var J="/Kids [";for(A=0;A<Ht;A++)J+=$[A]+" 0 R ";V(J+"]"),V("/Count "+Ht),V(">>"),V("endobj"),yt.publish("postPutPages")},Ra=function(g){yt.publish("putFont",{font:g,out:V,newObject:ur,putStream:Sn}),g.isAlreadyPutted!==!0&&(g.objectNumber=ur(),V("<<"),V("/Type /Font"),V("/BaseFont /"+bo(g.postScriptName)),V("/Subtype /Type1"),typeof g.encoding=="string"&&V("/Encoding /"+g.encoding),V("/FirstChar 32"),V("/LastChar 255"),V(">>"),V("endobj"))},Ta=function(){for(var g in kt)kt.hasOwnProperty(g)&&(m===!1||m===!0&&y.hasOwnProperty(g))&&Ra(kt[g])},Fa=function(g){g.objectNumber=ur();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[R(g.x),R(g.y),R(g.x+g.width),R(g.y+g.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var $=g.pages[1].join(`
`);Sn({data:$,additionalKeyValues:A,objectId:g.objectNumber}),V("endobj")},za=function(){for(var g in Sr)Sr.hasOwnProperty(g)&&Fa(Sr[g])},Wc=function(g,A){var $,J=[],ne=1/(A-1);for($=0;$<1;$+=ne)J.push($);if(J.push(1),g[0].offset!=0){var ge={offset:0,color:g[0].color};g.unshift(ge)}if(g[g.length-1].offset!=1){var Ne={offset:1,color:g[g.length-1].color};g.push(Ne)}for(var Te="",qe=0,rt=0;rt<J.length;rt++){for($=J[rt];$>g[qe+1].offset;)qe++;var Ze=g[qe].offset,dt=($-Ze)/(g[qe+1].offset-Ze),Mt=g[qe].color,Wt=g[qe+1].color;Te+=K(Math.round((1-dt)*Mt[0]+dt*Wt[0]).toString(16))+K(Math.round((1-dt)*Mt[1]+dt*Wt[1]).toString(16))+K(Math.round((1-dt)*Mt[2]+dt*Wt[2]).toString(16))}return Te.trim()},Lh=function(g,A){A||(A=21);var $=ur(),J=Wc(g.colors,A),ne=[];ne.push({key:"FunctionType",value:"0"}),ne.push({key:"Domain",value:"[0.0 1.0]"}),ne.push({key:"Size",value:"["+A+"]"}),ne.push({key:"BitsPerSample",value:"8"}),ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Sn({data:J,additionalKeyValues:ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),V("endobj"),g.objectNumber=ur(),V("<< /ShadingType "+g.type),V("/ColorSpace /DeviceRGB");var ge="/Coords ["+R(parseFloat(g.coords[0]))+" "+R(parseFloat(g.coords[1]))+" ";g.type===2?ge+=R(parseFloat(g.coords[2]))+" "+R(parseFloat(g.coords[3])):ge+=R(parseFloat(g.coords[2]))+" "+R(parseFloat(g.coords[3]))+" "+R(parseFloat(g.coords[4]))+" "+R(parseFloat(g.coords[5])),V(ge+="]"),g.matrix&&V("/Matrix ["+g.matrix.toString()+"]"),V("/Function "+$+" 0 R"),V("/Extend [true true]"),V(">>"),V("endobj")},Ph=function(g,A){var $=sr(),J=ur();A.push({resourcesOid:$,objectOid:J}),g.objectNumber=J;var ne=[];ne.push({key:"Type",value:"/Pattern"}),ne.push({key:"PatternType",value:"1"}),ne.push({key:"PaintType",value:"1"}),ne.push({key:"TilingType",value:"1"}),ne.push({key:"BBox",value:"["+g.boundingBox.map(R).join(" ")+"]"}),ne.push({key:"XStep",value:R(g.xStep)}),ne.push({key:"YStep",value:R(g.yStep)}),ne.push({key:"Resources",value:$+" 0 R"}),g.matrix&&ne.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Sn({data:g.stream,additionalKeyValues:ne,objectId:g.objectNumber}),V("endobj")},Ma=function(g){var A;for(A in vt)vt.hasOwnProperty(A)&&(vt[A]instanceof ya?Lh(vt[A]):vt[A]instanceof Do&&Ph(vt[A],g))},Vc=function(g){for(var A in g.objectNumber=ur(),V("<<"),g)switch(A){case"opacity":V("/ca "+re(g[A]));break;case"stroke-opacity":V("/CA "+re(g[A]))}V(">>"),V("endobj")},Eh=function(){var g;for(g in $t)$t.hasOwnProperty(g)&&Vc($t[g])},ol=function(){for(var g in V("/XObject <<"),Sr)Sr.hasOwnProperty(g)&&Sr[g].objectNumber>=0&&V("/"+g+" "+Sr[g].objectNumber+" 0 R");yt.publish("putXobjectDict"),V(">>")},Ch=function(){Cr.oid=ur(),V("<<"),V("/Filter /Standard"),V("/V "+Cr.v),V("/R "+Cr.r),V("/U <"+Cr.toHexString(Cr.U)+">"),V("/O <"+Cr.toHexString(Cr.O)+">"),V("/P "+Cr.P),V(">>"),V("endobj")},Gc=function(){for(var g in V("/Font <<"),kt)kt.hasOwnProperty(g)&&(m===!1||m===!0&&y.hasOwnProperty(g))&&V("/"+g+" "+kt[g].objectNumber+" 0 R");V(">>")},Ih=function(){if(Object.keys(vt).length>0){for(var g in V("/Shading <<"),vt)vt.hasOwnProperty(g)&&vt[g]instanceof ya&&vt[g].objectNumber>=0&&V("/"+g+" "+vt[g].objectNumber+" 0 R");yt.publish("putShadingPatternDict"),V(">>")}},Ua=function(g){if(Object.keys(vt).length>0){for(var A in V("/Pattern <<"),vt)vt.hasOwnProperty(A)&&vt[A]instanceof f.TilingPattern&&vt[A].objectNumber>=0&&vt[A].objectNumber<g&&V("/"+A+" "+vt[A].objectNumber+" 0 R");yt.publish("putTilingPatternDict"),V(">>")}},Oh=function(){if(Object.keys($t).length>0){var g;for(g in V("/ExtGState <<"),$t)$t.hasOwnProperty(g)&&$t[g].objectNumber>=0&&V("/"+g+" "+$t[g].objectNumber+" 0 R");yt.publish("putGStateDict"),V(">>")}},Yt=function(g){hn(g.resourcesOid,!0),V("<<"),V("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Gc(),Ih(),Ua(g.objectOid),Oh(),ol(),V(">>"),V("endobj")},Jc=function(){var g=[];Ta(),Eh(),za(),Ma(g),yt.publish("putResources"),g.forEach(Yt),Yt({resourcesOid:qn,objectOid:Number.MAX_SAFE_INTEGER}),yt.publish("postPutResources")},Kc=function(){yt.publish("putAdditionalObjects");for(var g=0;g<Ae.length;g++){var A=Ae[g];hn(A.objId,!0),V(A.content),V("endobj")}yt.publish("postPutAdditionalObjects")},Yc=function(g){Ft[g.fontName]=Ft[g.fontName]||{},Ft[g.fontName][g.fontStyle]=g.id},ll=function(g,A,$,J,ne){var ge={id:"F"+(Object.keys(kt).length+1).toString(10),postScriptName:g,fontName:A,fontStyle:$,encoding:J,isStandardFont:ne||!1,metadata:{}};return yt.publish("addFont",{font:ge,instance:this}),kt[ge.id]=ge,Yc(ge),ge.id},Dh=function(g){for(var A=0,$=Se.length;A<$;A++){var J=ll.call(this,g[A][0],g[A][1],g[A][2],Se[A][3],!0);m===!1&&(y[J]=!0);var ne=g[A][0].split("-");Yc({id:J,fontName:ne[0],fontStyle:ne[1]||""})}yt.publish("addFonts",{fonts:kt,dictionary:Ft})},Wn=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(J){var A=J.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var $="Error in function "+A.split(`
`)[0].split("<")[0]+": "+J.message;if(!Ge.console)throw new Error($);Ge.console.error($,J),Ge.alert&&alert($)}},g.foo.bar=g,g.foo},Ba=function(g,A){var $,J,ne,ge,Ne,Te,qe,rt,Ze;if(ne=(A=A||{}).sourceEncoding||"Unicode",Ne=A.outputEncoding,(A.autoencode||Ne)&&kt[ot].metadata&&kt[ot].metadata[ne]&&kt[ot].metadata[ne].encoding&&(ge=kt[ot].metadata[ne].encoding,!Ne&&kt[ot].encoding&&(Ne=kt[ot].encoding),!Ne&&ge.codePages&&(Ne=ge.codePages[0]),typeof Ne=="string"&&(Ne=ge[Ne]),Ne)){for(qe=!1,Te=[],$=0,J=g.length;$<J;$++)(rt=Ne[g.charCodeAt($)])?Te.push(String.fromCharCode(rt)):Te.push(g[$]),Te[$].charCodeAt(0)>>8&&(qe=!0);g=Te.join("")}for($=g.length;qe===void 0&&$!==0;)g.charCodeAt($-1)>>8&&(qe=!0),$--;if(!qe)return g;for(Te=A.noBOM?[]:[254,255],$=0,J=g.length;$<J;$++){if((Ze=(rt=g.charCodeAt($))>>8)>>8)throw new Error("Character at position "+$+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Te.push(Ze),Te.push(rt-(Ze<<8))}return String.fromCharCode.apply(void 0,Te)},Xr=f.__private__.pdfEscape=f.pdfEscape=function(g,A){return Ba(g,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cl=f.__private__.beginPage=function(g){ke[++Ht]=[],Qe[Ht]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},Qc(Ht),ve(ke[q])},Xc=function(g,A){var $,J,ne;switch(r=A||r,typeof g=="string"&&($=w(g.toLowerCase()),Array.isArray($)&&(J=$[0],ne=$[1])),Array.isArray(g)&&(J=g[0]*Re,ne=g[1]*Re),isNaN(J)&&(J=i[0],ne=i[1]),(J>14400||ne>14400)&&(Lt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),J=Math.min(14400,J),ne=Math.min(14400,ne)),i=[J,ne],r.substr(0,1)){case"l":ne>J&&(i=[ne,J]);break;case"p":J>ne&&(i=[ne,J])}cl(i),iu(fl),V(Vn),ml!==0&&V(ml+" J"),gl!==0&&V(gl+" j"),yt.publish("addPage",{pageNumber:Ht})},Rh=function(g){g>0&&g<=Ht&&(ke.splice(g,1),Qe.splice(g,1),Ht--,q>Ht&&(q=Ht),this.setPage(q))},Qc=function(g){g>0&&g<=Ht&&(q=g)},Th=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ke.length-1},Zc=function(g,A,$){var J,ne=void 0;return $=$||{},g=g!==void 0?g:kt[ot].fontName,A=A!==void 0?A:kt[ot].fontStyle,J=g.toLowerCase(),Ft[J]!==void 0&&Ft[J][A]!==void 0?ne=Ft[J][A]:Ft[g]!==void 0&&Ft[g][A]!==void 0?ne=Ft[g][A]:$.disableWarning===!1&&Lt.warn("Unable to look up font label for font '"+g+"', '"+A+"'. Refer to getFontList() for available fonts."),ne||$.noFallback||(ne=Ft.times[A])==null&&(ne=Ft.times.normal),ne},Fh=f.__private__.putInfo=function(){var g=ur(),A=function(J){return J};for(var $ in p!==null&&(A=Cr.encryptor(g,0)),V("<<"),V("/Producer ("+Xr(A("jsPDF "+He.version))+")"),Ke)Ke.hasOwnProperty($)&&Ke[$]&&V("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Xr(A(Ke[$]))+")");V("/CreationDate ("+Xr(A(he))+")"),V(">>"),V("endobj")},ul=f.__private__.putCatalog=function(g){var A=(g=g||{}).rootDictionaryObjId||Ii;switch(ur(),V("<<"),V("/Type /Catalog"),V("/Pages "+A+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":V("/OpenAction [3 0 R /FitH null]");break;case"fullheight":V("/OpenAction [3 0 R /FitV null]");break;case"fullpage":V("/OpenAction [3 0 R /Fit]");break;case"original":V("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+De;$.substr($.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&V("/OpenAction [3 0 R /XYZ null null "+re(De)+"]")}switch(at||(at="continuous"),at){case"continuous":V("/PageLayout /OneColumn");break;case"single":V("/PageLayout /SinglePage");break;case"two":case"twoleft":V("/PageLayout /TwoColumnLeft");break;case"tworight":V("/PageLayout /TwoColumnRight")}Xe&&V("/PageMode /"+Xe),yt.publish("putCatalog"),V(">>"),V("endobj")},zh=f.__private__.putTrailer=function(){V("trailer"),V("<<"),V("/Size "+(ee+1)),V("/Root "+ee+" 0 R"),V("/Info "+(ee-1)+" 0 R"),p!==null&&V("/Encrypt "+Cr.oid+" 0 R"),V("/ID [ <"+ue+"> <"+ue+"> ]"),V(">>")},Mh=f.__private__.putHeader=function(){V("%PDF-"+N),V("%")},Uh=f.__private__.putXRef=function(){var g="0000000000";V("xref"),V("0 "+(ee+1)),V("0000000000 65535 f ");for(var A=1;A<=ee;A++)typeof ce[A]=="function"?V((g+ce[A]()).slice(-10)+" 00000 n "):ce[A]!==void 0?V((g+ce[A]).slice(-10)+" 00000 n "):V("0000000000 00000 n ")},Oi=f.__private__.buildDocument=function(){Ve(),ve(de),yt.publish("buildDocument"),Mh(),ea(),Kc(),Jc(),p!==null&&Ch(),Fh(),ul();var g=fe;return Uh(),zh(),V("startxref"),V(""+g),V("%%EOF"),ve(ke[q]),de.join(`
`)},qa=f.__private__.getBlob=function(g){return new Blob([Ue(g)],{type:"application/pdf"})},$a=f.output=f.__private__.output=Wn(function(g,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",g){case void 0:return Oi();case"save":f.save(A.filename);break;case"arraybuffer":return Ue(Oi());case"blob":return qa(Oi());case"bloburi":case"bloburl":if(Ge.URL!==void 0&&typeof Ge.URL.createObjectURL=="function")return Ge.URL&&Ge.URL.createObjectURL(qa(Oi()))||void 0;Lt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",J=Oi();try{$=w0(J)}catch{$=w0(unescape(encodeURIComponent(J)))}return"data:application/pdf;filename="+A.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(ne=A.pdfObjectUrl,ge="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ne+'"'+ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",Te=Ge.open();return Te!==null&&Te.document.write(Ne),Te}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ge)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',rt=Ge.open();if(rt!==null){rt.document.write(qe);var Ze=this;rt.document.documentElement.querySelector("#pdfViewer").onload=function(){rt.document.title=A.filename,rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ze.output("bloburl"))}}return rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ge)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',Mt=Ge.open();if(Mt!==null&&(Mt.document.write(dt),Mt.document.title=A.filename),Mt||typeof safari>"u")return Mt;break;case"datauri":case"dataurl":return Ge.document.location.href=this.output("datauristring",A);default:return null}}),eu=function(g){return Array.isArray(Zs)===!0&&Zs.indexOf(g)>-1};switch(n){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=eu("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Re=n}var Cr=null;_e(),G();var Bh=function(g){return p!==null?Cr.encryptor(g,0):function(A){return A}},tu=f.__private__.getPageInfo=f.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qe[g].objId,pageNumber:g,pageContext:Qe[g]}},Ye=f.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in Qe)if(Qe[A].objId===g)break;return tu(A)},qh=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Qe[q].objId,pageNumber:q,pageContext:Qe[q]}};f.addPage=function(){return Xc.apply(this,arguments),this},f.setPage=function(){return Qc.apply(this,arguments),ve.call(this,ke[q]),this},f.insertPage=function(g){return this.addPage(),this.movePage(q,g),this},f.movePage=function(g,A){var $,J;if(g>A){$=ke[g],J=Qe[g];for(var ne=g;ne>A;ne--)ke[ne]=ke[ne-1],Qe[ne]=Qe[ne-1];ke[A]=$,Qe[A]=J,this.setPage(A)}else if(g<A){$=ke[g],J=Qe[g];for(var ge=g;ge<A;ge++)ke[ge]=ke[ge+1],Qe[ge]=Qe[ge+1];ke[A]=$,Qe[A]=J,this.setPage(A)}return this},f.deletePage=function(){return Rh.apply(this,arguments),this},f.__private__.text=f.text=function(g,A,$,J,ne){var ge,Ne,Te,qe,rt,Ze,dt,Mt,Wt,ar=(J=J||{}).scope||this;if(typeof g=="number"&&typeof A=="number"&&(typeof $=="string"||Array.isArray($))){var Ir=$;$=A,A=g,g=Ir}if(arguments[3]instanceof We?(O("The transform parameter of text() with a Matrix value"),Wt=ne):(Te=arguments[4],qe=arguments[5],bt(dt=arguments[3])==="object"&&dt!==null||(typeof Te=="string"&&(qe=Te,Te=null),typeof dt=="string"&&(qe=dt,dt=null),typeof dt=="number"&&(Te=dt,dt=null),J={flags:dt,angle:Te,align:qe})),isNaN(A)||isNaN($)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return ar;var gr="",Gn=!1,fn=typeof J.lineHeightFactor=="number"?J.lineHeightFactor:ra,xi=ar.internal.scaleFactor;function uu(Pt){return Pt=Pt.split("	").join(Array(J.TabLen||9).join(" ")),Xr(Pt,dt)}function bl(Pt){for(var Et,Qt=Pt.concat(),dr=[],zi=Qt.length;zi--;)typeof(Et=Qt.shift())=="string"?dr.push(Et):Array.isArray(Pt)&&(Et.length===1||Et[1]===void 0&&Et[2]===void 0)?dr.push(Et[0]):dr.push([Et[0],Et[1],Et[2]]);return dr}function Nl(Pt,Et){var Qt;if(typeof Pt=="string")Qt=Et(Pt)[0];else if(Array.isArray(Pt)){for(var dr,zi,El=Pt.concat(),io=[],mu=El.length;mu--;)typeof(dr=El.shift())=="string"?io.push(Et(dr)[0]):Array.isArray(dr)&&typeof dr[0]=="string"&&(zi=Et(dr[0],dr[1],dr[2]),io.push([zi[0],zi[1],zi[2]]));Qt=io}return Qt}var Ka=!1,_l=!0;if(typeof g=="string")Ka=!0;else if(Array.isArray(g)){var Sl=g.concat();Ne=[];for(var Ya,jr=Sl.length;jr--;)(typeof(Ya=Sl.shift())!="string"||Array.isArray(Ya)&&typeof Ya[0]!="string")&&(_l=!1);Ka=_l}if(Ka===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Xa=Le/ar.internal.scaleFactor,Qa=Xa*(fn-1);switch(J.baseline){case"bottom":$-=Qa;break;case"top":$+=Xa-Qa;break;case"hanging":$+=Xa-2*Qa;break;case"middle":$+=Xa/2-Qa}if((Ze=J.maxWidth||0)>0&&(typeof g=="string"?g=ar.splitTextToSize(g,Ze):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Pt,Et){return Pt.concat(ar.splitTextToSize(Et,Ze))},[]))),ge={text:g,x:A,y:$,options:J,mutex:{pdfEscape:Xr,activeFontKey:ot,fonts:kt,activeFontSize:Le}},yt.publish("preProcessText",ge),g=ge.text,Te=(J=ge.options).angle,!(Wt instanceof We)&&Te&&typeof Te=="number"){Te*=Math.PI/180,J.rotationDirection===0&&(Te=-Te),S===x.ADVANCED&&(Te=-Te);var Za=Math.cos(Te),jl=Math.sin(Te);Wt=new We(Za,jl,-jl,Za,0,0)}else Te&&Te instanceof We&&(Wt=Te);S!==x.ADVANCED||Wt||(Wt=pi),(rt=J.charSpace||Va)!==void 0&&(gr+=R(z(rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Mt=J.horizontalScale)!==void 0&&(gr+=R(100*Mt)+` Tz
`),J.lang;var Qr=-1,Qh=J.renderingMode!==void 0?J.renderingMode:J.stroke,kl=ar.internal.getCurrentPageInfo().pageContext;switch(Qh){case 0:case!1:case"fill":Qr=0;break;case 1:case!0:case"stroke":Qr=1;break;case 2:case"fillThenStroke":Qr=2;break;case 3:case"invisible":Qr=3;break;case 4:case"fillAndAddForClipping":Qr=4;break;case 5:case"strokeAndAddPathForClipping":Qr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Qr=6;break;case 7:case"addToPathForClipping":Qr=7}var du=kl.usedRenderingMode!==void 0?kl.usedRenderingMode:-1;Qr!==-1?gr+=Qr+` Tr
`:du!==-1&&(gr+=`0 Tr
`),Qr!==-1&&(kl.usedRenderingMode=Qr),qe=J.align||"left";var jn,eo=Le*fn,hu=ar.internal.pageSize.getWidth(),fu=kt[ot];rt=J.charSpace||Va,Ze=J.maxWidth||0,dt=Object.assign({autoencode:!0,noBOM:!0},J.flags);var ss=[],sa=function(Pt){return ar.getStringUnitWidth(Pt,{font:fu,charSpace:rt,fontSize:Le,doKerning:!1})*Le/xi};if(Object.prototype.toString.call(g)==="[object Array]"){var Zr;Ne=bl(g),qe!=="left"&&(jn=Ne.map(sa));var qr,as=0;if(qe==="right"){A-=jn[0],g=[],jr=Ne.length;for(var Ri=0;Ri<jr;Ri++)Ri===0?(qr=yi(A),Zr=Di($)):(qr=z(as-jn[Ri]),Zr=-eo),g.push([Ne[Ri],qr,Zr]),as=jn[Ri]}else if(qe==="center"){A-=jn[0]/2,g=[],jr=Ne.length;for(var Ti=0;Ti<jr;Ti++)Ti===0?(qr=yi(A),Zr=Di($)):(qr=z((as-jn[Ti])/2),Zr=-eo),g.push([Ne[Ti],qr,Zr]),as=jn[Ti]}else if(qe==="left"){g=[],jr=Ne.length;for(var to=0;to<jr;to++)g.push(Ne[to])}else if(qe==="justify"&&fu.encoding==="Identity-H"){g=[],jr=Ne.length,Ze=Ze!==0?Ze:hu;for(var Fi=0,Xt=0;Xt<jr;Xt++)if(Zr=Xt===0?Di($):-eo,qr=Xt===0?yi(A):Fi,Xt<jr-1){var Al=z((Ze-jn[Xt])/(Ne[Xt].split(" ").length-1)),$r=Ne[Xt].split(" ");g.push([$r[0]+" ",qr,Zr]),Fi=0;for(var kn=1;kn<$r.length;kn++){var ro=(sa($r[kn-1]+" "+$r[kn])-sa($r[kn]))*xi+Al;kn==$r.length-1?g.push([$r[kn],ro,0]):g.push([$r[kn]+" ",ro,0]),Fi-=ro}}else g.push([Ne[Xt],qr,Zr]);g.push(["",Fi,0])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],jr=Ne.length,Ze=Ze!==0?Ze:hu,Xt=0;Xt<jr;Xt++)Zr=Xt===0?Di($):-eo,qr=Xt===0?yi(A):0,Xt<jr-1?ss.push(R(z((Ze-jn[Xt])/(Ne[Xt].split(" ").length-1)))):ss.push(0),g.push([Ne[Xt],qr,Zr])}}var pu=typeof J.R2L=="boolean"?J.R2L:Be;pu===!0&&(g=Nl(g,function(Pt,Et,Qt){return[Pt.split("").reverse().join(""),Et,Qt]})),ge={text:g,x:A,y:$,options:J,mutex:{pdfEscape:Xr,activeFontKey:ot,fonts:kt,activeFontSize:Le}},yt.publish("postProcessText",ge),g=ge.text,Gn=ge.mutex.isHex||!1;var Ll=kt[ot].encoding;Ll!=="WinAnsiEncoding"&&Ll!=="StandardEncoding"||(g=Nl(g,function(Pt,Et,Qt){return[uu(Pt),Et,Qt]})),Ne=bl(g),g=[];for(var aa,oa,os,la=0,no=1,ca=Array.isArray(Ne[0])?no:la,ls="",Pl=function(Pt,Et,Qt){var dr="";return Qt instanceof We?(Qt=typeof J.angle=="number"?Bn(Qt,new We(1,0,0,1,Pt,Et)):Bn(new We(1,0,0,1,Pt,Et),Qt),S===x.ADVANCED&&(Qt=Bn(new We(1,0,0,-1,0,0),Qt)),dr=Qt.join(" ")+` Tm
`):dr=R(Pt)+" "+R(Et)+` Td
`,dr},An=0;An<Ne.length;An++){switch(ls="",ca){case no:os=(Gn?"<":"(")+Ne[An][0]+(Gn?">":")"),aa=parseFloat(Ne[An][1]),oa=parseFloat(Ne[An][2]);break;case la:os=(Gn?"<":"(")+Ne[An]+(Gn?">":")"),aa=yi(A),oa=Di($)}ss!==void 0&&ss[An]!==void 0&&(ls=ss[An]+` Tw
`),An===0?g.push(ls+Pl(aa,oa,Wt)+os):ca===la?g.push(ls+os):ca===no&&g.push(ls+Pl(aa,oa,Wt)+os)}g=ca===la?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Ln=`BT
/`;return Ln+=ot+" "+Le+` Tf
`,Ln+=R(Le*fn)+` TL
`,Ln+=na+`
`,Ln+=gr,Ln+=g,V(Ln+="ET"),y[ot]=!0,ar};var $h=f.__private__.clip=f.clip=function(g){return V(g==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return $h("evenodd")},f.__private__.discardPath=f.discardPath=function(){return V("n"),this};var vi=f.__private__.isValidStyle=function(g){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(A=!0),A};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(g){return vi(g)&&(d=g),this};var ru=f.__private__.getStyle=f.getStyle=function(g){var A=d;switch(g){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=g}return A},nu=f.close=function(){return V("h"),this};f.stroke=function(){return V("S"),this},f.fill=function(g){return Ha("f",g),this},f.fillEvenOdd=function(g){return Ha("f*",g),this},f.fillStroke=function(g){return Ha("B",g),this},f.fillStrokeEvenOdd=function(g){return Ha("B*",g),this};var Ha=function(g,A){bt(A)==="object"?Wh(A,g):V(g)},dl=function(g){g===null||S===x.ADVANCED&&g===void 0||(g=ru(g),V(g))};function Hh(g,A,$,J,ne){var ge=new Do(A||this.boundingBox,$||this.xStep,J||this.yStep,this.gState,ne||this.matrix);ge.stream=this.stream;var Ne=g+"$$"+this.cloneIndex+++"$$";return Yr(Ne,ge),ge}var Wh=function(g,A){var $=Qs[g.key],J=vt[$];if(J instanceof ya)V("q"),V(Vh(A)),J.gState&&f.setGState(J.gState),V(g.matrix.toString()+" cm"),V("/"+$+" sh"),V("Q");else if(J instanceof Do){var ne=new We(1,0,0,-1,0,is());g.matrix&&(ne=ne.multiply(g.matrix||pi),$=Hh.call(J,g.key,g.boundingBox,g.xStep,g.yStep,ne).id),V("q"),V("/Pattern cs"),V("/"+$+" scn"),J.gState&&f.setGState(J.gState),V(A),V("Q")}},Vh=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},hl=f.moveTo=function(g,A){return V(R(z(g))+" "+R(W(A))+" m"),this},ta=f.lineTo=function(g,A){return V(R(z(g))+" "+R(W(A))+" l"),this},rs=f.curveTo=function(g,A,$,J,ne,ge){return V([R(z(g)),R(W(A)),R(z($)),R(W(J)),R(z(ne)),R(W(ge)),"c"].join(" ")),this};f.__private__.line=f.line=function(g,A,$,J,ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(J)||!vi(ne))throw new Error("Invalid arguments passed to jsPDF.line");return S===x.COMPAT?this.lines([[$-g,J-A]],g,A,[1,1],ne||"S"):this.lines([[$-g,J-A]],g,A,[1,1]).stroke()},f.__private__.lines=f.lines=function(g,A,$,J,ne,ge){var Ne,Te,qe,rt,Ze,dt,Mt,Wt,ar,Ir,gr,Gn;if(typeof g=="number"&&(Gn=$,$=A,A=g,g=Gn),J=J||[1,1],ge=ge||!1,isNaN(A)||isNaN($)||!Array.isArray(g)||!Array.isArray(J)||!vi(ne)||typeof ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(hl(A,$),Ne=J[0],Te=J[1],rt=g.length,Ir=A,gr=$,qe=0;qe<rt;qe++)(Ze=g[qe]).length===2?(Ir=Ze[0]*Ne+Ir,gr=Ze[1]*Te+gr,ta(Ir,gr)):(dt=Ze[0]*Ne+Ir,Mt=Ze[1]*Te+gr,Wt=Ze[2]*Ne+Ir,ar=Ze[3]*Te+gr,Ir=Ze[4]*Ne+Ir,gr=Ze[5]*Te+gr,rs(dt,Mt,Wt,ar,Ir,gr));return ge&&nu(),dl(ne),this},f.path=function(g){for(var A=0;A<g.length;A++){var $=g[A],J=$.c;switch($.op){case"m":hl(J[0],J[1]);break;case"l":ta(J[0],J[1]);break;case"c":rs.apply(this,J);break;case"h":nu()}}return this},f.__private__.rect=f.rect=function(g,A,$,J,ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(J)||!vi(ne))throw new Error("Invalid arguments passed to jsPDF.rect");return S===x.COMPAT&&(J=-J),V([R(z(g)),R(W(A)),R(z($)),R(z(J)),"re"].join(" ")),dl(ne),this},f.__private__.triangle=f.triangle=function(g,A,$,J,ne,ge,Ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(J)||isNaN(ne)||isNaN(ge)||!vi(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-g,J-A],[ne-$,ge-J],[g-ne,A-ge]],g,A,[1,1],Ne,!0),this},f.__private__.roundedRect=f.roundedRect=function(g,A,$,J,ne,ge,Ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(J)||isNaN(ne)||isNaN(ge)||!vi(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Te=4/3*(Math.SQRT2-1);return ne=Math.min(ne,.5*$),ge=Math.min(ge,.5*J),this.lines([[$-2*ne,0],[ne*Te,0,ne,ge-ge*Te,ne,ge],[0,J-2*ge],[0,ge*Te,-ne*Te,ge,-ne,ge],[2*ne-$,0],[-ne*Te,0,-ne,-ge*Te,-ne,-ge],[0,2*ge-J],[0,-ge*Te,ne*Te,-ge,ne,-ge]],g+ne,A,[1,1],Ne,!0),this},f.__private__.ellipse=f.ellipse=function(g,A,$,J,ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(J)||!vi(ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ge=4/3*(Math.SQRT2-1)*$,Ne=4/3*(Math.SQRT2-1)*J;return hl(g+$,A),rs(g+$,A-Ne,g+ge,A-J,g,A-J),rs(g-ge,A-J,g-$,A-Ne,g-$,A),rs(g-$,A+Ne,g-ge,A+J,g,A+J),rs(g+ge,A+J,g+$,A+Ne,g+$,A),dl(ne),this},f.__private__.circle=f.circle=function(g,A,$,J){if(isNaN(g)||isNaN(A)||isNaN($)||!vi(J))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,A,$,$,J)},f.setFont=function(g,A,$){return $&&(A=M(A,$)),ot=Zc(g,A,{disableWarning:!1}),this};var Gh=f.__private__.getFont=f.getFont=function(){return kt[Zc.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var g,A,$={};for(g in Ft)if(Ft.hasOwnProperty(g))for(A in $[g]=[],Ft[g])Ft[g].hasOwnProperty(A)&&$[g].push(A);return $},f.addFont=function(g,A,$,J,ne){var ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ge.indexOf(arguments[3])!==-1?ne=arguments[3]:arguments[3]&&ge.indexOf(arguments[3])==-1&&($=M($,J)),ne=ne||"Identity-H",ll.call(this,g,A,$,ne)};var ra,fl=t.lineWidth||.200025,Wa=f.__private__.getLineWidth=f.getLineWidth=function(){return fl},iu=f.__private__.setLineWidth=f.setLineWidth=function(g){return fl=g,V(R(z(g))+" w"),this};f.__private__.setLineDash=He.API.setLineDash=He.API.setLineDashPattern=function(g,A){if(g=g||[],A=A||0,isNaN(A)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function($){return R(z($))}).join(" "),A=R(z(A)),V("["+g+"] "+A+" d"),this};var su=f.__private__.getLineHeight=f.getLineHeight=function(){return Le*ra};f.__private__.getLineHeight=f.getLineHeight=function(){return Le*ra};var au=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(ra=g),this},ou=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return ra};au(t.lineHeight);var yi=f.__private__.getHorizontalCoordinate=function(g){return z(g)},Di=f.__private__.getVerticalCoordinate=function(g){return S===x.ADVANCED?g:Qe[q].mediaBox.topRightY-Qe[q].mediaBox.bottomLeftY-z(g)},Jh=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(g){return R(yi(g))},ns=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(g){return R(Di(g))},Vn=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return $n(Vn)},f.__private__.setStrokeColor=f.setDrawColor=function(g,A,$,J){return Vn=Hn({ch1:g,ch2:A,ch3:$,ch4:J,pdfColorType:"draw",precision:2}),V(Vn),this};var pl=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return $n(pl)},f.__private__.setFillColor=f.setFillColor=function(g,A,$,J){return pl=Hn({ch1:g,ch2:A,ch3:$,ch4:J,pdfColorType:"fill",precision:2}),V(pl),this};var na=t.textColor||"0 g",Kh=f.__private__.getTextColor=f.getTextColor=function(){return $n(na)};f.__private__.setTextColor=f.setTextColor=function(g,A,$,J){return na=Hn({ch1:g,ch2:A,ch3:$,ch4:J,pdfColorType:"text",precision:3}),this};var Va=t.charSpace,Yh=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Va||0)};f.__private__.setCharSpace=f.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Va=g,this};var ml=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(g){var A=f.CapJoinStyles[g];if(A===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ml=A,V(A+" J"),this};var gl=0;f.__private__.setLineJoin=f.setLineJoin=function(g){var A=f.CapJoinStyles[g];if(A===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return gl=A,V(A+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return V(R(z(g))+" M"),this},f.GState=Zd,f.setGState=function(g){(g=typeof g=="string"?$t[Un[g]]:lu(null,g)).equals(Ci)||(V("/"+g.id+" gs"),Ci=g)};var lu=function(g,A){if(!g||!Un[g]){var $=!1;for(var J in $t)if($t.hasOwnProperty(J)&&$t[J].equals(A)){$=!0;break}if($)A=$t[J];else{var ne="GS"+(Object.keys($t).length+1).toString(10);$t[ne]=A,A.id=ne}return g&&(Un[g]=A.id),yt.publish("addGState",A),A}};f.addGState=function(g,A){return lu(g,A),this},f.saveGraphicsState=function(){return V("q"),di.push({key:ot,size:Le,color:na}),this},f.restoreGraphicsState=function(){V("Q");var g=di.pop();return ot=g.key,Le=g.size,na=g.color,Ci=null,this},f.setCurrentTransformationMatrix=function(g){return V(g.toString()+" cm"),this},f.comment=function(g){return V("#"+g),this};var Ga=function(g,A){var $=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(ge){isNaN(ge)||($=parseFloat(ge))}});var J=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return J},set:function(ge){isNaN(ge)||(J=parseFloat(ge))}});var ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ne},set:function(ge){ne=ge.toString()}}),this},vl=function(g,A,$,J){Ga.call(this,g,A),this.type="rect";var ne=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ne},set:function(Ne){isNaN(Ne)||(ne=parseFloat(Ne))}});var ge=J||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ge},set:function(Ne){isNaN(Ne)||(ge=parseFloat(Ne))}}),this},yl=function(){this.page=Ht,this.currentPage=q,this.pages=ke.slice(0),this.pagesContext=Qe.slice(0),this.x=Er,this.y=mt,this.matrix=Mn,this.width=ia(q),this.height=is(q),this.outputDestination=Ee,this.id="",this.objectNumber=-1};yl.prototype.restore=function(){Ht=this.page,q=this.currentPage,Qe=this.pagesContext,ke=this.pages,Er=this.x,mt=this.y,Mn=this.matrix,xl(q,this.width),wl(q,this.height),Ee=this.outputDestination};var cu=function(g,A,$,J,ne){fi.push(new yl),Ht=q=0,ke=[],Er=g,mt=A,Mn=ne,cl([$,J])},Xh=function(g){if(hi[g])fi.pop().restore();else{var A=new yl,$="Xo"+(Object.keys(Sr).length+1).toString(10);A.id=$,hi[g]=$,Sr[$]=A,yt.publish("addFormObject",A),fi.pop().restore()}};for(var Ja in f.beginFormObject=function(g,A,$,J,ne){return cu(g,A,$,J,ne),this},f.endFormObject=function(g){return Xh(g),this},f.doFormObject=function(g,A){var $=Sr[hi[g]];return V("q"),V(A.toString()+" cm"),V("/"+$.id+" Do"),V("Q"),this},f.getFormObject=function(g){var A=Sr[hi[g]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},f.save=function(g,A){return g=g||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(ga(qa(Oi()),g),typeof ga.unload=="function"&&Ge.setTimeout&&setTimeout(ga.unload,911),this):new Promise(function($,J){try{var ne=ga(qa(Oi()),g);typeof ga.unload=="function"&&Ge.setTimeout&&setTimeout(ga.unload,911),$(ne)}catch(ge){J(ge.message)}})},He.API)He.API.hasOwnProperty(Ja)&&(Ja==="events"&&He.API.events.length?function(g,A){var $,J,ne;for(ne=A.length-1;ne!==-1;ne--)$=A[ne][0],J=A[ne][1],g.subscribe.apply(g,[$].concat(typeof J=="function"?[J]:J))}(yt,He.API.events):f[Ja]=He.API[Ja]);var ia=f.getPageWidth=function(g){return(Qe[g=g||q].mediaBox.topRightX-Qe[g].mediaBox.bottomLeftX)/Re},xl=f.setPageWidth=function(g,A){Qe[g].mediaBox.topRightX=A*Re+Qe[g].mediaBox.bottomLeftX},is=f.getPageHeight=function(g){return(Qe[g=g||q].mediaBox.topRightY-Qe[g].mediaBox.bottomLeftY)/Re},wl=f.setPageHeight=function(g,A){Qe[g].mediaBox.topRightY=A*Re+Qe[g].mediaBox.bottomLeftY};return f.internal={pdfEscape:Xr,getStyle:ru,getFont:Gh,getFontSize:Ie,getCharSpace:Yh,getTextColor:Kh,getLineHeight:su,getLineHeightFactor:ou,getLineWidth:Wa,write:tt,getHorizontalCoordinate:yi,getVerticalCoordinate:Di,getCoordinateString:Jh,getVerticalCoordinateString:ns,collections:{},newObject:ur,newAdditionalObject:Da,newObjectDeferred:sr,newObjectDeferredBegin:hn,getFilters:mi,putStream:Sn,events:yt,scaleFactor:Re,pageSize:{getWidth:function(){return ia(q)},setWidth:function(g){xl(q,g)},getHeight:function(){return is(q)},setHeight:function(g){wl(q,g)}},encryptionOptions:p,encryption:Cr,getEncryptor:Bh,output:$a,getNumberOfPages:Th,pages:ke,out:V,f2:re,f3:D,getPageInfo:tu,getPageInfoByObjId:Ye,getCurrentPageInfo:qh,getPDFVersion:_,Point:Ga,Rectangle:vl,Matrix:We,hasHotfix:eu},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return ia(q)},set:function(g){xl(q,g)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return is(q)},set:function(g){wl(q,g)},enumerable:!0,configurable:!0}),Dh.call(f,Se),ot="F1",Xc(i,r),yt.publish("initialized"),f}wo.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},wo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},wo.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},wo.prototype.processOwnerPassword=function(t,e){return N0(b0(e).substr(0,5),t)},wo.prototype.encryptor=function(t,e){var r=b0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return N0(r,n)}},Zd.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||bt(t)!==bt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},He.API={events:[]},He.version="2.5.2";var Gt=He.API,Dm=1,Oa=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},go=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},et=function(t){return t.toFixed(2)},xs=function(t){return t.toFixed(5)};Gt.__acroform__={};var dn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},r2=function(t){return t*Dm},Ni=function(t){var e=new _y,r=Me.internal.getHeight(t)||0,n=Me.internal.getWidth(t)||0;return e.BBox=[0,0,Number(et(n)),Number(et(r))],e},K_=Gt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Y_=Gt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},X_=Gt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},tr=Gt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return X_(t,e-1)},rr=Gt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return K_(t,e-1)},nr=Gt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Y_(t,e-1)},Q_=Gt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=r(i+a)||0,c.upperRight_Y=n(s)||0,[Number(et(c.lowerLeft_X)),Number(et(c.lowerLeft_Y)),Number(et(c.upperRight_X)),Number(et(c.upperRight_Y))]},Z_=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=_0(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+et(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Ni(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},_0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var s=r,a=Me.internal.getHeight(t)||0;a=a<0?-a:a;var o=Me.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(D,z,B){if(D+1<i.length){var W=z+" "+i[D+1][0];return id(W,t,B).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var d,p,m=id("3",t,s).height,y=t.multiline?a-s:(a-m)/2,f=y+=2,N=0,_=0,j=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+id(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var w="",x=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var F=!1;if(i[S].length!==1&&j!==i[S].length-1){if((m+2)*(x+2)+2>a)continue e;w+=i[S][j],F=!0,_=S,S--}else{w=(w+=i[S][j]+" ").substr(w.length-1)==" "?w.substr(0,w.length-1):w;var L=parseInt(S),M=c(L,w,s),R=S>=i.length-1;if(M&&!R){w+=" ",j=0;continue}if(M||R){if(R)_=L;else if(t.multiline&&(m+2)*(x+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(x+2)+2>a)continue e;_=L}}for(var O="",Z=N;Z<=_;Z++){var re=i[Z];if(t.multiline){if(Z===_){O+=re[j]+" ",j=(j+1)%re.length;continue}if(Z===N){O+=re[re.length-1]+" ";continue}}O+=re[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,p=id(O,t,s).width,t.textAlign){case"right":d=o-p-2;break;case"center":d=(o-p)/2;break;case"left":default:d=2}e+=et(d)+" "+et(f)+` Td
`,e+="("+Oa(O)+`) Tj
`,e+=-et(d)+` 0 Td
`,f=-(s+2),p=0,N=F?_:_+1,x++,w=""}break}return n.text=e,n.fontSize=s,n},id=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},eS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tS=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},rS=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),bt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},nS=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ci.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(eS)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Dm=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Sy,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&tS(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],d=o.Rect;if(o.Rect&&(o.Rect=Q_(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Me.createDefaultAppearanceStream(o),bt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var p=Z_(o);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(o.appearanceStreamContent){var m="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var f=o.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var N=f[a];typeof N=="function"&&(N=N.call(i,o)),m+="/"+a+" "+N+" ",i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N)}}else typeof(N=f)=="function"&&(N=N.call(i,o)),m+="/"+a+" "+N,i.internal.acroformPlugin.xForms.indexOf(N)>=0||i.internal.acroformPlugin.xForms.push(N);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&rS(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},Ny=Gt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),bt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Oa(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},np=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Oa(n(t))+")"},ki=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};ki.prototype.toString=function(){return this.objId+" 0 R"},ki.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},ki.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:Ny(i,this.objId,this.scope)}):i instanceof ki?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var _y=function(){ki.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};dn(_y,ki);var Sy=function(){ki.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Oa(r(t))+")"}},set:function(r){t=r}})};dn(Sy,ki);var ci=function t(){ki.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute F supplied.');e=w}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!tr(e,3)},set:function(w){w?this.F=rr(e,3):this.F=nr(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(w){if(isNaN(w))throw new Error('Invalid value "'+w+'" for attribute Ff supplied.');r=w}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(w){n=w!==void 0?w:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(w){n[0]=w}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(w){n[1]=w}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(w){n[2]=w}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(w){n[3]=w}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(w){switch(w){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=w;break;default:throw new Error('Invalid value "'+w+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof eh)return;s="FieldObject"+t.FieldNum++}var w=function(x){return x};return this.scope&&(w=this.scope.internal.getEncryptor(this.objId)),"("+Oa(w(s))+")"},set:function(w){s=w.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(w){s=w}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(w){a=w}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(w){o=w}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(w){c=w}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Dm:d},set:function(w){d=w}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(w){p=w}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof eh||this instanceof Sa))return np(m,this.objId,this.scope)},set:function(w){w=w.toString(),m=w}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof br?y:np(y,this.objId,this.scope)},set:function(w){w=w.toString(),y=this instanceof br?w:w.substr(0,1)==="("?go(w.substr(1,w.length-2)):go(w)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof br?go(y.substr(1,y.length-1)):y},set:function(w){w=w.toString(),y=this instanceof br?"/"+w:w}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(w){this.V=w}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof br?f:np(f,this.objId,this.scope)},set:function(w){w=w.toString(),f=this instanceof br?w:w.substr(0,1)==="("?go(w.substr(1,w.length-2)):go(w)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof br?go(f.substr(1,f.length-1)):f},set:function(w){w=w.toString(),f=this instanceof br?"/"+w:w}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var N,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(w){w=!!w,_=w}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(N)return N},set:function(w){N=w}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,1)},set:function(w){w?this.Ff=rr(this.Ff,1):this.Ff=nr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,2)},set:function(w){w?this.Ff=rr(this.Ff,2):this.Ff=nr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,3)},set:function(w){w?this.Ff=rr(this.Ff,3):this.Ff=nr(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(w){if([0,1,2].indexOf(w)===-1)throw new Error('Invalid value "'+w+'" for attribute Q supplied.');j=w}}),Object.defineProperty(this,"textAlign",{get:function(){var w;switch(j){case 0:default:w="left";break;case 1:w="center";break;case 2:w="right"}return w},configurable:!0,enumerable:!0,set:function(w){switch(w){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};dn(ci,ki);var Bo=function(){ci.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Ny(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var c,d=[];c=a.exec(s);)d.push(c[o]);return d}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,18)},set:function(r){r?this.Ff=rr(this.Ff,18):this.Ff=nr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=rr(this.Ff,19):this.Ff=nr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,20)},set:function(r){r?(this.Ff=rr(this.Ff,20),e.sort()):this.Ff=nr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,22)},set:function(r){r?this.Ff=rr(this.Ff,22):this.Ff=nr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,23)},set:function(r){r?this.Ff=rr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,27)},set:function(r){r?this.Ff=rr(this.Ff,27):this.Ff=nr(this.Ff,27)}}),this.hasAppearanceStream=!1};dn(Bo,ci);var qo=function(){Bo.call(this),this.fontName="helvetica",this.combo=!1};dn(qo,Bo);var $o=function(){qo.call(this),this.combo=!0};dn($o,qo);var wd=function(){$o.call(this),this.edit=!0};dn(wd,$o);var br=function(){ci.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,15)},set:function(r){r?this.Ff=rr(this.Ff,15):this.Ff=nr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,16)},set:function(r){r?this.Ff=rr(this.Ff,16):this.Ff=nr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,17)},set:function(r){r?this.Ff=rr(this.Ff,17):this.Ff=nr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,26)},set:function(r){r?this.Ff=rr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Oa(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){bt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};dn(br,ci);var bd=function(){br.call(this),this.pushButton=!0};dn(bd,br);var Ho=function(){br.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};dn(Ho,br);var eh=function(){var t,e;ci.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Oa(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){bt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};dn(eh,ci),Ho.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Ho.prototype.createOption=function(t){var e=new eh;return e.Parent=this,e.optionName=t,this.Kids.push(e),iS.call(this.scope,e),e};var Nd=function(){br.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Me.CheckBox.createAppearanceStream()};dn(Nd,br);var Sa=function(){ci.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,13)},set:function(e){e?this.Ff=rr(this.Ff,13):this.Ff=nr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,21)},set:function(e){e?this.Ff=rr(this.Ff,21):this.Ff=nr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,23)},set:function(e){e?this.Ff=rr(this.Ff,23):this.Ff=nr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,24)},set:function(e){e?this.Ff=rr(this.Ff,24):this.Ff=nr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,25)},set:function(e){e?this.Ff=rr(this.Ff,25):this.Ff=nr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,26)},set:function(e){e?this.Ff=rr(this.Ff,26):this.Ff=nr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};dn(Sa,ci);var _d=function(){Sa.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!tr(this.Ff,14)},set:function(t){t?this.Ff=rr(this.Ff,14):this.Ff=nr(this.Ff,14)}}),this.password=!0};dn(_d,Sa);var Me={CheckBox:{createAppearanceStream:function(){return{N:{On:Me.CheckBox.YesNormal},D:{On:Me.CheckBox.YesPushDown,Off:Me.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=_0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+et(Me.internal.getWidth(t))+" "+et(Me.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+et(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Ni(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Me.internal.getHeight(t),a=Me.internal.getWidth(t),o=_0(t,t.caption);return i.push("1 g"),i.push("0 0 "+et(a)+" "+et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+et(a-1)+" "+et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+et(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+et(Me.internal.getWidth(t))+" "+et(Me.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Me.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Me.RadioButton.Circle.YesNormal,e.D[t]=Me.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Me.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+xs(Me.internal.getWidth(t)/2)+" "+xs(Me.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Me.internal.Bezier_C).toFixed(5)),a=Number((n*Me.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xs(Me.internal.getWidth(t)/2)+" "+xs(Me.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+xs(Me.internal.getWidth(t)/2)+" "+xs(Me.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Me.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+xs(Me.internal.getWidth(t)/2)+" "+xs(Me.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Me.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Me.RadioButton.Cross.YesNormal,e.D[t]=Me.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Ni(t);e.scope=t.scope;var r=[],n=Me.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+et(Me.internal.getWidth(t)-2)+" "+et(Me.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(et(n.x1.x)+" "+et(n.x1.y)+" m"),r.push(et(n.x2.x)+" "+et(n.x2.y)+" l"),r.push(et(n.x4.x)+" "+et(n.x4.y)+" m"),r.push(et(n.x3.x)+" "+et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=Me.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+et(Me.internal.getWidth(t))+" "+et(Me.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+et(Me.internal.getWidth(t)-2)+" "+et(Me.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(et(r.x1.x)+" "+et(r.x1.y)+" m"),n.push(et(r.x2.x)+" "+et(r.x2.y)+" l"),n.push(et(r.x4.x)+" "+et(r.x4.y)+" m"),n.push(et(r.x3.x)+" "+et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Ni(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+et(Me.internal.getWidth(t))+" "+et(Me.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Me.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Me.internal.getWidth(t),r=Me.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Me.internal.getWidth=function(t){var e=0;return bt(t)==="object"&&(e=r2(t.Rect[2])),e},Me.internal.getHeight=function(t){var e=0;return bt(t)==="object"&&(e=r2(t.Rect[3])),e};var iS=Gt.addField=function(t){if(nS(this,t),!(t instanceof ci))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gt.AcroFormChoiceField=Bo,Gt.AcroFormListBox=qo,Gt.AcroFormComboBox=$o,Gt.AcroFormEditBox=wd,Gt.AcroFormButton=br,Gt.AcroFormPushButton=bd,Gt.AcroFormRadioButton=Ho,Gt.AcroFormCheckBox=Nd,Gt.AcroFormTextField=Sa,Gt.AcroFormPasswordField=_d,Gt.AcroFormAppearance=Me,Gt.AcroForm={ChoiceField:Bo,ListBox:qo,ComboBox:$o,EditBox:wd,Button:br,PushButton:bd,RadioButton:Ho,CheckBox:Nd,TextField:Sa,PasswordField:_d,Appearance:Me},He.AcroForm={ChoiceField:Bo,ListBox:qo,ComboBox:$o,EditBox:wd,Button:br,PushButton:bd,RadioButton:Ho,CheckBox:Nd,TextField:Sa,PasswordField:_d,Appearance:Me};function jy(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(D,z){var B,W,he,ue,pe,G=e;if((z=z||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(M(D))for(pe in r)for(he=r[pe],B=0;B<he.length;B+=1){for(ue=!0,W=0;W<he[B].length;W+=1)if(he[B][W]!==void 0&&he[B][W]!==D[W]){ue=!1;break}if(ue===!0){G=pe;break}}else for(pe in r)for(he=r[pe],B=0;B<he.length;B+=1){for(ue=!0,W=0;W<he[B].length;W+=1)if(he[B][W]!==void 0&&he[B][W]!==D.charCodeAt(W)){ue=!1;break}if(ue===!0){G=pe;break}}return G===e&&z!==e&&(G=z),G},i=function D(z){for(var B=this.internal.write,W=this.internal.putStream,he=(0,this.internal.getFilters)();he.indexOf("FlateEncode")!==-1;)he.splice(he.indexOf("FlateEncode"),1);z.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:z.width}),ue.push({key:"Height",value:z.height}),z.colorSpace===j.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(z.palette.length/3-1)+" "+("sMask"in z&&z.sMask!==void 0?z.objectId+2:z.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+z.colorSpace}),z.colorSpace===j.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:z.bitsPerComponent}),"decodeParameters"in z&&z.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+z.decodeParameters+">>"}),"transparency"in z&&Array.isArray(z.transparency)){for(var pe="",G=0,ie=z.transparency.length;G<ie;G++)pe+=z.transparency[G]+" "+z.transparency[G]+" ";ue.push({key:"Mask",value:"["+pe+"]"})}z.sMask!==void 0&&ue.push({key:"SMask",value:z.objectId+1+" 0 R"});var le=z.filter!==void 0?["/"+z.filter]:void 0;if(W({data:z.data,additionalKeyValues:ue,alreadyAppliedFilters:le,objectId:z.objectId}),B("endobj"),"sMask"in z&&z.sMask!==void 0){var _e="/Predictor "+z.predictor+" /Colors 1 /BitsPerComponent "+z.bitsPerComponent+" /Columns "+z.width,P={width:z.width,height:z.height,colorSpace:"DeviceGray",bitsPerComponent:z.bitsPerComponent,decodeParameters:_e,data:z.sMask};"filter"in z&&(P.filter=z.filter),D.call(this,P)}if(z.colorSpace===j.INDEXED){var q=this.internal.newObject();W({data:O(new Uint8Array(z.palette)),objectId:q}),B("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var z in D)i.call(this,D[z])},a=function(){var D,z=this.internal.collections.addImage_images,B=this.internal.write;for(var W in z)B("/I"+(D=z[W]).index,D.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var D=this.internal.collections.addImage_images;return o.call(this),D},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(D){return typeof t["process"+D.toUpperCase()]=="function"},m=function(D){return bt(D)==="object"&&D.nodeType===1},y=function(D,z){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var B=""+D.getAttribute("src");if(B.indexOf("data:image/")===0)return pc(unescape(B).split("base64,").pop());var W=t.loadFile(B,!0);if(W!==void 0)return W}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var he;switch(z){case"PNG":he="image/png";break;case"WEBP":he="image/webp";break;case"JPEG":case"JPG":default:he="image/jpeg"}return pc(D.toDataURL(he,1).split("base64,").pop())}},f=function(D){var z=this.internal.collections.addImage_images;if(z){for(var B in z)if(D===z[B].alias)return z[B]}},N=function(D,z,B){return D||z||(D=-96,z=-96),D<0&&(D=-1*B.width*72/D/this.internal.scaleFactor),z<0&&(z=-1*B.height*72/z/this.internal.scaleFactor),D===0&&(D=z*B.width/B.height),z===0&&(z=D*B.height/B.width),[D,z]},_=function(D,z,B,W,he,ue){var pe=N.call(this,B,W,he),G=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,le=c.call(this);if(B=pe[0],W=pe[1],le[he.index]=he,ue){ue*=Math.PI/180;var _e=Math.cos(ue),P=Math.sin(ue),q=function(K){return K.toFixed(4)},H=[q(_e),q(P),q(-1*P),q(_e),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,G(D),ie(z+W),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([G(B),"0","0",G(W),"0","0","cm"].join(" "))):this.internal.write([G(B),"0","0",G(W),G(D),ie(z+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+he.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var w=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(D){var z,B,W=0;if(typeof D=="string")for(B=D.length,z=0;z<B;z++)W=(W<<5)-W+D.charCodeAt(z),W|=0;else if(M(D))for(B=D.byteLength/2,z=0;z<B;z++)W=(W<<5)-W+D[z],W|=0;return W},S=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var z=!0;return D.length===0&&(z=!1),D.length%4!=0&&(z=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(z=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(z=!1),z},F=t.__addimage__.extractImageFromDataUrl=function(D){var z=(D=D||"").split("base64,"),B=null;if(z.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(z[0]);Array.isArray(W)&&(B={mimeType:W[1],charset:W[2],data:z[1]})}return B},L=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return L()&&D instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(D){return L()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(D){for(var z=D.length,B=new Uint8Array(z),W=0;W<z;W++)B[W]=D.charCodeAt(W);return B},O=t.__addimage__.arrayBufferToBinaryString=function(D){for(var z="",B=M(D)?D:new Uint8Array(D),W=0;W<B.length;W+=8192)z+=String.fromCharCode.apply(null,B.subarray(W,W+8192));return z};t.addImage=function(){var D,z,B,W,he,ue,pe,G,ie;if(typeof arguments[1]=="number"?(z=e,B=arguments[1],W=arguments[2],he=arguments[3],ue=arguments[4],pe=arguments[5],G=arguments[6],ie=arguments[7]):(z=arguments[1],B=arguments[2],W=arguments[3],he=arguments[4],ue=arguments[5],pe=arguments[6],G=arguments[7],ie=arguments[8]),bt(D=arguments[0])==="object"&&!m(D)&&"imageData"in D){var le=D;D=le.imageData,z=le.format||z||e,B=le.x||B||0,W=le.y||W||0,he=le.w||le.width||he,ue=le.h||le.height||ue,pe=le.alias||pe,G=le.compression||G,ie=le.rotation||le.angle||ie}var _e=this.internal.getFilters();if(G===void 0&&_e.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(B)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var P=Z.call(this,D,z,pe,G);return _.call(this,B,W,he,ue,P,ie),this};var Z=function(D,z,B,W){var he,ue,pe;if(typeof D=="string"&&n(D)===e){D=unescape(D);var G=re(D,!1);(G!==""||(G=t.loadFile(D,!0))!==void 0)&&(D=G)}if(m(D)&&(D=y(D,z)),z=n(D,z),!p(z))throw new Error("addImage does not support files of type '"+z+"', please ensure that a plugin for '"+z+"' support is added.");if(((pe=B)==null||pe.length===0)&&(B=function(ie){return typeof ie=="string"||M(ie)?x(ie):M(ie.data)?x(ie.data):null}(D)),(he=f.call(this,B))||(L()&&(D instanceof Uint8Array||z==="RGBA"||(ue=D,D=R(D))),he=this["process"+z.toUpperCase()](D,d.call(this),B,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:w.NONE}(W),ue)),!he)throw new Error("An unknown error occurred whilst processing the image.");return he},re=t.__addimage__.convertBase64ToBinaryString=function(D,z){var B;z=typeof z!="boolean"||z;var W,he="";if(typeof D=="string"){W=(B=F(D))!==null?B.data:D;try{he=pc(W)}catch(ue){if(z)throw S(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return he};t.getImageProperties=function(D){var z,B,W="";if(m(D)&&(D=y(D)),typeof D=="string"&&n(D)===e&&((W=re(D,!1))===""&&(W=t.loadFile(D)||""),D=W),B=n(D),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!L()||D instanceof Uint8Array||(D=R(D)),!(z=this["process"+B.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return z.fileType=B,z}})(He.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};He.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,p=!1,m=0;m<d.length&&!p;m++)switch((n=d[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var f=this.internal.pdfEscape,N=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),w=this.internal.getEncryptor(_.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(w(n.contents))+")",s+=" /Popup "+j.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+f(w(x))+") >>",_.content=s;var S=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",j.content=s,this.internal.write(_.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var F=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(N(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var L=this.annotations._nameMap[n.options.name];n.options.pageNumber=L.page,n.options.top=L.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(N(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var M=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+i),h:d(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var p=this.splitTextToSize(r,o).length;a=Math.ceil(d*p)}else o=c,a=d;return this.text(r,n,i,s),i+=.2*d,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-d,o,a,s),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(He.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},o=t.__arabicParser__.isArabicEndLetter=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(_){return a(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(_){var j=0,w=r,x="",S=0;for(j=0;j<_.length;j+=1)w[_.charCodeAt(j)]!==void 0?(S++,typeof(w=w[_.charCodeAt(j)])=="number"&&(x+=String.fromCharCode(w),w=r,S=0),j===_.length-1&&(w=r,x+=_.charAt(j-(S-1)),j-=S-1,S=0)):(w=r,x+=_.charAt(j-S),j-=S,S=0);return x};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(_,j,w){return a(_)?s(_)===!1?-1:!d(_)||!a(j)&&!a(w)||!a(w)&&o(j)||o(_)&&!a(j)||o(_)&&c(j)||o(_)&&o(j)?0:p(_)&&a(j)&&!o(j)&&a(w)&&d(w)?3:o(_)||!a(w)?1:2:-1},f=function(_){var j=0,w=0,x=0,S="",F="",L="",M=(_=_||"").split("\\s+"),R=[];for(j=0;j<M.length;j+=1){for(R.push(""),w=0;w<M[j].length;w+=1)S=M[j][w],F=M[j][w-1],L=M[j][w+1],a(S)?(x=y(S,F,L),R[j]+=x!==-1?String.fromCharCode(e[S.charCodeAt(0)][x]):S):R[j]+=S;R[j]=m(R[j])}return R.join(" ")},N=t.__arabicParser__.processArabic=t.processArabic=function(){var _,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,w=[];if(Array.isArray(j)){var x=0;for(w=[],x=0;x<j.length;x+=1)Array.isArray(j[x])?w.push([f(j[x][0]),j[x][1],j[x][2]]):w.push([f(j[x])]);_=w}else _=f(j);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",N])}(He.API),He.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(He.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var N=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return N},set:function(_){N=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,f=0,N=0,_=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var w=d.maxWidth;w>0?typeof c=="string"?c=this.splitTextToSize(c,w):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,F){return S.concat(j.splitTextToSize(F,w))},[])):c=Array.isArray(c)?c:[c];for(var x=0;x<c.length;x++)f<(_=this.getStringUnitWidth(c[x],{font:m})*p)&&(f=_);return f!==0&&(N=c.length),{w:f/=y,h:Math.max((N*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,f&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,p,m,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var f,N,_,j,w=[],x=[],S=[],F={},L={},M=[],R=[],O=(y=y||{}).autoSize||!1,Z=y.printHeaders!==!1,re=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,D=y.margins||Object.assign({width:this.getPageWidth()},e),z=typeof y.padding=="number"?y.padding:3,B=y.headerBackgroundColor||"#c8c8c8",W=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=Z,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=re,this.internal.__cell__.padding=z,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=W,this.setFontSize(re),m==null)x=w=Object.keys(p[0]),S=w.map(function(){return"left"});else if(Array.isArray(m)&&bt(m[0])==="object")for(w=m.map(function(le){return le.name}),x=m.map(function(le){return le.prompt||le.name||""}),S=m.map(function(le){return le.align||"left"}),f=0;f<m.length;f+=1)L[m[f].name]=m[f].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(x=w=m,S=w.map(function(){return"left"}));if(O||Array.isArray(m)&&typeof m[0]=="string")for(f=0;f<w.length;f+=1){for(F[j=w[f]]=p.map(function(le){return le[j]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(x[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),N=F[j],this.setFont(void 0,"normal"),_=0;_<N.length;_+=1)M.push(this.getTextDimensions(N[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);L[j]=Math.max.apply(null,M)+z+z,M=[]}if(Z){var he={};for(f=0;f<w.length;f+=1)he[w[f]]={},he[w[f]].text=x[f],he[w[f]].align=S[f];var ue=o.call(this,he,L);R=w.map(function(le){return new s(c,d,L[le],ue,he[le].text,void 0,he[le].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var pe=m.reduce(function(le,_e){return le[_e.name]=_e.align,le},{});for(f=0;f<p.length;f+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:f,data:p[f]},this);var G=o.call(this,p[f],L);for(_=0;_<w.length;_+=1){var ie=p[f][w[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:f,col:_,data:ie},this),a.call(this,new s(c,d,L[w[_]],G,ie,f+2,pe[w[_]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(f){var N=c[f];return this.splitTextToSize(N.hasOwnProperty("text")?N.text:N,d[f]-p-p)},this).map(function(f){return this.getLineHeightFactor()*f.length*m/y+p+p},this).reduce(function(f,N){return Math.max(f,N)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){p=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=c;var N=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(N)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(He.API);var ky={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Ay=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],S0=jy(Ay),Ly=[100,200,300,400,500,600,700,800,900],sS=jy(Ly);function j0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return ky[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof S0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function n2(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var aS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},i2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function s2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function oS(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},aS,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=j0(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+s2(s)+"' and default family '"+n+"'.");if(a=function(c,d){if(d[c])return d[c];var p=S0[c],m=p<=S0.normal?-1:1,y=n2(d,Ay,p,m);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(s.stretch,a),a=function(c,d){if(d[c])return d[c];for(var p=ky[c],m=0;m<p.length;++m)if(d[p[m]])return d[p[m]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var p=sS[c],m=n2(d,Ly,p,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+s2(s)+"'.");return a}function a2(t){return t.trimLeft()}function lS(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function cS(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var sd,o2,l2,ip=["times"];(function(t){var e,r,n,i,s,a,o,c,d,p=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new c,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new p}]);var m=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=P;Object.defineProperty(this,"pdf",{get:function(){return q}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(ve){H=!!ve}});var K=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return K},set:function(ve){K=!!ve}});var ee=0;Object.defineProperty(this,"posX",{get:function(){return ee},set:function(ve){isNaN(ve)||(ee=ve)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ve){isNaN(ve)||(ce=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var V;typeof ve=="number"?V=[ve,ve,ve,ve]:((V=new Array(4))[0]=ve[0],V[1]=ve.length>=2?ve[1]:V[0],V[2]=ve.length>=3?ve[2]:V[0],V[3]=ve.length>=4?ve[3]:V[1]),d.margin=V}});var de=!1;Object.defineProperty(this,"autoPaging",{get:function(){return de},set:function(ve){de=ve}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ve){fe=ve}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ve){Ae=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof p&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ve){ke=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var V;V=y(ve),this.ctx.fillStyle=V.style,this.ctx.isFillTransparent=V.a===0,this.ctx.fillOpacity=V.a,this.pdf.setFillColor(V.r,V.g,V.b,{a:V.a}),this.pdf.setTextColor(V.r,V.g,V.b,{a:V.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var V=y(ve);this.ctx.strokeStyle=V.style,this.ctx.isStrokeTransparent=V.a===0,this.ctx.strokeOpacity=V.a,V.a===0?this.pdf.setDrawColor(255,255,255):(V.a,this.pdf.setDrawColor(V.r,V.g,V.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Oe=null;function Ee(ve,V){if(Oe===null){var tt=function(Ue){var Se=[];return Object.keys(Ue).forEach(function(Le){Ue[Le].forEach(function(De){var Ie=null;switch(De){case"bold":Ie={family:Le,weight:"bold"};break;case"italic":Ie={family:Le,style:"italic"};break;case"bolditalic":Ie={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:Le}}Ie!==null&&(Ie.ref={name:Le,style:De},Se.push(Ie))})}),Se}(ve.getFontList());Oe=function(Ue){for(var Se={},Le=0;Le<Ue.length;++Le){var De=j0(Ue[Le]),Ie=De.family,Be=De.stretch,Xe=De.style,st=De.weight;Se[Ie]=Se[Ie]||{},Se[Ie][Be]=Se[Ie][Be]||{},Se[Ie][Be][Xe]=Se[Ie][Be][Xe]||{},Se[Ie][Be][Xe][st]=De}return Se}(tt.concat(V))}return Oe}var Ve=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ve},set:function(ve){Oe=null,Ve=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var V;if(this.ctx.font=ve,(V=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var tt=V[1],Ue=(V[2],V[3]),Se=V[4],Le=(V[5],V[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(De==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Ie=function(Ke){var ot,Re,Er=[],mt=Ke.trim();if(mt==="")return ip;if(mt in i2)return[i2[mt]];for(;mt!=="";){switch(Re=null,ot=(mt=a2(mt)).charAt(0)){case'"':case"'":Re=lS(mt.substring(1),ot);break;default:Re=cS(mt)}if(Re===null||(Er.push(Re[0]),(mt=a2(Re[1]))!==""&&mt.charAt(0)!==","))return ip;mt=mt.replace(/^,/,"")}return Er}(Le);if(this.fontFaces){var Be=oS(Ee(this.pdf,this.fontFaces),Ie.map(function(Ke){return{family:Ke,stretch:"normal",weight:Ue,style:tt}}));this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Xe="";(Ue==="bold"||parseInt(Ue,10)>=700||tt==="bold")&&(Xe="bold"),tt==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var st="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Ie.length;ht++){if(this.pdf.internal.getFont(Ie[ht],Xe,{noFallback:!0,disableWarning:!0})!==void 0){st=Ie[ht];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(Ie[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Ie[ht],Xe="bold";else if(this.pdf.internal.getFont(Ie[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Ie[ht],Xe="normal";break}}if(st===""){for(var _t=0;_t<Ie.length;_t++)if(at[Ie[_t]]){st=at[Ie[_t]];break}}st=st===""?"Times":st,this.pdf.setFont(st,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};m.prototype.setLineDash=function(P){this.lineDash=P},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(P,q){if(isNaN(P)||isNaN(q))throw Lt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new a(P,q));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(P,q)},m.prototype.closePath=function(){var P=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&bt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){P=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},m.prototype.lineTo=function(P,q){if(isNaN(P)||isNaN(q))throw Lt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new a(P,q));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(H.x,H.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(P,q,H,K){if(isNaN(H)||isNaN(K)||isNaN(P)||isNaN(q))throw Lt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ee=this.ctx.transform.applyToPoint(new a(H,K)),ce=this.ctx.transform.applyToPoint(new a(P,q));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:ee.x,y:ee.y}),this.ctx.lastPoint=new a(ee.x,ee.y)},m.prototype.bezierCurveTo=function(P,q,H,K,ee,ce){if(isNaN(ee)||isNaN(ce)||isNaN(P)||isNaN(q)||isNaN(H)||isNaN(K))throw Lt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var de=this.ctx.transform.applyToPoint(new a(ee,ce)),fe=this.ctx.transform.applyToPoint(new a(P,q)),Ae=this.ctx.transform.applyToPoint(new a(H,K));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ae.x,y2:Ae.y,x:de.x,y:de.y}),this.ctx.lastPoint=new a(de.x,de.y)},m.prototype.arc=function(P,q,H,K,ee,ce){if(isNaN(P)||isNaN(q)||isNaN(H)||isNaN(K)||isNaN(ee))throw Lt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var de=this.ctx.transform.applyToPoint(new a(P,q));P=de.x,q=de.y;var fe=this.ctx.transform.applyToPoint(new a(0,H)),Ae=this.ctx.transform.applyToPoint(new a(0,0));H=Math.sqrt(Math.pow(fe.x-Ae.x,2)+Math.pow(fe.y-Ae.y,2))}Math.abs(ee-K)>=2*Math.PI&&(K=0,ee=2*Math.PI),this.path.push({type:"arc",x:P,y:q,radius:H,startAngle:K,endAngle:ee,counterclockwise:ce})},m.prototype.arcTo=function(P,q,H,K,ee){throw new Error("arcTo not implemented.")},m.prototype.rect=function(P,q,H,K){if(isNaN(P)||isNaN(q)||isNaN(H)||isNaN(K))throw Lt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,q),this.lineTo(P+H,q),this.lineTo(P+H,q+K),this.lineTo(P,q+K),this.lineTo(P,q),this.lineTo(P+H,q),this.lineTo(P,q)},m.prototype.fillRect=function(P,q,H,K){if(isNaN(P)||isNaN(q)||isNaN(H)||isNaN(K))throw Lt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var ee={};this.lineCap!=="butt"&&(ee.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ee.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,q,H,K),this.fill(),ee.hasOwnProperty("lineCap")&&(this.lineCap=ee.lineCap),ee.hasOwnProperty("lineJoin")&&(this.lineJoin=ee.lineJoin)}},m.prototype.strokeRect=function(P,q,H,K){if(isNaN(P)||isNaN(q)||isNaN(H)||isNaN(K))throw Lt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");N.call(this)||(this.beginPath(),this.rect(P,q,H,K),this.stroke())},m.prototype.clearRect=function(P,q,H,K){if(isNaN(P)||isNaN(q)||isNaN(H)||isNaN(K))throw Lt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,q,H,K))},m.prototype.save=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var K=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=K}},m.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(q),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var q,H,K,ee;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))q=0,H=0,K=0,ee=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(ce!==null)q=parseInt(ce[1]),H=parseInt(ce[2]),K=parseInt(ce[3]),ee=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)q=parseInt(ce[1]),H=parseInt(ce[2]),K=parseInt(ce[3]),ee=parseFloat(ce[4]);else{if(ee=1,typeof P=="string"&&P.charAt(0)!=="#"){var de=new xy(P);P=de.ok?de.toHex():"#000000"}P.length===4?(q=P.substring(1,2),q+=q,H=P.substring(2,3),H+=H,K=P.substring(3,4),K+=K):(q=P.substring(1,3),H=P.substring(3,5),K=P.substring(5,7)),q=parseInt(q,16),H=parseInt(H,16),K=parseInt(K,16)}}return{r:q,g:H,b:K,a:ee,style:P}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},N=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(P,q,H,K){if(isNaN(q)||isNaN(H)||typeof P!="string")throw Lt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(K=isNaN(K)?void 0:K,!f.call(this)){var ee=G(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;z.call(this,{text:P,x:q,y:H,scale:ce,angle:ee,align:this.textAlign,maxWidth:K})}},m.prototype.strokeText=function(P,q,H,K){if(isNaN(q)||isNaN(H)||typeof P!="string")throw Lt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!N.call(this)){K=isNaN(K)?void 0:K;var ee=G(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;z.call(this,{text:P,x:q,y:H,scale:ce,renderingMode:"stroke",angle:ee,align:this.textAlign,maxWidth:K})}},m.prototype.measureText=function(P){if(typeof P!="string")throw Lt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,H=this.pdf.internal.scaleFactor,K=q.internal.getFontSize(),ee=q.getStringUnitWidth(P)*K/q.internal.scaleFactor,ce=function(de){var fe=(de=de||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new ce({width:ee*=Math.round(96*H/72*1e4)/1e4})},m.prototype.scale=function(P,q){if(isNaN(P)||isNaN(q))throw Lt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new c(P,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.rotate=function(P){if(isNaN(P))throw Lt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.translate=function(P,q){if(isNaN(P)||isNaN(q))throw Lt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new c(1,0,0,1,P,q);this.ctx.transform=this.ctx.transform.multiply(H)},m.prototype.transform=function(P,q,H,K,ee,ce){if(isNaN(P)||isNaN(q)||isNaN(H)||isNaN(K)||isNaN(ee)||isNaN(ce))throw Lt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var de=new c(P,q,H,K,ee,ce);this.ctx.transform=this.ctx.transform.multiply(de)},m.prototype.setTransform=function(P,q,H,K,ee,ce){P=isNaN(P)?1:P,q=isNaN(q)?0:q,H=isNaN(H)?0:H,K=isNaN(K)?1:K,ee=isNaN(ee)?0:ee,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(P,q,H,K,ee,ce)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(P,q,H,K,ee,ce,de,fe,Ae){var ke=this.pdf.getImageProperties(P),Oe=1,Ee=1,Ve=1,ve=1;K!==void 0&&fe!==void 0&&(Ve=fe/K,ve=Ae/ee,Oe=ke.width/K*fe/K,Ee=ke.height/ee*Ae/ee),ce===void 0&&(ce=q,de=H,q=0,H=0),K!==void 0&&fe===void 0&&(fe=K,Ae=ee),K===void 0&&fe===void 0&&(fe=ke.width,Ae=ke.height);for(var V,tt=this.ctx.transform.decompose(),Ue=G(tt.rotate.shx),Se=new c,Le=(Se=(Se=(Se=Se.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new o(ce-q*Ve,de-H*ve,K*Oe,ee*Ee)),De=j.call(this,Le),Ie=[],Be=0;Be<De.length;Be+=1)Ie.indexOf(De[Be])===-1&&Ie.push(De[Be]);if(S(Ie),this.autoPaging)for(var Xe=Ie[0],st=Ie[Ie.length-1],at=Xe;at<st+1;at++){this.pdf.setPage(at);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],_t=at===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=at===1?0:Ke+(at-2)*ot;if(this.ctx.clip_path.length!==0){var Er=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(V,this.posX+this.margin[3],-Re+_t+this.ctx.prevPageLastElemOffset),L.call(this,"fill",!0),this.path=Er}var mt=JSON.parse(JSON.stringify(Le));mt=x([mt],this.posX+this.margin[3],-Re+_t+this.ctx.prevPageLastElemOffset)[0];var Mn=(at>Xe||at<st)&&_.call(this);Mn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,ot,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",mt.x,mt.y,mt.w,mt.h,null,null,Ue),Mn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Ue)};var j=function(P,q,H){var K=[];q=q||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ee=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":K.push(Math.floor((P.y+ee)/H)+1);break;case"arc":K.push(Math.floor((P.y+ee-P.radius)/H)+1),K.push(Math.floor((P.y+ee+P.radius)/H)+1);break;case"qct":var ce=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);K.push(Math.floor((ce.y+ee)/H)+1),K.push(Math.floor((ce.y+ce.h+ee)/H)+1);break;case"bct":var de=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);K.push(Math.floor((de.y+ee)/H)+1),K.push(Math.floor((de.y+de.h+ee)/H)+1);break;case"rect":K.push(Math.floor((P.y+ee)/H)+1),K.push(Math.floor((P.y+P.h+ee)/H)+1)}for(var fe=0;fe<K.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<K[fe];)w.call(this);return K},w=function(){var P=this.fillStyle,q=this.strokeStyle,H=this.font,K=this.lineCap,ee=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=q,this.font=H,this.lineCap=K,this.lineWidth=ee,this.lineJoin=ce},x=function(P,q,H){for(var K=0;K<P.length;K++)switch(P[K].type){case"bct":P[K].x2+=q,P[K].y2+=H;case"qct":P[K].x1+=q,P[K].y1+=H;case"mt":case"lt":case"arc":default:P[K].x+=q,P[K].y+=H}return P},S=function(P){return P.sort(function(q,H){return q-H})},F=function(P,q){for(var H,K,ee=this.fillStyle,ce=this.strokeStyle,de=this.lineCap,fe=this.lineWidth,Ae=Math.abs(fe*this.ctx.transform.scaleX),ke=this.lineJoin,Oe=JSON.parse(JSON.stringify(this.path)),Ee=JSON.parse(JSON.stringify(this.path)),Ve=[],ve=0;ve<Ee.length;ve++)if(Ee[ve].x!==void 0)for(var V=j.call(this,Ee[ve]),tt=0;tt<V.length;tt+=1)Ve.indexOf(V[tt])===-1&&Ve.push(V[tt]);for(var Ue=0;Ue<Ve.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<Ve[Ue];)w.call(this);if(S(Ve),this.autoPaging)for(var Se=Ve[0],Le=Ve[Ve.length-1],De=Se;De<Le+1;De++){this.pdf.setPage(De),this.fillStyle=ee,this.strokeStyle=ce,this.lineCap=de,this.lineWidth=Ae,this.lineJoin=ke;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=De===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=De===1?0:Xe+(De-2)*st;if(this.ctx.clip_path.length!==0){var ht=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(H,this.posX+this.margin[3],-at+Be+this.ctx.prevPageLastElemOffset),L.call(this,P,!0),this.path=ht}if(K=JSON.parse(JSON.stringify(Oe)),this.path=x(K,this.posX+this.margin[3],-at+Be+this.ctx.prevPageLastElemOffset),q===!1||De===0){var _t=(De>Se||De<Le)&&_.call(this);_t&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,st,null).clip().discardPath()),L.call(this,P,q),_t&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ae,L.call(this,P,q),this.lineWidth=fe;this.path=Oe},L=function(P,q){if((P!=="stroke"||q||!N.call(this))&&(P==="stroke"||q||!f.call(this))){for(var H,K,ee=[],ce=this.path,de=0;de<ce.length;de++){var fe=ce[de];switch(fe.type){case"begin":ee.push({begin:!0});break;case"close":ee.push({close:!0});break;case"mt":ee.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ae=ee.length;if(ce[de-1]&&!isNaN(ce[de-1].x)&&(H=[fe.x-ce[de-1].x,fe.y-ce[de-1].y],Ae>0)){for(;Ae>=0;Ae--)if(ee[Ae-1].close!==!0&&ee[Ae-1].begin!==!0){ee[Ae-1].deltas.push(H),ee[Ae-1].abs.push(fe);break}}break;case"bct":H=[fe.x1-ce[de-1].x,fe.y1-ce[de-1].y,fe.x2-ce[de-1].x,fe.y2-ce[de-1].y,fe.x-ce[de-1].x,fe.y-ce[de-1].y],ee[ee.length-1].deltas.push(H);break;case"qct":var ke=ce[de-1].x+2/3*(fe.x1-ce[de-1].x),Oe=ce[de-1].y+2/3*(fe.y1-ce[de-1].y),Ee=fe.x+2/3*(fe.x1-fe.x),Ve=fe.y+2/3*(fe.y1-fe.y),ve=fe.x,V=fe.y;H=[ke-ce[de-1].x,Oe-ce[de-1].y,Ee-ce[de-1].x,Ve-ce[de-1].y,ve-ce[de-1].x,V-ce[de-1].y],ee[ee.length-1].deltas.push(H);break;case"arc":ee.push({deltas:[],abs:[],arc:!0}),Array.isArray(ee[ee.length-1].abs)&&ee[ee.length-1].abs.push(fe)}}K=q?null:P==="stroke"?"stroke":"fill";for(var tt=!1,Ue=0;Ue<ee.length;Ue++)if(ee[Ue].arc)for(var Se=ee[Ue].abs,Le=0;Le<Se.length;Le++){var De=Se[Le];De.type==="arc"?O.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,q,!tt):B.call(this,De.x,De.y),tt=!0}else if(ee[Ue].close===!0)this.pdf.internal.out("h"),tt=!1;else if(ee[Ue].begin!==!0){var Ie=ee[Ue].start.x,Be=ee[Ue].start.y;W.call(this,ee[Ue].deltas,Ie,Be),tt=!0}K&&Z.call(this,K),q&&re.call(this)}},M=function(P){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-H;case"top":return P+q-H;case"hanging":return P+q-2*H;case"middle":return P+q/2-H;case"ideographic":return P;case"alphabetic":default:return P}},R=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(q,H){this.colorStops.push([q,H])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(P,q,H,K,ee,ce,de,fe,Ae){for(var ke=ue.call(this,H,K,ee,ce),Oe=0;Oe<ke.length;Oe++){var Ee=ke[Oe];Oe===0&&(Ae?D.call(this,Ee.x1+P,Ee.y1+q):B.call(this,Ee.x1+P,Ee.y1+q)),he.call(this,P,q,Ee.x2,Ee.y2,Ee.x3,Ee.y3,Ee.x4,Ee.y4)}fe?re.call(this):Z.call(this,de)},Z=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},re=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(P,q){this.pdf.internal.out(r(P)+" "+n(q)+" m")},z=function(P){var q;switch(P.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var H=this.pdf.getTextDimensions(P.text),K=M.call(this,P.y),ee=R.call(this,K)-H.h,ce=this.ctx.transform.applyToPoint(new a(P.x,K)),de=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(de.translate)).multiply(de.skew)).multiply(de.scale);for(var Ae,ke,Oe,Ee=this.ctx.transform.applyToRectangle(new o(P.x,K,H.w,H.h)),Ve=fe.applyToRectangle(new o(P.x,ee,H.w,H.h)),ve=j.call(this,Ve),V=[],tt=0;tt<ve.length;tt+=1)V.indexOf(ve[tt])===-1&&V.push(ve[tt]);if(S(V),this.autoPaging)for(var Ue=V[0],Se=V[V.length-1],Le=Ue;Le<Se+1;Le++){this.pdf.setPage(Le);var De=Le===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],Xe=Be-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],at=st-this.margin[3],ht=Le===1?0:Ie+(Le-2)*Xe;if(this.ctx.clip_path.length!==0){var _t=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Ae,this.posX+this.margin[3],-1*ht+De),L.call(this,"fill",!0),this.path=_t}var Ke=x([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-ht+De+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*P.scale),Oe=this.lineWidth,this.lineWidth=Oe*P.scale);var ot=this.autoPaging!=="text";if(ot||Ke.y+Ke.h<=Be){if(ot||Ke.y>=De&&Ke.x<=st){var Re=ot?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||st-Ke.x)[0],Er=x([JSON.parse(JSON.stringify(Ee))],this.posX+this.margin[3],-ht+De+this.ctx.prevPageLastElemOffset)[0],mt=ot&&(Le>Ue||Le<Se)&&_.call(this);mt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Xe,null).clip().discardPath()),this.pdf.text(Re,Er.x,Er.y,{angle:P.angle,align:q,renderingMode:P.renderingMode}),mt&&this.pdf.restoreGraphicsState()}}else Ke.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-Ke.y);P.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Oe)}else P.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*P.scale),Oe=this.lineWidth,this.lineWidth=Oe*P.scale),this.pdf.text(P.text,ce.x+this.posX,ce.y+this.posY,{angle:P.angle,align:q,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Oe)},B=function(P,q,H,K){H=H||0,K=K||0,this.pdf.internal.out(r(P+H)+" "+n(q+K)+" l")},W=function(P,q,H){return this.pdf.lines(P,q,H,null,null)},he=function(P,q,H,K,ee,ce,de,fe){this.pdf.internal.out([e(i(H+P)),e(s(K+q)),e(i(ee+P)),e(s(ce+q)),e(i(de+P)),e(s(fe+q)),"c"].join(" "))},ue=function(P,q,H,K){for(var ee=2*Math.PI,ce=Math.PI/2;q>H;)q-=ee;var de=Math.abs(H-q);de<ee&&K&&(de=ee-de);for(var fe=[],Ae=K?-1:1,ke=q;de>1e-5;){var Oe=ke+Ae*Math.min(de,ce);fe.push(pe.call(this,P,ke,Oe)),de-=Math.abs(Oe-ke),ke=Oe}return fe},pe=function(P,q,H){var K=(H-q)/2,ee=P*Math.cos(K),ce=P*Math.sin(K),de=ee,fe=-ce,Ae=de*de+fe*fe,ke=Ae+de*ee+fe*ce,Oe=4/3*(Math.sqrt(2*Ae*ke)-ke)/(de*ce-fe*ee),Ee=de-Oe*fe,Ve=fe+Oe*de,ve=Ee,V=-Ve,tt=K+q,Ue=Math.cos(tt),Se=Math.sin(tt);return{x1:P*Math.cos(q),y1:P*Math.sin(q),x2:Ee*Ue-Ve*Se,y2:Ee*Se+Ve*Ue,x3:ve*Ue-V*Se,y3:ve*Se+V*Ue,x4:P*Math.cos(H),y4:P*Math.sin(H)}},G=function(P){return 180*P/Math.PI},ie=function(P,q,H,K,ee,ce){var de=P+.5*(H-P),fe=q+.5*(K-q),Ae=ee+.5*(H-ee),ke=ce+.5*(K-ce),Oe=Math.min(P,ee,de,Ae),Ee=Math.max(P,ee,de,Ae),Ve=Math.min(q,ce,fe,ke),ve=Math.max(q,ce,fe,ke);return new o(Oe,Ve,Ee-Oe,ve-Ve)},le=function(P,q,H,K,ee,ce,de,fe){var Ae,ke,Oe,Ee,Ve,ve,V,tt,Ue,Se,Le,De,Ie,Be,Xe=H-P,st=K-q,at=ee-H,ht=ce-K,_t=de-ee,Ke=fe-ce;for(ke=0;ke<41;ke++)Ue=(V=(Oe=P+(Ae=ke/40)*Xe)+Ae*((Ve=H+Ae*at)-Oe))+Ae*(Ve+Ae*(ee+Ae*_t-Ve)-V),Se=(tt=(Ee=q+Ae*st)+Ae*((ve=K+Ae*ht)-Ee))+Ae*(ve+Ae*(ce+Ae*Ke-ve)-tt),ke==0?(Le=Ue,De=Se,Ie=Ue,Be=Se):(Le=Math.min(Le,Ue),De=Math.min(De,Se),Ie=Math.max(Ie,Ue),Be=Math.max(Be,Se));return new o(Math.round(Le),Math.round(De),Math.round(Ie-Le),Math.round(Be-De))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,q,H=(P=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:q}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(He.API),function(t){var e=function(s){var a,o,c,d,p,m,y,f,N,_;for(o=[],c=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(m=(p=((p=((p=((p=(p-(_=p%85))/85)-(N=p%85))/85)-(f=p%85))/85)-(y=p%85))/85)%85,o.push(m+33,y+33,f+33,N+33,_+33)):o.push(122);return function(j,w){for(var x=w;x>0;x--)j.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,c,d,p,m=String,y="length",f=255,N="charCodeAt",_="slice",j="replace";for(s[_](-2),s=s[_](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],d=0,p=(s+=a="uuuuu"[_](s[y]%5||5))[y];p>d;d+=5)o=52200625*(s[N](d)-33)+614125*(s[N](d+1)-33)+7225*(s[N](d+2)-33)+85*(s[N](d+3)-33)+(s[N](d+4)-33),c.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(w,x){for(var S=x;S>0;S--)w.pop()}(c,a[y]),m.fromCharCode.apply(m,c)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=x0(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,a){var o=0,c=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(He.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,d,p){var m=new XMLHttpRequest,y=0,f=function(N){var _=N.length,j=[],w=String.fromCharCode;for(y=0;y<_;y+=1)j.push(w(255&N.charCodeAt(y)));return j.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?p(f(this.responseText)):p(void 0)}),m.send(null),d&&m.status===200)return f(m.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(He.API),function(t){function e(){return(Ge.html2canvas?Promise.resolve(Ge.html2canvas):$s(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Ge.DOMPurify?Promise.resolve(Ge.DOMPurify):$s(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=bt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var c=document.createElement(a);for(var d in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[d]=o.style[d];return c},s=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(d,p){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)p!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(c(y,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var f=d[y],N=f.src.find(function(_){return _.format==="truetype"});N&&c.addFont(N.url,f.ref.name,f.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),o(this.prop.container,m)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||He.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,c,d){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,c,d){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(d,p){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,d),m}).then(d,p).then(function(m){return c.updateProgress(1),m})})},s.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=c.call(d,a,o);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,He.getPageSize=function(a,o,c){if(bt(a)==="object"){var d=a;a=d.orientation,o=d.unit||o,c=d.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var p,m=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+o}var f,N=0,_=0;if(y.hasOwnProperty(m))N=y[m][1]/p,_=y[m][0]/p;else try{N=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",_>N&&(f=_,_=N,N=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",N>_&&(f=_,_=N,N=f)}return{width:_,height:N,unit:o,k:p,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(j0):null;var c=new s(o);return o.worker?c:c.from(a).doCallback()}}(He.API),He.API.addJS=function(t){return l2=t,this.internal.events.subscribe("postPutResources",function(){sd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),o2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+l2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sd!==void 0&&o2!==void 0&&this.internal.out("/Names <</JavaScript "+sd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(s=0;s<d;s++){var m=r.internal.newObject();p.push(m);var y=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<p.length;s++)r.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(He.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var c,d=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(m){for(var y,f=256*m.charCodeAt(4)+m.charCodeAt(5),N=m.length,_={width:0,height:0,numcomponents:1},j=4;j<N;j+=2){if(j+=f,e.indexOf(m.charCodeAt(j+1))!==-1){y=256*m.charCodeAt(j+5)+m.charCodeAt(j+6),_={width:256*m.charCodeAt(j+7)+m.charCodeAt(j+8),height:y,numcomponents:m.charCodeAt(j+9)};break}f=256*m.charCodeAt(j+2)+m.charCodeAt(j+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}p={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:i}}return p}}(He.API);var vo,ad,c2,u2,d2,uS=function(){var t,e,r;function n(s){var a,o,c,d,p,m,y,f,N,_,j,w,x,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),N=(function(){var F,L;for(L=[],F=0;F<4;++F)L.push(String.fromCharCode(this.data[this.pos++]));return L}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*p/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(N==="fdAT"&&(this.pos+=4,a-=4),s=(m!=null?m.data:void 0)||this.imgData,w=0;0<=a?w<a:w>a;0<=a?++w:--w)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((_=c-this.transparency.indexed.length)>0)for(x=0;0<=_?x<_:x>_;0<=_?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(j=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,j.slice(0,y)),this.text[f]=String.fromCharCode.apply(String,j.slice(y+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(m,y,f,N){var _,j,w,x,S,F,L,M,R,O,Z,re,D,z,B,W,he,ue,pe,G,ie,le=Math.ceil((d.width-m)/f),_e=Math.ceil((d.height-y)/N),P=d.width==le&&d.height==_e;for(z=a*le,re=P?o:new Uint8Array(z*_e),F=s.length,D=0,j=0;D<_e&&c<F;){switch(s[c++]){case 0:for(x=he=0;he<z;x=he+=1)re[j++]=s[c++];break;case 1:for(x=ue=0;ue<z;x=ue+=1)_=s[c++],S=x<a?0:re[j-a],re[j++]=(_+S)%256;break;case 2:for(x=pe=0;pe<z;x=pe+=1)_=s[c++],w=(x-x%a)/a,B=D&&re[(D-1)*z+w*a+x%a],re[j++]=(B+_)%256;break;case 3:for(x=G=0;G<z;x=G+=1)_=s[c++],w=(x-x%a)/a,S=x<a?0:re[j-a],B=D&&re[(D-1)*z+w*a+x%a],re[j++]=(_+Math.floor((S+B)/2))%256;break;case 4:for(x=ie=0;ie<z;x=ie+=1)_=s[c++],w=(x-x%a)/a,S=x<a?0:re[j-a],D===0?B=W=0:(B=re[(D-1)*z+w*a+x%a],W=w&&re[(D-1)*z+(w-1)*a+x%a]),L=S+B-W,M=Math.abs(L-S),O=Math.abs(L-B),Z=Math.abs(L-W),R=M<=O&&M<=Z?S:O<=Z?B:W,re[j++]=(_+R)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!P){var q=((y+D*N)*d.width+m)*a,H=D*z;for(x=0;x<le;x+=1){for(var K=0;K<a;K+=1)o[q++]=re[H++];q+=(f-1)*a}}D++}}return s=q_(s),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,c,d,p,m,y,f;for(o=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+o.length),c=0,s=0,a=m=0,y=o.length;m<y;a=m+=3)d[c++]=o[a],d[c++]=o[a+1],d[c++]=o[a+2],d[c++]=(f=p[s++])!=null?f:255;return d},n.prototype.copyToImageData=function(s,a){var o,c,d,p,m,y,f,N,_,j,w;if(c=this.colors,_=null,o=this.hasAlphaChannel,this.palette.length&&(_=(w=this._decodedPalette)!=null?w:this._decodedPalette=this.decodePalette(),c=4,o=!0),N=(d=s.data||s).length,m=_||a,p=y=0,c===1)for(;p<N;)f=_?4*a[p/4]:y,j=m[f++],d[p++]=j,d[p++]=j,d[p++]=j,d[p++]=o?m[f++]:255,y=f;else for(;p<N;)f=_?4*a[p/4]:y,d[p++]=m[f++],d[p++]=m[f++],d[p++]=m[f++],d[p++]=o?m[f++]:255,y=f},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ge)==="[object Window]"){try{e=Ge.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,c,d,p,m,y,f;if(this.animation){for(f=[],o=p=0,m=(y=this.animation.frames).length;p<m;o=++p)a=y[o],c=s.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,d),a.imageData=c,f.push(a.image=t(c));return f}},n.prototype.renderFrame=function(s,a){var o,c,d;return o=(c=this.animation.frames)[a],d=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,c,d,p,m,y=this;return o=0,m=this.animation,d=m.numFrames,c=m.frames,p=m.numPlays,(a=function(){var f,N;if(f=o++%d,N=c[f],y.renderFrame(s,f),d>1&&o/d<p)return y.animation._timeout=setTimeout(a,N.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dS(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var d=!0,p=[],m=0,y=null,f=0,N=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,N=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],!(1&_)&&(y=null),f=_>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,F=t[e++],L=F>>6&1,M=1<<(7&F)+1,R=o,O=c,Z=!1;F>>7&&(Z=!0,R=e,O=M,e+=3*M);var re=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}p.push({x:j,y:w,width:x,height:S,has_local_palette:Z,palette_offset:R,palette_size:O,data_offset:re,data_length:e-re,transparent_index:y,interlaced:!!L,delay:m,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return N},this.frameInfo=function(z){if(z<0||z>=p.length)throw new Error("Frame index out of range.");return p[z]},this.decodeAndBlitFrameBGRA=function(z,B){var W=this.frameInfo(z),he=W.width*W.height,ue=new Uint8Array(he);h2(t,W.data_offset,ue,he);var pe=W.palette_offset,G=W.transparent_index;G===null&&(G=256);var ie=W.width,le=r-ie,_e=ie,P=4*(W.y*r+W.x),q=4*((W.y+W.height)*r+W.x),H=P,K=4*le;W.interlaced===!0&&(K+=4*r*7);for(var ee=8,ce=0,de=ue.length;ce<de;++ce){var fe=ue[ce];if(_e===0&&(_e=ie,(H+=K)>=q&&(K=4*le+4*r*(ee-1),H=P+(ie+le)*(ee<<1),ee>>=1)),fe===G)H+=4;else{var Ae=t[pe+3*fe],ke=t[pe+3*fe+1],Oe=t[pe+3*fe+2];B[H++]=Oe,B[H++]=ke,B[H++]=Ae,B[H++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(z,B){var W=this.frameInfo(z),he=W.width*W.height,ue=new Uint8Array(he);h2(t,W.data_offset,ue,he);var pe=W.palette_offset,G=W.transparent_index;G===null&&(G=256);var ie=W.width,le=r-ie,_e=ie,P=4*(W.y*r+W.x),q=4*((W.y+W.height)*r+W.x),H=P,K=4*le;W.interlaced===!0&&(K+=4*r*7);for(var ee=8,ce=0,de=ue.length;ce<de;++ce){var fe=ue[ce];if(_e===0&&(_e=ie,(H+=K)>=q&&(K=4*le+4*r*(ee-1),H=P+(ie+le)*(ee<<1),ee>>=1)),fe===G)H+=4;else{var Ae=t[pe+3*fe],ke=t[pe+3*fe+1],Oe=t[pe+3*fe+2];B[H++]=Ae,B[H++]=ke,B[H++]=Oe,B[H++]=255}--_e}}}function h2(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,c=i+1,d=(1<<c)-1,p=0,m=0,y=0,f=t[e++],N=new Int32Array(4096),_=null;;){for(;p<16&&f!==0;)m|=t[e++]<<p,p+=8,f===1?f=t[e++]:--f;if(p<c)break;var j=m&d;if(m>>=c,p-=c,j!==s){if(j===a)break;for(var w=j<o?j:_,x=0,S=w;S>s;)S=N[S]>>8,++x;var F=S;if(y+x+(w!==j?1:0)>n)return void Lt.log("Warning, gif stream longer than expected.");r[y++]=F;var L=y+=x;for(w!==j&&(r[y++]=F),S=w;x--;)S=N[S],r[--L]=255&S,S>>=8;_!==null&&o<4096&&(N[o++]=_<<8|F,o>=d+1&&c<12&&(++c,d=d<<1|1)),_=j}else o=a+1,d=(1<<(c=i+1))-1,_=null}return y!==n&&Lt.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function sp(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),p=new Array(64),m=new Array(65535),y=new Array(65535),f=new Array(64),N=new Array(64),_=[],j=0,w=7,x=new Array(64),S=new Array(64),F=new Array(64),L=new Array(256),M=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Z=[0,1,2,3,4,5,6,7,8,9,10,11],re=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],z=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],he=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(P,q){for(var H=0,K=0,ee=new Array,ce=1;ce<=16;ce++){for(var de=1;de<=P[ce];de++)ee[q[K]]=[],ee[q[K]][0]=H,ee[q[K]][1]=ce,K++,H++;H*=2}return ee}function pe(P){for(var q=P[0],H=P[1]-1;H>=0;)q&1<<H&&(j|=1<<w),H--,--w<0&&(j==255?(G(255),G(0)):G(j),w=7,j=0)}function G(P){_.push(P)}function ie(P){G(P>>8&255),G(255&P)}function le(P,q,H,K,ee){for(var ce,de=ee[0],fe=ee[240],Ae=function(Se,Le){var De,Ie,Be,Xe,st,at,ht,_t,Ke,ot,Re=0;for(Ke=0;Ke<8;++Ke){De=Se[Re],Ie=Se[Re+1],Be=Se[Re+2],Xe=Se[Re+3],st=Se[Re+4],at=Se[Re+5],ht=Se[Re+6];var Er=De+(_t=Se[Re+7]),mt=De-_t,Mn=Ie+ht,kt=Ie-ht,Ft=Be+at,di=Be-at,vt=Xe+st,Qs=Xe-st,$t=Er+vt,Un=Er-vt,Ci=Mn+Ft,Ht=Mn-Ft;Se[Re]=$t+Ci,Se[Re+4]=$t-Ci;var Qe=.707106781*(Ht+Un);Se[Re+2]=Un+Qe,Se[Re+6]=Un-Qe;var yt=.382683433*(($t=Qs+di)-(Ht=kt+mt)),Zs=.5411961*$t+yt,Sr=1.306562965*Ht+yt,hi=.707106781*(Ci=di+kt),fi=mt+hi,We=mt-hi;Se[Re+5]=We+Zs,Se[Re+3]=We-Zs,Se[Re+1]=fi+Sr,Se[Re+7]=fi-Sr,Re+=8}for(Re=0,Ke=0;Ke<8;++Ke){De=Se[Re],Ie=Se[Re+8],Be=Se[Re+16],Xe=Se[Re+24],st=Se[Re+32],at=Se[Re+40],ht=Se[Re+48];var Bn=De+(_t=Se[Re+56]),pi=De-_t,Yr=Ie+ht,ur=Ie-ht,sr=Be+at,hn=Be-at,Da=Xe+st,Ii=Xe-st,qn=Bn+Da,$n=Bn-Da,Hn=Yr+sr,mi=Yr-sr;Se[Re]=qn+Hn,Se[Re+32]=qn-Hn;var Sn=.707106781*(mi+$n);Se[Re+16]=$n+Sn,Se[Re+48]=$n-Sn;var gi=.382683433*((qn=Ii+hn)-(mi=ur+pi)),ea=.5411961*qn+gi,Ra=1.306562965*mi+gi,Ta=.707106781*(Hn=hn+ur),Fa=pi+Ta,za=pi-Ta;Se[Re+40]=za+ea,Se[Re+24]=za-ea,Se[Re+8]=Fa+Ra,Se[Re+56]=Fa-Ra,Re++}for(Ke=0;Ke<64;++Ke)ot=Se[Ke]*Le[Ke],f[Ke]=ot>0?ot+.5|0:ot-.5|0;return f}(P,q),ke=0;ke<64;++ke)N[R[ke]]=Ae[ke];var Oe=N[0]-H;H=N[0],Oe==0?pe(K[0]):(pe(K[y[ce=32767+Oe]]),pe(m[ce]));for(var Ee=63;Ee>0&&N[Ee]==0;)Ee--;if(Ee==0)return pe(de),H;for(var Ve,ve=1;ve<=Ee;){for(var V=ve;N[ve]==0&&ve<=Ee;)++ve;var tt=ve-V;if(tt>=16){Ve=tt>>4;for(var Ue=1;Ue<=Ve;++Ue)pe(fe);tt&=15}ce=32767+N[ve],pe(ee[(tt<<4)+y[ce]]),pe(m[ce]),ve++}return Ee!=63&&pe(de),H}function _e(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(q){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],K=0;K<64;K++){var ee=a((H[K]*q+50)/100);ee=Math.min(Math.max(ee,1),255),o[R[K]]=ee}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],de=0;de<64;de++){var fe=a((ce[de]*q+50)/100);fe=Math.min(Math.max(fe,1),255),c[R[de]]=fe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Oe=0;Oe<8;Oe++)for(var Ee=0;Ee<8;Ee++)d[ke]=1/(o[R[ke]]*Ae[Oe]*Ae[Ee]*8),p[ke]=1/(c[R[ke]]*Ae[Oe]*Ae[Ee]*8),ke++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,q){q&&_e(q),_=new Array,j=0,w=7,ie(65496),ie(65504),ie(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),ie(1),ie(1),G(0),G(0),function(){ie(65499),ie(132),G(0);for(var Ie=0;Ie<64;Ie++)G(o[Ie]);G(1);for(var Be=0;Be<64;Be++)G(c[Be])}(),function(Ie,Be){ie(65472),ie(17),G(8),ie(Be),ie(Ie),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(P.width,P.height),function(){ie(65476),ie(418),G(0);for(var Ie=0;Ie<16;Ie++)G(O[Ie+1]);for(var Be=0;Be<=11;Be++)G(Z[Be]);G(16);for(var Xe=0;Xe<16;Xe++)G(re[Xe+1]);for(var st=0;st<=161;st++)G(D[st]);G(1);for(var at=0;at<16;at++)G(z[at+1]);for(var ht=0;ht<=11;ht++)G(B[ht]);G(17);for(var _t=0;_t<16;_t++)G(W[_t+1]);for(var Ke=0;Ke<=161;Ke++)G(he[Ke])}(),ie(65498),ie(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var H=0,K=0,ee=0;j=0,w=7,this.encode.displayName="_encode_";for(var ce,de,fe,Ae,ke,Oe,Ee,Ve,ve,V=P.data,tt=P.width,Ue=P.height,Se=4*tt,Le=0;Le<Ue;){for(ce=0;ce<Se;){for(ke=Se*Le+ce,Ee=-1,Ve=0,ve=0;ve<64;ve++)Oe=ke+(Ve=ve>>3)*Se+(Ee=4*(7&ve)),Le+Ve>=Ue&&(Oe-=Se*(Le+1+Ve-Ue)),ce+Ee>=Se&&(Oe-=ce+Ee-Se+4),de=V[Oe++],fe=V[Oe++],Ae=V[Oe++],x[ve]=(M[de]+M[fe+256>>0]+M[Ae+512>>0]>>16)-128,S[ve]=(M[de+768>>0]+M[fe+1024>>0]+M[Ae+1280>>0]>>16)-128,F[ve]=(M[de+1280>>0]+M[fe+1536>>0]+M[Ae+1792>>0]>>16)-128;H=le(x,d,H,e,n),K=le(S,p,K,r,i),ee=le(F,p,ee,r,i),ce+=32}Le+=8}if(w>=0){var De=[];De[1]=w+1,De[0]=(1<<w+1)-1,pe(De)}return ie(65497),new Uint8Array(_)},t=t||50,function(){for(var P=String.fromCharCode,q=0;q<256;q++)L[q]=P(q)}(),e=ue(O,Z),r=ue(z,B),n=ue(re,D),i=ue(W,he),function(){for(var P=1,q=2,H=1;H<=15;H++){for(var K=P;K<q;K++)y[32767+K]=H,m[32767+K]=[],m[32767+K][1]=H,m[32767+K][0]=K;for(var ee=-(q-1);ee<=-P;ee++)y[32767+ee]=H,m[32767+ee]=[],m[32767+ee][1]=H,m[32767+ee][0]=q-1+ee;P<<=1,q<<=1}}(),function(){for(var P=0;P<256;P++)M[P]=19595*P,M[P+256>>0]=38470*P,M[P+512>>0]=7471*P+32768,M[P+768>>0]=-11059*P,M[P+1024>>0]=-21709*P,M[P+1280>>0]=32768*P+8421375,M[P+1536>>0]=-27439*P,M[P+1792>>0]=-5329*P}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Qn(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function f2(t){function e(O){if(!O)throw Error("assert :P")}function r(O,Z,re){for(var D=0;4>D;D++)if(O[Z+D]!=re.charCodeAt(D))return!0;return!1}function n(O,Z,re,D,z){for(var B=0;B<z;B++)O[Z+B]=re[D+B]}function i(O,Z,re,D){for(var z=0;z<D;z++)O[Z+z]=re}function s(O){return new Int32Array(O)}function a(O,Z){for(var re=[],D=0;D<O;D++)re.push(new Z);return re}function o(O,Z){var re=[];return function D(z,B,W){for(var he=W[B],ue=0;ue<he&&(z.push(W.length>B+1?[]:new Z),!(W.length<B+1));ue++)D(z[ue],B+1,W)}(re,0,O),re}var c=function(){var O=this;function Z(l,h){for(var v=1<<h-1>>>0;l&v;)v>>>=1;return v?(l&v-1)+v:l}function re(l,h,v,b,k){e(!(b%v));do l[h+(b-=v)]=k;while(0<b)}function D(l,h,v,b,k){if(e(2328>=k),512>=k)var E=s(512);else if((E=s(k))==null)return 0;return function(C,I,T,U,Y,se){var ae,te,we=I,me=1<<T,X=s(16),Q=s(16);for(e(Y!=0),e(U!=null),e(C!=null),e(0<T),te=0;te<Y;++te){if(15<U[te])return 0;++X[U[te]]}if(X[0]==Y)return 0;for(Q[1]=0,ae=1;15>ae;++ae){if(X[ae]>1<<ae)return 0;Q[ae+1]=Q[ae]+X[ae]}for(te=0;te<Y;++te)ae=U[te],0<U[te]&&(se[Q[ae]++]=te);if(Q[15]==1)return(U=new z).g=0,U.value=se[0],re(C,we,1,me,U),me;var ye,be=-1,xe=me-1,Fe=0,Pe=1,$e=1,Ce=1<<T;for(te=0,ae=1,Y=2;ae<=T;++ae,Y<<=1){if(Pe+=$e<<=1,0>($e-=X[ae]))return 0;for(;0<X[ae];--X[ae])(U=new z).g=ae,U.value=se[te++],re(C,we+Fe,Y,Ce,U),Fe=Z(Fe,ae)}for(ae=T+1,Y=2;15>=ae;++ae,Y<<=1){if(Pe+=$e<<=1,0>($e-=X[ae]))return 0;for(;0<X[ae];--X[ae]){if(U=new z,(Fe&xe)!=be){for(we+=Ce,ye=1<<(be=ae)-T;15>be&&!(0>=(ye-=X[be]));)++be,ye<<=1;me+=Ce=1<<(ye=be-T),C[I+(be=Fe&xe)].g=ye+T,C[I+be].value=we-I-be}U.g=ae-T,U.value=se[te++],re(C,we+(Fe>>T),Y,Ce,U),Fe=Z(Fe,ae)}}return Pe!=2*Q[15]-1?0:me}(l,h,v,b,k,E)}function z(){this.value=this.g=0}function B(){this.value=this.g=0}function W(){this.G=a(5,z),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(jr,B)}function he(l,h,v,b){e(l!=null),e(h!=null),e(2147483648>b),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=h,l.pa=v,l.Jd=h,l.Yc=v+b,l.Zc=4<=b?v+b-4+1:v,ce(l)}function ue(l,h){for(var v=0;0<h--;)v|=fe(l,128)<<h;return v}function pe(l,h){var v=ue(l,h);return de(l)?-v:v}function G(l,h,v,b){var k,E=0;for(e(l!=null),e(h!=null),e(4294967288>b),l.Sb=b,l.Ra=0,l.u=0,l.h=0,4<b&&(b=4),k=0;k<b;++k)E+=h[v+k]<<8*k;l.Ra=E,l.bb=b,l.oa=h,l.pa=v}function ie(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<Za-8>>>0,++l.bb,l.u-=8;H(l)&&(l.h=1,l.u=0)}function le(l,h){if(e(0<=h),!l.h&&h<=Qa){var v=q(l)&Xa[h];return l.u+=h,ie(l),v}return l.h=1,l.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(l){return l.Ra>>>(l.u&Za-1)>>>0}function H(l){return e(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>Za}function K(l,h){l.u=h,l.h=H(l)}function ee(l){l.u>=jl&&(e(l.u>=jl),ie(l))}function ce(l){e(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(e(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function de(l){return ue(l,1)}function fe(l,h){var v=l.Ca;0>l.b&&ce(l);var b=l.b,k=v*h>>>8,E=(l.I>>>b>k)+0;for(E?(v-=k,l.I-=k+1<<b>>>0):v=k+1,b=v,k=0;256<=b;)k+=8,b>>=8;return b=7^k+Qr[b],l.b-=b,l.Ca=(v<<b)-1,E}function Ae(l,h,v){l[h+0]=v>>24&255,l[h+1]=v>>16&255,l[h+2]=v>>8&255,l[h+3]=v>>0&255}function ke(l,h){return l[h+0]<<0|l[h+1]<<8}function Oe(l,h){return ke(l,h)|l[h+2]<<16}function Ee(l,h){return ke(l,h)|ke(l,h+2)<<16}function Ve(l,h){var v=1<<h;return e(l!=null),e(0<h),l.X=s(v),l.X==null?0:(l.Mb=32-h,l.Xa=h,1)}function ve(l,h){e(l!=null),e(h!=null),e(l.Xa==h.Xa),n(h.X,0,l.X,0,1<<h.Xa)}function V(){this.X=[],this.Xa=this.Mb=0}function tt(l,h,v,b){e(v!=null),e(b!=null);var k=v[0],E=b[0];return k==0&&(k=(l*E+h/2)/h),E==0&&(E=(h*k+l/2)/l),0>=k||0>=E?0:(v[0]=k,b[0]=E,1)}function Ue(l,h){return l+(1<<h)-1>>>h}function Se(l,h){return((4278255360&l)+(4278255360&h)>>>0&4278255360)+((16711935&l)+(16711935&h)>>>0&16711935)>>>0}function Le(l,h){O[h]=function(v,b,k,E,C,I,T){var U;for(U=0;U<C;++U){var Y=O[l](I[T+U-1],k,E+U);I[T+U]=Se(v[b+U],Y)}}}function De(){this.ud=this.hd=this.jd=0}function Ie(l,h){return((4278124286&(l^h))>>>1)+(l&h)>>>0}function Be(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function Xe(l,h){return Be(l+(l-h+.5>>1))}function st(l,h,v){return Math.abs(h-v)-Math.abs(l-v)}function at(l,h,v,b,k,E,C){for(b=E[C-1],v=0;v<k;++v)E[C+v]=b=Se(l[h+v],b)}function ht(l,h,v,b,k){var E;for(E=0;E<v;++E){var C=l[h+E],I=C>>8&255,T=16711935&(T=(T=16711935&C)+((I<<16)+I));b[k+E]=(4278255360&C)+T>>>0}}function _t(l,h){h.jd=l>>0&255,h.hd=l>>8&255,h.ud=l>>16&255}function Ke(l,h,v,b,k,E){var C;for(C=0;C<b;++C){var I=h[v+C],T=I>>>8,U=I,Y=255&(Y=(Y=I>>>16)+((l.jd<<24>>24)*(T<<24>>24)>>>5));U=255&(U=(U=U+((l.hd<<24>>24)*(T<<24>>24)>>>5))+((l.ud<<24>>24)*(Y<<24>>24)>>>5)),k[E+C]=(4278255360&I)+(Y<<16)+U}}function ot(l,h,v,b,k){O[h]=function(E,C,I,T,U,Y,se,ae,te){for(T=se;T<ae;++T)for(se=0;se<te;++se)U[Y++]=k(I[b(E[C++])])},O[l]=function(E,C,I,T,U,Y,se){var ae=8>>E.b,te=E.Ea,we=E.K[0],me=E.w;if(8>ae)for(E=(1<<E.b)-1,me=(1<<ae)-1;C<I;++C){var X,Q=0;for(X=0;X<te;++X)X&E||(Q=b(T[U++])),Y[se++]=k(we[Q&me]),Q>>=ae}else O["VP8LMapColor"+v](T,U,we,me,Y,se,C,I,te)}}function Re(l,h,v,b,k){for(v=h+v;h<v;){var E=l[h++];b[k++]=E>>16&255,b[k++]=E>>8&255,b[k++]=E>>0&255}}function Er(l,h,v,b,k){for(v=h+v;h<v;){var E=l[h++];b[k++]=E>>16&255,b[k++]=E>>8&255,b[k++]=E>>0&255,b[k++]=E>>24&255}}function mt(l,h,v,b,k){for(v=h+v;h<v;){var E=(C=l[h++])>>16&240|C>>12&15,C=C>>0&240|C>>28&15;b[k++]=E,b[k++]=C}}function Mn(l,h,v,b,k){for(v=h+v;h<v;){var E=(C=l[h++])>>16&248|C>>13&7,C=C>>5&224|C>>3&31;b[k++]=E,b[k++]=C}}function kt(l,h,v,b,k){for(v=h+v;h<v;){var E=l[h++];b[k++]=E>>0&255,b[k++]=E>>8&255,b[k++]=E>>16&255}}function Ft(l,h,v,b,k,E){if(E==0)for(v=h+v;h<v;)Ae(b,((E=l[h++])[0]>>24|E[1]>>8&65280|E[2]<<8&16711680|E[3]<<24)>>>0),k+=32;else n(b,k,l,h,v)}function di(l,h){O[h][0]=O[l+"0"],O[h][1]=O[l+"1"],O[h][2]=O[l+"2"],O[h][3]=O[l+"3"],O[h][4]=O[l+"4"],O[h][5]=O[l+"5"],O[h][6]=O[l+"6"],O[h][7]=O[l+"7"],O[h][8]=O[l+"8"],O[h][9]=O[l+"9"],O[h][10]=O[l+"10"],O[h][11]=O[l+"11"],O[h][12]=O[l+"12"],O[h][13]=O[l+"13"],O[h][14]=O[l+"0"],O[h][15]=O[l+"0"]}function vt(l){return l==tf||l==rf||l==bu||l==nf}function Qs(){this.eb=[],this.size=this.A=this.fb=0}function $t(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Un(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Qs,this.f.kb=new $t,this.sd=null}function Ci(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ht(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qe(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function yt(l,h){var v=l.T,b=h.ba.f.RGBA,k=b.eb,E=b.fb+l.ka*b.A,C=En[h.ba.S],I=l.y,T=l.O,U=l.f,Y=l.N,se=l.ea,ae=l.W,te=h.cc,we=h.dc,me=h.Mc,X=h.Nc,Q=l.ka,ye=l.ka+l.T,be=l.U,xe=be+1>>1;for(Q==0?C(I,T,null,null,U,Y,se,ae,U,Y,se,ae,k,E,null,null,be):(C(h.ec,h.fc,I,T,te,we,me,X,U,Y,se,ae,k,E-b.A,k,E,be),++v);Q+2<ye;Q+=2)te=U,we=Y,me=se,X=ae,Y+=l.Rc,ae+=l.Rc,E+=2*b.A,C(I,(T+=2*l.fa)-l.fa,I,T,te,we,me,X,U,Y,se,ae,k,E-b.A,k,E,be);return T+=l.fa,l.j+ye<l.o?(n(h.ec,h.fc,I,T,be),n(h.cc,h.dc,U,Y,xe),n(h.Mc,h.Nc,se,ae,xe),v--):1&ye||C(I,T,null,null,U,Y,se,ae,U,Y,se,ae,k,E+b.A,null,null,be),v}function Zs(l,h,v){var b=l.F,k=[l.J];if(b!=null){var E=l.U,C=h.ba.S,I=C==wu||C==bu;h=h.ba.f.RGBA;var T=[0],U=l.ka;T[0]=l.T,l.Kb&&(U==0?--T[0]:(--U,k[0]-=l.width),l.j+l.ka+l.T==l.o&&(T[0]=l.o-l.j-U));var Y=h.eb;U=h.fb+U*h.A,l=Et(b,k[0],l.width,E,T,Y,U+(I?0:3),h.A),e(v==T),l&&vt(C)&&Ln(Y,U,I,E,T,h.A)}return 0}function Sr(l){var h=l.ma,v=h.ba.S,b=11>v,k=v==yu||v==xu||v==wu||v==ef||v==12||vt(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!_l(h.Oa,l,k?11:12))return 0;if(k&&vt(v)&&Ne(),l.da)alert("todo:use_scaling");else{if(b){if(h.Ib=Qe,l.Kb){if(v=l.U+1>>1,h.memory=s(l.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+l.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=yt,Ne()}}else alert("todo:EmitYUV");k&&(h.Jb=Zs,b&&ne())}if(b&&!Wm){for(l=0;256>l;++l)Yy[l]=89858*(l-128)+_u>>Nu,Zy[l]=-22014*(l-128)+_u,Qy[l]=-45773*(l-128),Xy[l]=113618*(l-128)+_u>>Nu;for(l=Il;l<of;++l)h=76283*(l-16)+_u>>Nu,ex[l-Il]=fn(h,255),tx[l-Il]=fn(h+8>>4,15);Wm=1}return 1}function hi(l){var h=l.ma,v=l.U,b=l.T;return e(!(1&l.ka)),0>=v||0>=b?0:(v=h.Ib(l,h),h.Jb!=null&&h.Jb(l,h,v),h.Dc+=v,1)}function fi(l){l.ma.memory=null}function We(l,h,v,b){return le(l,8)!=47?0:(h[0]=le(l,14)+1,v[0]=le(l,14)+1,b[0]=le(l,1),le(l,3)!=0?0:!l.h)}function Bn(l,h){if(4>l)return l+1;var v=l-2>>1;return(2+(1&l)<<v)+le(h,v)+1}function pi(l,h){return 120<h?h-120:1<=(v=((v=Ty[h-1])>>4)*l+(8-(15&v)))?v:1;var v}function Yr(l,h,v){var b=q(v),k=l[h+=255&b].g-8;return 0<k&&(K(v,v.u+8),b=q(v),h+=l[h].value,h+=b&(1<<k)-1),K(v,v.u+l[h].g),l[h].value}function ur(l,h,v){return v.g+=l.g,v.value+=l.value<<h>>>0,e(8>=v.g),l.g}function sr(l,h,v){var b=l.xc;return e((h=b==0?0:l.vc[l.md*(v>>b)+(h>>b)])<l.Wb),l.Ya[h]}function hn(l,h,v,b){var k=l.ab,E=l.c*h,C=l.C;h=C+h;var I=v,T=b;for(b=l.Ta,v=l.Ua;0<k--;){var U=l.gc[k],Y=C,se=h,ae=I,te=T,we=(T=b,I=v,U.Ea);switch(e(Y<se),e(se<=U.nc),U.hc){case 2:du(ae,te,(se-Y)*we,T,I);break;case 0:var me=Y,X=se,Q=T,ye=I,be=(Ce=U).Ea;me==0&&(Qh(ae,te,null,null,1,Q,ye),at(ae,te+1,0,0,be-1,Q,ye+1),te+=be,ye+=be,++me);for(var xe=1<<Ce.b,Fe=xe-1,Pe=Ue(be,Ce.b),$e=Ce.K,Ce=Ce.w+(me>>Ce.b)*Pe;me<X;){var gt=$e,xt=Ce,ft=1;for(kl(ae,te,Q,ye-be,1,Q,ye);ft<be;){var ut=(ft&~Fe)+xe;ut>be&&(ut=be),(0,ss[gt[xt++]>>8&15])(ae,te+ +ft,Q,ye+ft-be,ut-ft,Q,ye+ft),ft=ut}te+=be,ye+=be,++me&Fe||(Ce+=Pe)}se!=U.nc&&n(T,I-we,T,I+(se-Y-1)*we,we);break;case 1:for(we=ae,X=te,be=(ae=U.Ea)-(ye=ae&~(Q=(te=1<<U.b)-1)),me=Ue(ae,U.b),xe=U.K,U=U.w+(Y>>U.b)*me;Y<se;){for(Fe=xe,Pe=U,$e=new De,Ce=X+ye,gt=X+ae;X<Ce;)_t(Fe[Pe++],$e),sa($e,we,X,te,T,I),X+=te,I+=te;X<gt&&(_t(Fe[Pe++],$e),sa($e,we,X,be,T,I),X+=be,I+=be),++Y&Q||(U+=me)}break;case 3:if(ae==T&&te==I&&0<U.b){for(X=T,ae=we=I+(se-Y)*we-(ye=(se-Y)*Ue(U.Ea,U.b)),te=T,Q=I,me=[],ye=(be=ye)-1;0<=ye;--ye)me[ye]=te[Q+ye];for(ye=be-1;0<=ye;--ye)X[ae+ye]=me[ye];jn(U,Y,se,T,we,T,I)}else jn(U,Y,se,ae,te,T,I)}I=b,T=v}T!=v&&n(b,v,I,T,E)}function Da(l,h){var v=l.V,b=l.Ba+l.c*l.C,k=h-l.C;if(e(h<=l.l.o),e(16>=k),0<k){var E=l.l,C=l.Ta,I=l.Ua,T=E.width;if(hn(l,k,v,b),k=I=[I],e((v=l.C)<(b=h)),e(E.v<E.va),b>E.o&&(b=E.o),v<E.j){var U=E.j-v;v=E.j,k[0]+=U*T}if(v>=b?v=0:(k[0]+=4*E.v,E.ka=v-E.j,E.U=E.va-E.v,E.T=b-v,v=1),v){if(I=I[0],11>(v=l.ca).S){var Y=v.f.RGBA,se=(b=v.S,k=E.U,E=E.T,U=Y.eb,Y.A),ae=E;for(Y=Y.fb+l.Ma*Y.A;0<ae--;){var te=C,we=I,me=k,X=U,Q=Y;switch(b){case vu:Zr(te,we,me,X,Q);break;case yu:qr(te,we,me,X,Q);break;case tf:qr(te,we,me,X,Q),Ln(X,Q,0,me,1,0);break;case Rm:Ti(te,we,me,X,Q);break;case xu:Ft(te,we,me,X,Q,1);break;case rf:Ft(te,we,me,X,Q,1),Ln(X,Q,0,me,1,0);break;case wu:Ft(te,we,me,X,Q,0);break;case bu:Ft(te,we,me,X,Q,0),Ln(X,Q,1,me,1,0);break;case ef:as(te,we,me,X,Q);break;case nf:as(te,we,me,X,Q),Pt(X,Q,me,1,0);break;case Tm:Ri(te,we,me,X,Q);break;default:e(0)}I+=T,Y+=se}l.Ma+=E}else alert("todo:EmitRescaledRowsYUVA");e(l.Ma<=v.height)}}l.C=h,e(l.C<=l.i)}function Ii(l){var h;if(0<l.ua)return 0;for(h=0;h<l.Wb;++h){var v=l.Ya[h].G,b=l.Ya[h].H;if(0<v[1][b[1]+0].g||0<v[2][b[2]+0].g||0<v[3][b[3]+0].g)return 0}return 1}function qn(l,h,v,b,k,E){if(l.Z!=0){var C=l.qd,I=l.rd;for(e(us[l.Z]!=null);h<v;++h)us[l.Z](C,I,b,k,b,k,E),C=b,I=k,k+=E;l.qd=C,l.rd=I}}function $n(l,h){var v=l.l.ma,b=v.Z==0||v.Z==1?l.l.j:l.C;if(b=l.C<b?b:l.C,e(h<=l.l.o),h>b){var k=l.l.width,E=v.ca,C=v.tb+k*b,I=l.V,T=l.Ba+l.c*b,U=l.gc;e(l.ab==1),e(U[0].hc==3),hu(U[0],b,h,I,T,E,C),qn(v,b,h,E,C,k)}l.C=l.Ma=h}function Hn(l,h,v,b,k,E,C){var I=l.$/b,T=l.$%b,U=l.m,Y=l.s,se=v+l.$,ae=se;k=v+b*k;var te=v+b*E,we=280+Y.ua,me=l.Pb?I:16777216,X=0<Y.ua?Y.Wa:null,Q=Y.wc,ye=se<te?sr(Y,T,I):null;e(l.C<E),e(te<=k);var be=!1;e:for(;;){for(;be||se<te;){var xe=0;if(I>=me){var Fe=se-v;e((me=l).Pb),me.wd=me.m,me.xd=Fe,0<me.s.ua&&ve(me.s.Wa,me.s.vb),me=I+zy}if(T&Q||(ye=sr(Y,T,I)),e(ye!=null),ye.Qb&&(h[se]=ye.qb,be=!0),!be)if(ee(U),ye.jc){xe=U,Fe=h;var Pe=se,$e=ye.pd[q(xe)&jr-1];e(ye.jc),256>$e.g?(K(xe,xe.u+$e.g),Fe[Pe]=$e.value,xe=0):(K(xe,xe.u+$e.g-256),e(256<=$e.value),xe=$e.value),xe==0&&(be=!0)}else xe=Yr(ye.G[0],ye.H[0],U);if(U.h)break;if(be||256>xe){if(!be)if(ye.nd)h[se]=(ye.qb|xe<<8)>>>0;else{if(ee(U),be=Yr(ye.G[1],ye.H[1],U),ee(U),Fe=Yr(ye.G[2],ye.H[2],U),Pe=Yr(ye.G[3],ye.H[3],U),U.h)break;h[se]=(Pe<<24|be<<16|xe<<8|Fe)>>>0}if(be=!1,++se,++T>=b&&(T=0,++I,C!=null&&I<=E&&!(I%16)&&C(l,I),X!=null))for(;ae<se;)xe=h[ae++],X.X[(506832829*xe&4294967295)>>>X.Mb]=xe}else if(280>xe){if(xe=Bn(xe-256,U),Fe=Yr(ye.G[4],ye.H[4],U),ee(U),Fe=pi(b,Fe=Bn(Fe,U)),U.h)break;if(se-v<Fe||k-se<xe)break e;for(Pe=0;Pe<xe;++Pe)h[se+Pe]=h[se+Pe-Fe];for(se+=xe,T+=xe;T>=b;)T-=b,++I,C!=null&&I<=E&&!(I%16)&&C(l,I);if(e(se<=k),T&Q&&(ye=sr(Y,T,I)),X!=null)for(;ae<se;)xe=h[ae++],X.X[(506832829*xe&4294967295)>>>X.Mb]=xe}else{if(!(xe<we))break e;for(be=xe-280,e(X!=null);ae<se;)xe=h[ae++],X.X[(506832829*xe&4294967295)>>>X.Mb]=xe;xe=se,e(!(be>>>(Fe=X).Xa)),h[xe]=Fe.X[be],be=!0}be||e(U.h==H(U))}if(l.Pb&&U.h&&se<k)e(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&ve(l.s.vb,l.s.Wa);else{if(U.h)break e;C!=null&&C(l,I>E?E:I),l.a=0,l.$=se-v}return 1}return l.a=3,0}function mi(l){e(l!=null),l.vc=null,l.yc=null,l.Ya=null;var h=l.Wa;h!=null&&(h.X=null),l.vb=null,e(l!=null)}function Sn(){var l=new Xh;return l==null?null:(l.a=0,l.xb=Mm,di("Predictor","VP8LPredictors"),di("Predictor","VP8LPredictors_C"),di("PredictorAdd","VP8LPredictorsAdd"),di("PredictorAdd","VP8LPredictorsAdd_C"),du=ht,sa=Ke,Zr=Re,qr=Er,as=mt,Ri=Mn,Ti=kt,O.VP8LMapColor32b=eo,O.VP8LMapColor8b=fu,l)}function gi(l,h,v,b,k){var E=1,C=[l],I=[h],T=b.m,U=b.s,Y=null,se=0;e:for(;;){if(v)for(;E&&le(T,1);){var ae=C,te=I,we=b,me=1,X=we.m,Q=we.gc[we.ab],ye=le(X,2);if(we.Oc&1<<ye)E=0;else{switch(we.Oc|=1<<ye,Q.hc=ye,Q.Ea=ae[0],Q.nc=te[0],Q.K=[null],++we.ab,e(4>=we.ab),ye){case 0:case 1:Q.b=le(X,3)+2,me=gi(Ue(Q.Ea,Q.b),Ue(Q.nc,Q.b),0,we,Q.K),Q.K=Q.K[0];break;case 3:var be,xe=le(X,8)+1,Fe=16<xe?0:4<xe?1:2<xe?2:3;if(ae[0]=Ue(Q.Ea,Fe),Q.b=Fe,be=me=gi(xe,1,0,we,Q.K)){var Pe,$e=xe,Ce=Q,gt=1<<(8>>Ce.b),xt=s(gt);if(xt==null)be=0;else{var ft=Ce.K[0],ut=Ce.w;for(xt[0]=Ce.K[0][0],Pe=1;Pe<1*$e;++Pe)xt[Pe]=Se(ft[ut+Pe],xt[Pe-1]);for(;Pe<4*gt;++Pe)xt[Pe]=0;Ce.K[0]=null,Ce.K[0]=xt,be=1}}me=be;break;case 2:break;default:e(0)}E=me}}if(C=C[0],I=I[0],E&&le(T,1)&&!(E=1<=(se=le(T,4))&&11>=se)){b.a=3;break e}var At;if(At=E)t:{var St,nt,or,en=b,lr=C,tn=I,wt=se,mn=v,gn=en.m,vr=en.s,kr=[null],Hr=1,Cn=0,wi=Fy[wt];r:for(;;){if(mn&&le(gn,1)){var yr=le(gn,3)+2,Ui=Ue(lr,yr),ua=Ue(tn,yr),so=Ui*ua;if(!gi(Ui,ua,0,en,kr))break r;for(kr=kr[0],vr.xc=yr,St=0;St<so;++St){var ds=kr[St]>>8&65535;kr[St]=ds,ds>=Hr&&(Hr=ds+1)}}if(gn.h)break r;for(nt=0;5>nt;++nt){var Vt=Fm[nt];!nt&&0<wt&&(Vt+=1<<wt),Cn<Vt&&(Cn=Vt)}var lf=a(Hr*wi,z),Jm=Hr,Km=a(Jm,W);if(Km==null)var ju=null;else e(65536>=Jm),ju=Km;var Ol=s(Cn);if(ju==null||Ol==null||lf==null){en.a=1;break r}var ku=lf;for(St=or=0;St<Hr;++St){var Kn=ju[St],ao=Kn.G,oo=Kn.H,Ym=0,Au=1,Xm=0;for(nt=0;5>nt;++nt){Vt=Fm[nt],ao[nt]=ku,oo[nt]=or,!nt&&0<wt&&(Vt+=1<<wt);i:{var Lu,cf=Vt,Pu=en,Dl=Ol,ix=ku,sx=or,uf=0,hs=Pu.m,ax=le(hs,1);if(i(Dl,0,0,cf),ax){var ox=le(hs,1)+1,lx=le(hs,1),Qm=le(hs,lx==0?1:8);Dl[Qm]=1,ox==2&&(Dl[Qm=le(hs,8)]=1);var Eu=1}else{var Zm=s(19),eg=le(hs,4)+4;if(19<eg){Pu.a=3;var Cu=0;break i}for(Lu=0;Lu<eg;++Lu)Zm[Ry[Lu]]=le(hs,3);var df=void 0,Rl=void 0,tg=Pu,cx=Zm,Iu=cf,rg=Dl,hf=0,fs=tg.m,ng=8,ig=a(128,z);n:for(;D(ig,0,7,cx,19);){if(le(fs,1)){var ux=2+2*le(fs,3);if((df=2+le(fs,ux))>Iu)break n}else df=Iu;for(Rl=0;Rl<Iu&&df--;){ee(fs);var sg=ig[0+(127&q(fs))];K(fs,fs.u+sg.g);var lo=sg.value;if(16>lo)rg[Rl++]=lo,lo!=0&&(ng=lo);else{var dx=lo==16,ag=lo-16,hx=Oy[ag],og=le(fs,Iy[ag])+hx;if(Rl+og>Iu)break n;for(var fx=dx?ng:0;0<og--;)rg[Rl++]=fx}}hf=1;break n}hf||(tg.a=3),Eu=hf}(Eu=Eu&&!hs.h)&&(uf=D(ix,sx,8,Dl,cf)),Eu&&uf!=0?Cu=uf:(Pu.a=3,Cu=0)}if(Cu==0)break r;if(Au&&Dy[nt]==1&&(Au=ku[or].g==0),Ym+=ku[or].g,or+=Cu,3>=nt){var Tl,ff=Ol[0];for(Tl=1;Tl<Vt;++Tl)Ol[Tl]>ff&&(ff=Ol[Tl]);Xm+=ff}}if(Kn.nd=Au,Kn.Qb=0,Au&&(Kn.qb=(ao[3][oo[3]+0].value<<24|ao[1][oo[1]+0].value<<16|ao[2][oo[2]+0].value)>>>0,Ym==0&&256>ao[0][oo[0]+0].value&&(Kn.Qb=1,Kn.qb+=ao[0][oo[0]+0].value<<8)),Kn.jc=!Kn.Qb&&6>Xm,Kn.jc){var Ou,Bi=Kn;for(Ou=0;Ou<jr;++Ou){var ps=Ou,ms=Bi.pd[ps],Du=Bi.G[0][Bi.H[0]+ps];256<=Du.value?(ms.g=Du.g+256,ms.value=Du.value):(ms.g=0,ms.value=0,ps>>=ur(Du,8,ms),ps>>=ur(Bi.G[1][Bi.H[1]+ps],16,ms),ps>>=ur(Bi.G[2][Bi.H[2]+ps],0,ms),ur(Bi.G[3][Bi.H[3]+ps],24,ms))}}}vr.vc=kr,vr.Wb=Hr,vr.Ya=ju,vr.yc=lf,At=1;break t}At=0}if(!(E=At)){b.a=3;break e}if(0<se){if(U.ua=1<<se,!Ve(U.Wa,se)){b.a=1,E=0;break e}}else U.ua=0;var pf=b,lg=C,px=I,mf=pf.s,gf=mf.xc;if(pf.c=lg,pf.i=px,mf.md=Ue(lg,gf),mf.wc=gf==0?-1:(1<<gf)-1,v){b.xb=Wy;break e}if((Y=s(C*I))==null){b.a=1,E=0;break e}E=(E=Hn(b,Y,0,C,I,I,null))&&!T.h;break e}return E?(k!=null?k[0]=Y:(e(Y==null),e(v)),b.$=0,v||mi(U)):mi(U),E}function ea(l,h){var v=l.c*l.i,b=v+h+16*h;return e(l.c<=h),l.V=s(b),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+v+h,1)}function Ra(l,h){var v=l.C,b=h-v,k=l.V,E=l.Ba+l.c*v;for(e(h<=l.l.o);0<b;){var C=16<b?16:b,I=l.l.ma,T=l.l.width,U=T*C,Y=I.ca,se=I.tb+T*v,ae=l.Ta,te=l.Ua;hn(l,C,k,E),Qt(ae,te,Y,se,U),qn(I,v,v+C,Y,se,T),b-=C,k+=C*l.c,v+=C}e(v==h),l.C=l.Ma=h}function Ta(){this.ub=this.yd=this.td=this.Rb=0}function Fa(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function za(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Wc(){this.Yb=function(){var l=[];return function h(v,b,k){for(var E=k[b],C=0;C<E&&(v.push(k.length>b+1?[]:0),!(k.length<b+1));C++)h(v[C],b+1,k)}(l,0,[3,11]),l}()}function Lh(){this.jb=s(3),this.Wc=o([4,8],Wc),this.Xc=o([4,17],Wc)}function Ph(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ma(){this.ld=this.La=this.dd=this.tc=0}function Vc(){this.Na=this.la=0}function Eh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ol(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Ch(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ma),this.Y=0,this.ya=Array(new ol),this.aa=0,this.l=new Ua}function Gc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Ih(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new Ta,this.Kc=new Fa,this.ed=new Ph,this.Qa=new za,this.Ic=this.$c=this.Aa=0,this.D=new Ch,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,_e),this.ia=0,this.pb=a(4,Eh),this.Pa=new Lh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Gc),this.Hd=0,this.rb=Array(new Vc),this.sb=0,this.wa=Array(new Ma),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ol),this.L=this.aa=0,this.gd=o([4,2],Ma),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Ua(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Oh(){var l=new Ih;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,Cl||(Cl=Yc)),l}function Yt(l,h,v){return l.a==0&&(l.a=h,l.sc=v,l.cb=0),0}function Jc(l,h,v){return 3<=v&&l[h+0]==157&&l[h+1]==1&&l[h+2]==42}function Kc(l,h){if(l==null)return 0;if(l.a=0,l.sc="OK",h==null)return Yt(l,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,b=h.w,k=h.ha;if(4>k)return Yt(l,7,"Truncated header.");var E=v[b+0]|v[b+1]<<8|v[b+2]<<16,C=l.Od;if(C.Rb=!(1&E),C.td=E>>1&7,C.yd=E>>4&1,C.ub=E>>5,3<C.td)return Yt(l,3,"Incorrect keyframe parameters.");if(!C.yd)return Yt(l,4,"Frame not displayable.");b+=3,k-=3;var I=l.Kc;if(C.Rb){if(7>k)return Yt(l,7,"cannot parse picture header");if(!Jc(v,b,k))return Yt(l,3,"Bad code word");I.c=16383&(v[b+4]<<8|v[b+3]),I.Td=v[b+4]>>6,I.i=16383&(v[b+6]<<8|v[b+5]),I.Ud=v[b+6]>>6,b+=7,k-=7,l.za=I.c+15>>4,l.Ub=I.i+15>>4,h.width=I.c,h.height=I.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((E=l.Pa).jb,0,255,E.jb.length),e((E=l.Qa)!=null),E.Cb=0,E.Bb=0,E.Fb=1,i(E.Zb,0,0,E.Zb.length),i(E.Lb,0,0,E.Lb)}if(C.ub>k)return Yt(l,7,"bad partition length");he(E=l.m,v,b,C.ub),b+=C.ub,k-=C.ub,C.Rb&&(I.Ld=de(E),I.Kd=de(E)),I=l.Qa;var T,U=l.Pa;if(e(E!=null),e(I!=null),I.Cb=de(E),I.Cb){if(I.Bb=de(E),de(E)){for(I.Fb=de(E),T=0;4>T;++T)I.Zb[T]=de(E)?pe(E,7):0;for(T=0;4>T;++T)I.Lb[T]=de(E)?pe(E,6):0}if(I.Bb)for(T=0;3>T;++T)U.jb[T]=de(E)?ue(E,8):255}else I.Bb=0;if(E.Ka)return Yt(l,3,"cannot parse segment header");if((I=l.ed).zd=de(E),I.Tb=ue(E,6),I.wb=ue(E,3),I.Pc=de(E),I.Pc&&de(E)){for(U=0;4>U;++U)de(E)&&(I.vd[U]=pe(E,6));for(U=0;4>U;++U)de(E)&&(I.od[U]=pe(E,6))}if(l.L=I.Tb==0?0:I.zd?1:2,E.Ka)return Yt(l,3,"cannot parse filter header");var Y=k;if(k=T=b,b=T+Y,I=Y,l.Xb=(1<<ue(l.m,2))-1,Y<3*(U=l.Xb))v=7;else{for(T+=3*U,I-=3*U,Y=0;Y<U;++Y){var se=v[k+0]|v[k+1]<<8|v[k+2]<<16;se>I&&(se=I),he(l.Jc[+Y],v,T,se),T+=se,I-=se,k+=3}he(l.Jc[+U],v,T,I),v=T<b?0:5}if(v!=0)return Yt(l,v,"cannot parse partitions");for(v=ue(T=l.m,7),k=de(T)?pe(T,4):0,b=de(T)?pe(T,4):0,I=de(T)?pe(T,4):0,U=de(T)?pe(T,4):0,T=de(T)?pe(T,4):0,Y=l.Qa,se=0;4>se;++se){if(Y.Cb){var ae=Y.Zb[se];Y.Fb||(ae+=v)}else{if(0<se){l.pb[se]=l.pb[0];continue}ae=v}var te=l.pb[se];te.Sc[0]=sf[fn(ae+k,127)],te.Sc[1]=af[fn(ae+0,127)],te.Eb[0]=2*sf[fn(ae+b,127)],te.Eb[1]=101581*af[fn(ae+I,127)]>>16,8>te.Eb[1]&&(te.Eb[1]=8),te.Qc[0]=sf[fn(ae+U,117)],te.Qc[1]=af[fn(ae+T,127)],te.lc=ae+T}if(!C.Rb)return Yt(l,4,"Not a key frame.");for(de(E),C=l.Pa,v=0;4>v;++v){for(k=0;8>k;++k)for(b=0;3>b;++b)for(I=0;11>I;++I)U=fe(E,$y[v][k][b][I])?ue(E,8):By[v][k][b][I],C.Wc[v][k].Yb[b][I]=U;for(k=0;17>k;++k)C.Xc[v][k]=C.Wc[v][Hy[k]]}return l.kc=de(E),l.kc&&(l.Bd=ue(E,8)),l.cb=1}function Yc(l,h,v,b,k,E,C){var I=h[k].Yb[v];for(v=0;16>k;++k){if(!fe(l,I[v+0]))return k;for(;!fe(l,I[v+1]);)if(I=h[++k].Yb[0],v=0,k==16)return 16;var T=h[k+1].Yb;if(fe(l,I[v+2])){var U=l,Y=0;if(fe(U,(ae=I)[(se=v)+3]))if(fe(U,ae[se+6])){for(I=0,se=2*(Y=fe(U,ae[se+8]))+(ae=fe(U,ae[se+9+Y])),Y=0,ae=My[se];ae[I];++I)Y+=Y+fe(U,ae[I]);Y+=3+(8<<se)}else fe(U,ae[se+7])?(Y=7+2*fe(U,165),Y+=fe(U,145)):Y=5+fe(U,159);else Y=fe(U,ae[se+4])?3+fe(U,ae[se+5]):2;I=T[2]}else Y=1,I=T[1];T=C+Uy[k],0>(U=l).b&&ce(U);var se,ae=U.b,te=(se=U.Ca>>1)-(U.I>>ae)>>31;--U.b,U.Ca+=te,U.Ca|=1,U.I-=(se+1&te)<<ae,E[T]=((Y^te)-te)*b[(0<k)+0]}return 16}function ll(l){var h=l.rb[l.sb-1];h.la=0,h.Na=0,i(l.zc,0,0,l.zc.length),l.ja=0}function Dh(l,h){if(l==null)return 0;if(h==null)return Yt(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!Kc(l,h))return 0;if(e(l.cb),h.ac==null||h.ac(h)){h.ob&&(l.L=0);var v=Su[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=h.v-v>>4,l.zb=h.j-v>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=h.o+15+v>>4,l.Hb=h.va+15+v>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var b=l.ed;for(v=0;4>v;++v){var k;if(l.Qa.Cb){var E=l.Qa.Lb[v];l.Qa.Fb||(E+=b.Tb)}else E=b.Tb;for(k=0;1>=k;++k){var C=l.gd[v][k],I=E;if(b.Pc&&(I+=b.vd[0],k&&(I+=b.od[0])),0<(I=0>I?0:63<I?63:I)){var T=I;0<b.wb&&(T=4<b.wb?T>>2:T>>1)>9-b.wb&&(T=9-b.wb),1>T&&(T=1),C.dd=T,C.tc=2*I+T,C.ld=40<=I?2:15<=I?1:0}else C.tc=0;C.La=k}}}v=0}else Yt(l,6,"Frame setup failed"),v=l.a;if(v=v==0){if(v){l.$c=0,0<l.Aa||(l.Ic=nx);e:{v=l.Ic,b=4*(T=l.za);var U=32*T,Y=T+1,se=0<l.L?T*(0<l.Aa?2:1):0,ae=(l.Aa==2?2:1)*T;if((C=b+832+(k=3*(16*v+Su[l.L])/2*U)+(E=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=C)v=0;else{if(C>l.Vb){if(l.Vb=0,l.Ec=s(C),l.Fc=0,l.Ec==null){v=Yt(l,1,"no memory during frame initialization.");break e}l.Vb=C}C=l.Ec,I=l.Fc,l.Ac=C,l.Bc=I,I+=b,l.Gd=a(U,Gc),l.Hd=0,l.rb=a(Y+1,Vc),l.sb=1,l.wa=se?a(se,Ma):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=T),e(!0),l.oc=C,l.pc=I,I+=832,l.ya=a(ae,ol),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=T),l.R=16*T,l.B=8*T,T=(U=Su[l.L])*l.R,U=U/2*l.B,l.sa=C,l.ta=I+T,l.qa=l.sa,l.ra=l.ta+16*v*l.R+U,l.Ha=l.qa,l.Ia=l.ra+8*v*l.B+U,l.$c=0,I+=k,l.mb=E?C:null,l.nb=E?I:null,e(I+E<=l.Fc+l.Vb),ll(l),i(l.Ac,l.Bc,0,b),v=1}}if(v){if(h.ka=0,h.y=l.sa,h.O=l.ta,h.f=l.qa,h.N=l.ra,h.ea=l.Ha,h.Vd=l.Ia,h.fa=l.R,h.Rc=l.B,h.F=null,h.J=0,!mu){for(v=-255;255>=v;++v)dr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)zi[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)El[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)io[255+v]=0>v?0:255<v?255:v;mu=1}to=Fh,Fi=Rh,Al=Qc,$r=Th,kn=Zc,Xt=Xc,ro=pl,pu=na,Ll=Yh,aa=ml,oa=Kh,os=Va,la=gl,no=lu,ca=ou,ls=yi,Pl=Di,An=Jh,Jn[0]=vi,Jn[1]=zh,Jn[2]=qh,Jn[3]=$h,Jn[4]=ru,Jn[5]=Ha,Jn[6]=nu,Jn[7]=dl,Jn[8]=Wh,Jn[9]=Hh,cs[0]=eu,cs[1]=Uh,cs[2]=Oi,cs[3]=qa,cs[4]=Cr,cs[5]=Bh,cs[6]=tu,Mi[0]=rs,Mi[1]=Mh,Mi[2]=Vh,Mi[3]=hl,Mi[4]=ra,Mi[5]=Gh,Mi[6]=fl,v=1}else v=0}v&&(v=function(te,we){for(te.M=0;te.M<te.Va;++te.M){var me,X=te.Jc[te.M&te.Xb],Q=te.m,ye=te;for(me=0;me<ye.za;++me){var be=Q,xe=ye,Fe=xe.Ac,Pe=xe.Bc+4*me,$e=xe.zc,Ce=xe.ya[xe.aa+me];if(xe.Qa.Bb?Ce.$b=fe(be,xe.Pa.jb[0])?2+fe(be,xe.Pa.jb[2]):fe(be,xe.Pa.jb[1]):Ce.$b=0,xe.kc&&(Ce.Ad=fe(be,xe.Bd)),Ce.Za=!fe(be,145)+0,Ce.Za){var gt=Ce.Ob,xt=0;for(xe=0;4>xe;++xe){var ft,ut=$e[0+xe];for(ft=0;4>ft;++ft){ut=qy[Fe[Pe+ft]][ut];for(var At=zm[fe(be,ut[0])];0<At;)At=zm[2*At+fe(be,ut[At])];ut=-At,Fe[Pe+ft]=ut}n(gt,xt,Fe,Pe,4),xt+=4,$e[0+xe]=ut}}else ut=fe(be,156)?fe(be,128)?1:3:fe(be,163)?2:0,Ce.Ob[0]=ut,i(Fe,Pe,ut,4),i($e,0,ut,4);Ce.Dd=fe(be,142)?fe(be,114)?fe(be,183)?1:3:2:0}if(ye.m.Ka)return Yt(te,7,"Premature end-of-partition0 encountered.");for(;te.ja<te.za;++te.ja){if(ye=X,be=(Q=te).rb[Q.sb-1],Fe=Q.rb[Q.sb+Q.ja],me=Q.ya[Q.aa+Q.ja],Pe=Q.kc?me.Ad:0)be.la=Fe.la=0,me.Za||(be.Na=Fe.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var St,nt;if(be=Fe,Fe=ye,Pe=Q.Pa.Xc,$e=Q.ya[Q.aa+Q.ja],Ce=Q.pb[$e.$b],xe=$e.ad,gt=0,xt=Q.rb[Q.sb-1],ut=ft=0,i(xe,gt,0,384),$e.Za)var or=0,en=Pe[3];else{At=s(16);var lr=be.Na+xt.Na;if(lr=Cl(Fe,Pe[1],lr,Ce.Eb,0,At,0),be.Na=xt.Na=(0<lr)+0,1<lr)to(At,0,xe,gt);else{var tn=At[0]+3>>3;for(At=0;256>At;At+=16)xe[gt+At]=tn}or=1,en=Pe[0]}var wt=15&be.la,mn=15&xt.la;for(At=0;4>At;++At){var gn=1&mn;for(tn=nt=0;4>tn;++tn)wt=wt>>1|(gn=(lr=Cl(Fe,en,lr=gn+(1&wt),Ce.Sc,or,xe,gt))>or)<<7,nt=nt<<2|(3<lr?3:1<lr?2:xe[gt+0]!=0),gt+=16;wt>>=4,mn=mn>>1|gn<<7,ft=(ft<<8|nt)>>>0}for(en=wt,or=mn>>4,St=0;4>St;St+=2){for(nt=0,wt=be.la>>4+St,mn=xt.la>>4+St,At=0;2>At;++At){for(gn=1&mn,tn=0;2>tn;++tn)lr=gn+(1&wt),wt=wt>>1|(gn=0<(lr=Cl(Fe,Pe[2],lr,Ce.Qc,0,xe,gt)))<<3,nt=nt<<2|(3<lr?3:1<lr?2:xe[gt+0]!=0),gt+=16;wt>>=2,mn=mn>>1|gn<<5}ut|=nt<<4*St,en|=wt<<4<<St,or|=(240&mn)<<St}be.la=en,xt.la=or,$e.Hc=ft,$e.Gc=ut,$e.ia=43690&ut?0:Ce.ia,Pe=!(ft|ut)}if(0<Q.L&&(Q.wa[Q.Y+Q.ja]=Q.gd[me.$b][me.Za],Q.wa[Q.Y+Q.ja].La|=!Pe),ye.Ka)return Yt(te,7,"Premature end-of-file encountered.")}if(ll(te),Q=we,ye=1,me=(X=te).D,be=0<X.L&&X.M>=X.zb&&X.M<=X.Va,X.Aa==0)e:{if(me.M=X.M,me.uc=be,Nl(X,me),ye=1,me=(nt=X.D).Nb,be=(ut=Su[X.L])*X.R,Fe=ut/2*X.B,At=16*me*X.R,tn=8*me*X.B,Pe=X.sa,$e=X.ta-be+At,Ce=X.qa,xe=X.ra-Fe+tn,gt=X.Ha,xt=X.Ia-Fe+tn,mn=(wt=nt.M)==0,ft=wt>=X.Va-1,X.Aa==2&&Nl(X,nt),nt.uc)for(gn=(lr=X).D.M,e(lr.D.uc),nt=lr.yb;nt<lr.Hb;++nt){or=nt,en=gn;var vr=(kr=(Vt=lr).D).Nb;St=Vt.R;var kr=kr.wa[kr.Y+or],Hr=Vt.sa,Cn=Vt.ta+16*vr*St+16*or,wi=kr.dd,yr=kr.tc;if(yr!=0)if(e(3<=yr),Vt.L==1)0<or&&ls(Hr,Cn,St,yr+4),kr.La&&An(Hr,Cn,St,yr),0<en&&ca(Hr,Cn,St,yr+4),kr.La&&Pl(Hr,Cn,St,yr);else{var Ui=Vt.B,ua=Vt.qa,so=Vt.ra+8*vr*Ui+8*or,ds=Vt.Ha,Vt=Vt.Ia+8*vr*Ui+8*or;vr=kr.ld,0<or&&(pu(Hr,Cn,St,yr+4,wi,vr),aa(ua,so,ds,Vt,Ui,yr+4,wi,vr)),kr.La&&(os(Hr,Cn,St,yr,wi,vr),no(ua,so,ds,Vt,Ui,yr,wi,vr)),0<en&&(ro(Hr,Cn,St,yr+4,wi,vr),Ll(ua,so,ds,Vt,Ui,yr+4,wi,vr)),kr.La&&(oa(Hr,Cn,St,yr,wi,vr),la(ua,so,ds,Vt,Ui,yr,wi,vr))}}if(X.ia&&alert("todo:DitherRow"),Q.put!=null){if(nt=16*wt,wt=16*(wt+1),mn?(Q.y=X.sa,Q.O=X.ta+At,Q.f=X.qa,Q.N=X.ra+tn,Q.ea=X.Ha,Q.W=X.Ia+tn):(nt-=ut,Q.y=Pe,Q.O=$e,Q.f=Ce,Q.N=xe,Q.ea=gt,Q.W=xt),ft||(wt-=ut),wt>Q.o&&(wt=Q.o),Q.F=null,Q.J=null,X.Fa!=null&&0<X.Fa.length&&nt<wt&&(Q.J=wl(X,Q,nt,wt-nt),Q.F=X.mb,Q.F==null&&Q.F.length==0)){ye=Yt(X,3,"Could not decode alpha data.");break e}nt<Q.j&&(ut=Q.j-nt,nt=Q.j,e(!(1&ut)),Q.O+=X.R*ut,Q.N+=X.B*(ut>>1),Q.W+=X.B*(ut>>1),Q.F!=null&&(Q.J+=Q.width*ut)),nt<wt&&(Q.O+=Q.v,Q.N+=Q.v>>1,Q.W+=Q.v>>1,Q.F!=null&&(Q.J+=Q.v),Q.ka=nt-Q.j,Q.U=Q.va-Q.v,Q.T=wt-nt,ye=Q.put(Q))}me+1!=X.Ic||ft||(n(X.sa,X.ta-be,Pe,$e+16*X.R,be),n(X.qa,X.ra-Fe,Ce,xe+8*X.B,Fe),n(X.Ha,X.Ia-Fe,gt,xt+8*X.B,Fe))}if(!ye)return Yt(te,6,"Output aborted.")}return 1}(l,h)),h.bc!=null&&h.bc(h),v&=1}return v?(l.cb=0,v):0}function Wn(l,h,v,b,k){k=l[h+v+32*b]+(k>>3),l[h+v+32*b]=-256&k?0>k?0:255:k}function Ba(l,h,v,b,k,E){Wn(l,h,0,v,b+k),Wn(l,h,1,v,b+E),Wn(l,h,2,v,b-E),Wn(l,h,3,v,b-k)}function Xr(l){return(20091*l>>16)+l}function cl(l,h,v,b){var k,E=0,C=s(16);for(k=0;4>k;++k){var I=l[h+0]+l[h+8],T=l[h+0]-l[h+8],U=(35468*l[h+4]>>16)-Xr(l[h+12]),Y=Xr(l[h+4])+(35468*l[h+12]>>16);C[E+0]=I+Y,C[E+1]=T+U,C[E+2]=T-U,C[E+3]=I-Y,E+=4,h++}for(k=E=0;4>k;++k)I=(l=C[E+0]+4)+C[E+8],T=l-C[E+8],U=(35468*C[E+4]>>16)-Xr(C[E+12]),Wn(v,b,0,0,I+(Y=Xr(C[E+4])+(35468*C[E+12]>>16))),Wn(v,b,1,0,T+U),Wn(v,b,2,0,T-U),Wn(v,b,3,0,I-Y),E++,b+=32}function Xc(l,h,v,b){var k=l[h+0]+4,E=35468*l[h+4]>>16,C=Xr(l[h+4]),I=35468*l[h+1]>>16;Ba(v,b,0,k+C,l=Xr(l[h+1]),I),Ba(v,b,1,k+E,l,I),Ba(v,b,2,k-E,l,I),Ba(v,b,3,k-C,l,I)}function Rh(l,h,v,b,k){cl(l,h,v,b),k&&cl(l,h+16,v,b+4)}function Qc(l,h,v,b){Fi(l,h+0,v,b,1),Fi(l,h+32,v,b+128,1)}function Th(l,h,v,b){var k;for(l=l[h+0]+4,k=0;4>k;++k)for(h=0;4>h;++h)Wn(v,b,h,k,l)}function Zc(l,h,v,b){l[h+0]&&$r(l,h+0,v,b),l[h+16]&&$r(l,h+16,v,b+4),l[h+32]&&$r(l,h+32,v,b+128),l[h+48]&&$r(l,h+48,v,b+128+4)}function Fh(l,h,v,b){var k,E=s(16);for(k=0;4>k;++k){var C=l[h+0+k]+l[h+12+k],I=l[h+4+k]+l[h+8+k],T=l[h+4+k]-l[h+8+k],U=l[h+0+k]-l[h+12+k];E[0+k]=C+I,E[8+k]=C-I,E[4+k]=U+T,E[12+k]=U-T}for(k=0;4>k;++k)C=(l=E[0+4*k]+3)+E[3+4*k],I=E[1+4*k]+E[2+4*k],T=E[1+4*k]-E[2+4*k],U=l-E[3+4*k],v[b+0]=C+I>>3,v[b+16]=U+T>>3,v[b+32]=C-I>>3,v[b+48]=U-T>>3,b+=64}function ul(l,h,v){var b,k=h-32,E=pn,C=255-l[k-1];for(b=0;b<v;++b){var I,T=E,U=C+l[h-1];for(I=0;I<v;++I)l[h+I]=T[U+l[k+I]];h+=32}}function zh(l,h){ul(l,h,4)}function Mh(l,h){ul(l,h,8)}function Uh(l,h){ul(l,h,16)}function Oi(l,h){var v;for(v=0;16>v;++v)n(l,h+32*v,l,h-32,16)}function qa(l,h){var v;for(v=16;0<v;--v)i(l,h,l[h-1],16),h+=32}function $a(l,h,v){var b;for(b=0;16>b;++b)i(h,v+32*b,l,16)}function eu(l,h){var v,b=16;for(v=0;16>v;++v)b+=l[h-1+32*v]+l[h+v-32];$a(b>>5,l,h)}function Cr(l,h){var v,b=8;for(v=0;16>v;++v)b+=l[h-1+32*v];$a(b>>4,l,h)}function Bh(l,h){var v,b=8;for(v=0;16>v;++v)b+=l[h+v-32];$a(b>>4,l,h)}function tu(l,h){$a(128,l,h)}function Ye(l,h,v){return l+2*h+v+2>>2}function qh(l,h){var v,b=h-32;for(b=new Uint8Array([Ye(l[b-1],l[b+0],l[b+1]),Ye(l[b+0],l[b+1],l[b+2]),Ye(l[b+1],l[b+2],l[b+3]),Ye(l[b+2],l[b+3],l[b+4])]),v=0;4>v;++v)n(l,h+32*v,b,0,b.length)}function $h(l,h){var v=l[h-1],b=l[h-1+32],k=l[h-1+64],E=l[h-1+96];Ae(l,h+0,16843009*Ye(l[h-1-32],v,b)),Ae(l,h+32,16843009*Ye(v,b,k)),Ae(l,h+64,16843009*Ye(b,k,E)),Ae(l,h+96,16843009*Ye(k,E,E))}function vi(l,h){var v,b=4;for(v=0;4>v;++v)b+=l[h+v-32]+l[h-1+32*v];for(b>>=3,v=0;4>v;++v)i(l,h+32*v,b,4)}function ru(l,h){var v=l[h-1+0],b=l[h-1+32],k=l[h-1+64],E=l[h-1-32],C=l[h+0-32],I=l[h+1-32],T=l[h+2-32],U=l[h+3-32];l[h+0+96]=Ye(b,k,l[h-1+96]),l[h+1+96]=l[h+0+64]=Ye(v,b,k),l[h+2+96]=l[h+1+64]=l[h+0+32]=Ye(E,v,b),l[h+3+96]=l[h+2+64]=l[h+1+32]=l[h+0+0]=Ye(C,E,v),l[h+3+64]=l[h+2+32]=l[h+1+0]=Ye(I,C,E),l[h+3+32]=l[h+2+0]=Ye(T,I,C),l[h+3+0]=Ye(U,T,I)}function nu(l,h){var v=l[h+1-32],b=l[h+2-32],k=l[h+3-32],E=l[h+4-32],C=l[h+5-32],I=l[h+6-32],T=l[h+7-32];l[h+0+0]=Ye(l[h+0-32],v,b),l[h+1+0]=l[h+0+32]=Ye(v,b,k),l[h+2+0]=l[h+1+32]=l[h+0+64]=Ye(b,k,E),l[h+3+0]=l[h+2+32]=l[h+1+64]=l[h+0+96]=Ye(k,E,C),l[h+3+32]=l[h+2+64]=l[h+1+96]=Ye(E,C,I),l[h+3+64]=l[h+2+96]=Ye(C,I,T),l[h+3+96]=Ye(I,T,T)}function Ha(l,h){var v=l[h-1+0],b=l[h-1+32],k=l[h-1+64],E=l[h-1-32],C=l[h+0-32],I=l[h+1-32],T=l[h+2-32],U=l[h+3-32];l[h+0+0]=l[h+1+64]=E+C+1>>1,l[h+1+0]=l[h+2+64]=C+I+1>>1,l[h+2+0]=l[h+3+64]=I+T+1>>1,l[h+3+0]=T+U+1>>1,l[h+0+96]=Ye(k,b,v),l[h+0+64]=Ye(b,v,E),l[h+0+32]=l[h+1+96]=Ye(v,E,C),l[h+1+32]=l[h+2+96]=Ye(E,C,I),l[h+2+32]=l[h+3+96]=Ye(C,I,T),l[h+3+32]=Ye(I,T,U)}function dl(l,h){var v=l[h+0-32],b=l[h+1-32],k=l[h+2-32],E=l[h+3-32],C=l[h+4-32],I=l[h+5-32],T=l[h+6-32],U=l[h+7-32];l[h+0+0]=v+b+1>>1,l[h+1+0]=l[h+0+64]=b+k+1>>1,l[h+2+0]=l[h+1+64]=k+E+1>>1,l[h+3+0]=l[h+2+64]=E+C+1>>1,l[h+0+32]=Ye(v,b,k),l[h+1+32]=l[h+0+96]=Ye(b,k,E),l[h+2+32]=l[h+1+96]=Ye(k,E,C),l[h+3+32]=l[h+2+96]=Ye(E,C,I),l[h+3+64]=Ye(C,I,T),l[h+3+96]=Ye(I,T,U)}function Hh(l,h){var v=l[h-1+0],b=l[h-1+32],k=l[h-1+64],E=l[h-1+96];l[h+0+0]=v+b+1>>1,l[h+2+0]=l[h+0+32]=b+k+1>>1,l[h+2+32]=l[h+0+64]=k+E+1>>1,l[h+1+0]=Ye(v,b,k),l[h+3+0]=l[h+1+32]=Ye(b,k,E),l[h+3+32]=l[h+1+64]=Ye(k,E,E),l[h+3+64]=l[h+2+64]=l[h+0+96]=l[h+1+96]=l[h+2+96]=l[h+3+96]=E}function Wh(l,h){var v=l[h-1+0],b=l[h-1+32],k=l[h-1+64],E=l[h-1+96],C=l[h-1-32],I=l[h+0-32],T=l[h+1-32],U=l[h+2-32];l[h+0+0]=l[h+2+32]=v+C+1>>1,l[h+0+32]=l[h+2+64]=b+v+1>>1,l[h+0+64]=l[h+2+96]=k+b+1>>1,l[h+0+96]=E+k+1>>1,l[h+3+0]=Ye(I,T,U),l[h+2+0]=Ye(C,I,T),l[h+1+0]=l[h+3+32]=Ye(v,C,I),l[h+1+32]=l[h+3+64]=Ye(b,v,C),l[h+1+64]=l[h+3+96]=Ye(k,b,v),l[h+1+96]=Ye(E,k,b)}function Vh(l,h){var v;for(v=0;8>v;++v)n(l,h+32*v,l,h-32,8)}function hl(l,h){var v;for(v=0;8>v;++v)i(l,h,l[h-1],8),h+=32}function ta(l,h,v){var b;for(b=0;8>b;++b)i(h,v+32*b,l,8)}function rs(l,h){var v,b=8;for(v=0;8>v;++v)b+=l[h+v-32]+l[h-1+32*v];ta(b>>4,l,h)}function Gh(l,h){var v,b=4;for(v=0;8>v;++v)b+=l[h+v-32];ta(b>>3,l,h)}function ra(l,h){var v,b=4;for(v=0;8>v;++v)b+=l[h-1+32*v];ta(b>>3,l,h)}function fl(l,h){ta(128,l,h)}function Wa(l,h,v){var b=l[h-v],k=l[h+0],E=3*(k-b)+Zh[1020+l[h-2*v]-l[h+v]],C=gu[112+(E+4>>3)];l[h-v]=pn[255+b+gu[112+(E+3>>3)]],l[h+0]=pn[255+k-C]}function iu(l,h,v,b){var k=l[h+0],E=l[h+v];return Pn[255+l[h-2*v]-l[h-v]]>b||Pn[255+E-k]>b}function su(l,h,v,b){return 4*Pn[255+l[h-v]-l[h+0]]+Pn[255+l[h-2*v]-l[h+v]]<=b}function au(l,h,v,b,k){var E=l[h-3*v],C=l[h-2*v],I=l[h-v],T=l[h+0],U=l[h+v],Y=l[h+2*v],se=l[h+3*v];return 4*Pn[255+I-T]+Pn[255+C-U]>b?0:Pn[255+l[h-4*v]-E]<=k&&Pn[255+E-C]<=k&&Pn[255+C-I]<=k&&Pn[255+se-Y]<=k&&Pn[255+Y-U]<=k&&Pn[255+U-T]<=k}function ou(l,h,v,b){var k=2*b+1;for(b=0;16>b;++b)su(l,h+b,v,k)&&Wa(l,h+b,v)}function yi(l,h,v,b){var k=2*b+1;for(b=0;16>b;++b)su(l,h+b*v,1,k)&&Wa(l,h+b*v,1)}function Di(l,h,v,b){var k;for(k=3;0<k;--k)ou(l,h+=4*v,v,b)}function Jh(l,h,v,b){var k;for(k=3;0<k;--k)yi(l,h+=4,v,b)}function ns(l,h,v,b,k,E,C,I){for(E=2*E+1;0<k--;){if(au(l,h,v,E,C))if(iu(l,h,v,I))Wa(l,h,v);else{var T=l,U=h,Y=v,se=T[U-2*Y],ae=T[U-Y],te=T[U+0],we=T[U+Y],me=T[U+2*Y],X=27*(ye=Zh[1020+3*(te-ae)+Zh[1020+se-we]])+63>>7,Q=18*ye+63>>7,ye=9*ye+63>>7;T[U-3*Y]=pn[255+T[U-3*Y]+ye],T[U-2*Y]=pn[255+se+Q],T[U-Y]=pn[255+ae+X],T[U+0]=pn[255+te-X],T[U+Y]=pn[255+we-Q],T[U+2*Y]=pn[255+me-ye]}h+=b}}function Vn(l,h,v,b,k,E,C,I){for(E=2*E+1;0<k--;){if(au(l,h,v,E,C))if(iu(l,h,v,I))Wa(l,h,v);else{var T=l,U=h,Y=v,se=T[U-Y],ae=T[U+0],te=T[U+Y],we=gu[112+((me=3*(ae-se))+4>>3)],me=gu[112+(me+3>>3)],X=we+1>>1;T[U-2*Y]=pn[255+T[U-2*Y]+X],T[U-Y]=pn[255+se+me],T[U+0]=pn[255+ae-we],T[U+Y]=pn[255+te-X]}h+=b}}function pl(l,h,v,b,k,E){ns(l,h,v,1,16,b,k,E)}function na(l,h,v,b,k,E){ns(l,h,1,v,16,b,k,E)}function Kh(l,h,v,b,k,E){var C;for(C=3;0<C;--C)Vn(l,h+=4*v,v,1,16,b,k,E)}function Va(l,h,v,b,k,E){var C;for(C=3;0<C;--C)Vn(l,h+=4,1,v,16,b,k,E)}function Yh(l,h,v,b,k,E,C,I){ns(l,h,k,1,8,E,C,I),ns(v,b,k,1,8,E,C,I)}function ml(l,h,v,b,k,E,C,I){ns(l,h,1,k,8,E,C,I),ns(v,b,1,k,8,E,C,I)}function gl(l,h,v,b,k,E,C,I){Vn(l,h+4*k,k,1,8,E,C,I),Vn(v,b+4*k,k,1,8,E,C,I)}function lu(l,h,v,b,k,E,C,I){Vn(l,h+4,1,k,8,E,C,I),Vn(v,b+4,1,k,8,E,C,I)}function Ga(){this.ba=new Un,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ht,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function vl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function yl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function cu(){this.ua=0,this.Wa=new V,this.vb=new V,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new z}function Xh(){this.xb=this.a=0,this.l=new Ua,this.ca=new Un,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new cu,this.ab=0,this.gc=a(4,yl),this.Oc=0}function Ja(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ua,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ia(l,h,v,b,k,E,C){for(l=l==null?0:l[h+0],h=0;h<C;++h)k[E+h]=l+v[b+h]&255,l=k[E+h]}function xl(l,h,v,b,k,E,C){var I;if(l==null)ia(null,null,v,b,k,E,C);else for(I=0;I<C;++I)k[E+I]=l[h+I]+v[b+I]&255}function is(l,h,v,b,k,E,C){if(l==null)ia(null,null,v,b,k,E,C);else{var I,T=l[h+0],U=T,Y=T;for(I=0;I<C;++I)U=Y+(T=l[h+I])-U,Y=v[b+I]+(-256&U?0>U?0:255:U)&255,U=T,k[E+I]=Y}}function wl(l,h,v,b){var k=h.width,E=h.o;if(e(l!=null&&h!=null),0>v||0>=b||v+b>E)return null;if(!l.Cc){if(l.ga==null){var C;if(l.ga=new Ja,(C=l.ga==null)||(C=h.width*h.o,e(l.Gb.length==0),l.Gb=s(C),l.Uc=0,l.Gb==null?C=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,C=1),C=!C),!C){C=l.ga;var I=l.Fa,T=l.P,U=l.qc,Y=l.mb,se=l.nb,ae=T+1,te=U-1,we=C.l;if(e(I!=null&&Y!=null&&h!=null),us[0]=null,us[1]=ia,us[2]=xl,us[3]=is,C.ca=Y,C.tb=se,C.c=h.width,C.i=h.height,e(0<C.c&&0<C.i),1>=U)h=0;else if(C.$a=I[T+0]>>0&3,C.Z=I[T+0]>>2&3,C.Lc=I[T+0]>>4&3,T=I[T+0]>>6&3,0>C.$a||1<C.$a||4<=C.Z||1<C.Lc||T)h=0;else if(we.put=hi,we.ac=Sr,we.bc=fi,we.ma=C,we.width=h.width,we.height=h.height,we.Da=h.Da,we.v=h.v,we.va=h.va,we.j=h.j,we.o=h.o,C.$a)e:{e(C.$a==1),h=Sn();t:for(;;){if(h==null){h=0;break e}if(e(C!=null),C.mc=h,h.c=C.c,h.i=C.i,h.l=C.l,h.l.ma=C,h.l.width=C.c,h.l.height=C.i,h.a=0,G(h.m,I,ae,te),!gi(C.c,C.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Ii(h.s)?(C.ic=1,I=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(I),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(C.ic=0,h=ea(h,C.c)),!h))break t;h=1;break e}C.mc=null,h=0}else h=te>=C.c*C.i;C=!h}if(C)return null;l.ga.Lc!=1?l.Ga=0:b=E-v}e(l.ga!=null),e(v+b<=E);e:{if(h=(I=l.ga).c,E=I.l.o,I.$a==0){if(ae=l.rc,te=l.Vc,we=l.Fa,T=l.P+1+v*h,U=l.mb,Y=l.nb+v*h,e(T<=l.P+l.qc),I.Z!=0)for(e(us[I.Z]!=null),C=0;C<b;++C)us[I.Z](ae,te,we,T,U,Y,h),ae=U,te=Y,Y+=h,T+=h;else for(C=0;C<b;++C)n(U,Y,we,T,h),ae=U,te=Y,Y+=h,T+=h;l.rc=ae,l.Vc=te}else{if(e(I.mc!=null),h=v+b,e((C=I.mc)!=null),e(h<=C.i),C.C>=h)h=1;else if(I.ic||ne(),I.ic){I=C.V,ae=C.Ba,te=C.c;var me=C.i,X=(we=1,T=C.$/te,U=C.$%te,Y=C.m,se=C.s,C.$),Q=te*me,ye=te*h,be=se.wc,xe=X<ye?sr(se,U,T):null;e(X<=Q),e(h<=me),e(Ii(se));t:for(;;){for(;!Y.h&&X<ye;){if(U&be||(xe=sr(se,U,T)),e(xe!=null),ee(Y),256>(me=Yr(xe.G[0],xe.H[0],Y)))I[ae+X]=me,++X,++U>=te&&(U=0,++T<=h&&!(T%16)&&$n(C,T));else{if(!(280>me)){we=0;break t}me=Bn(me-256,Y);var Fe,Pe=Yr(xe.G[4],xe.H[4],Y);if(ee(Y),!(X>=(Pe=pi(te,Pe=Bn(Pe,Y)))&&Q-X>=me)){we=0;break t}for(Fe=0;Fe<me;++Fe)I[ae+X+Fe]=I[ae+X+Fe-Pe];for(X+=me,U+=me;U>=te;)U-=te,++T<=h&&!(T%16)&&$n(C,T);X<ye&&U&be&&(xe=sr(se,U,T))}e(Y.h==H(Y))}$n(C,T>h?h:T);break t}!we||Y.h&&X<Q?(we=0,C.a=Y.h?5:3):C.$=X,h=we}else h=Hn(C,C.V,C.Ba,C.c,C.i,h,Ra);if(!h){b=0;break e}}v+b>=E&&(l.Cc=1),b=1}if(!b)return null;if(l.Cc&&((b=l.ga)!=null&&(b.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+v*k}function g(l,h,v,b,k,E){for(;0<k--;){var C,I=l,T=h+(v?1:0),U=l,Y=h+(v?0:3);for(C=0;C<b;++C){var se=U[Y+4*C];se!=255&&(se*=32897,I[T+4*C+0]=I[T+4*C+0]*se>>23,I[T+4*C+1]=I[T+4*C+1]*se>>23,I[T+4*C+2]=I[T+4*C+2]*se>>23)}h+=E}}function A(l,h,v,b,k){for(;0<b--;){var E;for(E=0;E<v;++E){var C=l[h+2*E+0],I=15&(U=l[h+2*E+1]),T=4369*I,U=(240&U|U>>4)*T>>16;l[h+2*E+0]=(240&C|C>>4)*T>>16&240|(15&C|C<<4)*T>>16>>4&15,l[h+2*E+1]=240&U|I}h+=k}}function $(l,h,v,b,k,E,C,I){var T,U,Y=255;for(U=0;U<k;++U){for(T=0;T<b;++T){var se=l[h+T];E[C+4*T]=se,Y&=se}h+=v,C+=I}return Y!=255}function J(l,h,v,b,k){var E;for(E=0;E<k;++E)v[b+E]=l[h+E]>>8}function ne(){Ln=g,Pt=A,Et=$,Qt=J}function ge(l,h,v){O[l]=function(b,k,E,C,I,T,U,Y,se,ae,te,we,me,X,Q,ye,be){var xe,Fe=be-1>>1,Pe=I[T+0]|U[Y+0]<<16,$e=se[ae+0]|te[we+0]<<16;e(b!=null);var Ce=3*Pe+$e+131074>>2;for(h(b[k+0],255&Ce,Ce>>16,me,X),E!=null&&(Ce=3*$e+Pe+131074>>2,h(E[C+0],255&Ce,Ce>>16,Q,ye)),xe=1;xe<=Fe;++xe){var gt=I[T+xe]|U[Y+xe]<<16,xt=se[ae+xe]|te[we+xe]<<16,ft=Pe+gt+$e+xt+524296,ut=ft+2*(gt+$e)>>3;Ce=ut+Pe>>1,Pe=(ft=ft+2*(Pe+xt)>>3)+gt>>1,h(b[k+2*xe-1],255&Ce,Ce>>16,me,X+(2*xe-1)*v),h(b[k+2*xe-0],255&Pe,Pe>>16,me,X+(2*xe-0)*v),E!=null&&(Ce=ft+$e>>1,Pe=ut+xt>>1,h(E[C+2*xe-1],255&Ce,Ce>>16,Q,ye+(2*xe-1)*v),h(E[C+2*xe+0],255&Pe,Pe>>16,Q,ye+(2*xe+0)*v)),Pe=gt,$e=xt}1&be||(Ce=3*Pe+$e+131074>>2,h(b[k+be-1],255&Ce,Ce>>16,me,X+(be-1)*v),E!=null&&(Ce=3*$e+Pe+131074>>2,h(E[C+be-1],255&Ce,Ce>>16,Q,ye+(be-1)*v)))}}function Ne(){En[vu]=Vy,En[yu]=Um,En[Rm]=Gy,En[xu]=Bm,En[wu]=qm,En[ef]=$m,En[Tm]=Jy,En[tf]=Um,En[rf]=Bm,En[bu]=qm,En[nf]=$m}function Te(l){return l&~Ky?0>l?0:255:l>>Hm}function qe(l,h){return Te((19077*l>>8)+(26149*h>>8)-14234)}function rt(l,h,v){return Te((19077*l>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function Ze(l,h){return Te((19077*l>>8)+(33050*h>>8)-17685)}function dt(l,h,v,b,k){b[k+0]=qe(l,v),b[k+1]=rt(l,h,v),b[k+2]=Ze(l,h)}function Mt(l,h,v,b,k){b[k+0]=Ze(l,h),b[k+1]=rt(l,h,v),b[k+2]=qe(l,v)}function Wt(l,h,v,b,k){var E=rt(l,h,v);h=E<<3&224|Ze(l,h)>>3,b[k+0]=248&qe(l,v)|E>>5,b[k+1]=h}function ar(l,h,v,b,k){var E=240&Ze(l,h)|15;b[k+0]=240&qe(l,v)|rt(l,h,v)>>4,b[k+1]=E}function Ir(l,h,v,b,k){b[k+0]=255,dt(l,h,v,b,k+1)}function gr(l,h,v,b,k){Mt(l,h,v,b,k),b[k+3]=255}function Gn(l,h,v,b,k){dt(l,h,v,b,k),b[k+3]=255}function fn(l,h){return 0>l?0:l>h?h:l}function xi(l,h,v){O[l]=function(b,k,E,C,I,T,U,Y,se){for(var ae=Y+(-2&se)*v;Y!=ae;)h(b[k+0],E[C+0],I[T+0],U,Y),h(b[k+1],E[C+0],I[T+0],U,Y+v),k+=2,++C,++T,Y+=2*v;1&se&&h(b[k+0],E[C+0],I[T+0],U,Y)}}function uu(l,h,v){return v==0?l==0?h==0?6:5:h==0?4:0:v}function bl(l,h,v,b,k){switch(l>>>30){case 3:Fi(h,v,b,k,0);break;case 2:Xt(h,v,b,k);break;case 1:$r(h,v,b,k)}}function Nl(l,h){var v,b,k=h.M,E=h.Nb,C=l.oc,I=l.pc+40,T=l.oc,U=l.pc+584,Y=l.oc,se=l.pc+600;for(v=0;16>v;++v)C[I+32*v-1]=129;for(v=0;8>v;++v)T[U+32*v-1]=129,Y[se+32*v-1]=129;for(0<k?C[I-1-32]=T[U-1-32]=Y[se-1-32]=129:(i(C,I-32-1,127,21),i(T,U-32-1,127,9),i(Y,se-32-1,127,9)),b=0;b<l.za;++b){var ae=h.ya[h.aa+b];if(0<b){for(v=-1;16>v;++v)n(C,I+32*v-4,C,I+32*v+12,4);for(v=-1;8>v;++v)n(T,U+32*v-4,T,U+32*v+4,4),n(Y,se+32*v-4,Y,se+32*v+4,4)}var te=l.Gd,we=l.Hd+b,me=ae.ad,X=ae.Hc;if(0<k&&(n(C,I-32,te[we].y,0,16),n(T,U-32,te[we].f,0,8),n(Y,se-32,te[we].ea,0,8)),ae.Za){var Q=C,ye=I-32+16;for(0<k&&(b>=l.za-1?i(Q,ye,te[we].y[15],4):n(Q,ye,te[we+1].y,0,4)),v=0;4>v;v++)Q[ye+128+v]=Q[ye+256+v]=Q[ye+384+v]=Q[ye+0+v];for(v=0;16>v;++v,X<<=2)Q=C,ye=I+Vm[v],Jn[ae.Ob[v]](Q,ye),bl(X,me,16*+v,Q,ye)}else if(Q=uu(b,k,ae.Ob[0]),cs[Q](C,I),X!=0)for(v=0;16>v;++v,X<<=2)bl(X,me,16*+v,C,I+Vm[v]);for(v=ae.Gc,Q=uu(b,k,ae.Dd),Mi[Q](T,U),Mi[Q](Y,se),X=me,Q=T,ye=U,255&(ae=v>>0)&&(170&ae?Al(X,256,Q,ye):kn(X,256,Q,ye)),ae=Y,X=se,255&(v>>=8)&&(170&v?Al(me,320,ae,X):kn(me,320,ae,X)),k<l.Ub-1&&(n(te[we].y,0,C,I+480,16),n(te[we].f,0,T,U+224,8),n(te[we].ea,0,Y,se+224,8)),v=8*E*l.B,te=l.sa,we=l.ta+16*b+16*E*l.R,me=l.qa,ae=l.ra+8*b+v,X=l.Ha,Q=l.Ia+8*b+v,v=0;16>v;++v)n(te,we+v*l.R,C,I+32*v,16);for(v=0;8>v;++v)n(me,ae+v*l.B,T,U+32*v,8),n(X,Q+v*l.B,Y,se+32*v,8)}}function Ka(l,h,v,b,k,E,C,I,T){var U=[0],Y=[0],se=0,ae=T!=null?T.kd:0,te=T??new vl;if(l==null||12>v)return 7;te.data=l,te.w=h,te.ha=v,h=[h],v=[v],te.gb=[te.gb];e:{var we=h,me=v,X=te.gb;if(e(l!=null),e(me!=null),e(X!=null),X[0]=0,12<=me[0]&&!r(l,we[0],"RIFF")){if(r(l,we[0]+8,"WEBP")){X=3;break e}var Q=Ee(l,we[0]+4);if(12>Q||4294967286<Q){X=3;break e}if(ae&&Q>me[0]-8){X=7;break e}X[0]=Q,we[0]+=12,me[0]-=12}X=0}if(X!=0)return X;for(Q=0<te.gb[0],v=v[0];;){e:{var ye=l;me=h,X=v;var be=U,xe=Y,Fe=we=[0];if((Ce=se=[se])[0]=0,8>X[0])X=7;else{if(!r(ye,me[0],"VP8X")){if(Ee(ye,me[0]+4)!=10){X=3;break e}if(18>X[0]){X=7;break e}var Pe=Ee(ye,me[0]+8),$e=1+Oe(ye,me[0]+12);if(2147483648<=$e*(ye=1+Oe(ye,me[0]+15))){X=3;break e}Fe!=null&&(Fe[0]=Pe),be!=null&&(be[0]=$e),xe!=null&&(xe[0]=ye),me[0]+=18,X[0]-=18,Ce[0]=1}X=0}}if(se=se[0],we=we[0],X!=0)return X;if(me=!!(2&we),!Q&&se)return 3;if(E!=null&&(E[0]=!!(16&we)),C!=null&&(C[0]=me),I!=null&&(I[0]=0),C=U[0],we=Y[0],se&&me&&T==null){X=0;break}if(4>v){X=7;break}if(Q&&se||!Q&&!se&&!r(l,h[0],"ALPH")){v=[v],te.na=[te.na],te.P=[te.P],te.Sa=[te.Sa];e:{Pe=l,X=h,Q=v;var Ce=te.gb;be=te.na,xe=te.P,Fe=te.Sa,$e=22,e(Pe!=null),e(Q!=null),ye=X[0];var gt=Q[0];for(e(be!=null),e(Fe!=null),be[0]=null,xe[0]=null,Fe[0]=0;;){if(X[0]=ye,Q[0]=gt,8>gt){X=7;break e}var xt=Ee(Pe,ye+4);if(4294967286<xt){X=3;break e}var ft=8+xt+1&-2;if($e+=ft,0<Ce&&$e>Ce){X=3;break e}if(!r(Pe,ye,"VP8 ")||!r(Pe,ye,"VP8L")){X=0;break e}if(gt[0]<ft){X=7;break e}r(Pe,ye,"ALPH")||(be[0]=Pe,xe[0]=ye+8,Fe[0]=xt),ye+=ft,gt-=ft}}if(v=v[0],te.na=te.na[0],te.P=te.P[0],te.Sa=te.Sa[0],X!=0)break}v=[v],te.Ja=[te.Ja],te.xa=[te.xa];e:if(Ce=l,X=h,Q=v,be=te.gb[0],xe=te.Ja,Fe=te.xa,Pe=X[0],ye=!r(Ce,Pe,"VP8 "),$e=!r(Ce,Pe,"VP8L"),e(Ce!=null),e(Q!=null),e(xe!=null),e(Fe!=null),8>Q[0])X=7;else{if(ye||$e){if(Ce=Ee(Ce,Pe+4),12<=be&&Ce>be-12){X=3;break e}if(ae&&Ce>Q[0]-8){X=7;break e}xe[0]=Ce,X[0]+=8,Q[0]-=8,Fe[0]=$e}else Fe[0]=5<=Q[0]&&Ce[Pe+0]==47&&!(Ce[Pe+4]>>5),xe[0]=Q[0];X=0}if(v=v[0],te.Ja=te.Ja[0],te.xa=te.xa[0],h=h[0],X!=0)break;if(4294967286<te.Ja)return 3;if(I==null||me||(I[0]=te.xa?2:1),C=[C],we=[we],te.xa){if(5>v){X=7;break}I=C,ae=we,me=E,l==null||5>v?l=0:5<=v&&l[h+0]==47&&!(l[h+4]>>5)?(Q=[0],Ce=[0],be=[0],G(xe=new P,l,h,v),We(xe,Q,Ce,be)?(I!=null&&(I[0]=Q[0]),ae!=null&&(ae[0]=Ce[0]),me!=null&&(me[0]=be[0]),l=1):l=0):l=0}else{if(10>v){X=7;break}I=we,l==null||10>v||!Jc(l,h+3,v-3)?l=0:(ae=l[h+0]|l[h+1]<<8|l[h+2]<<16,me=16383&(l[h+7]<<8|l[h+6]),l=16383&(l[h+9]<<8|l[h+8]),1&ae||3<(ae>>1&7)||!(ae>>4&1)||ae>>5>=te.Ja||!me||!l?l=0:(C&&(C[0]=me),I&&(I[0]=l),l=1))}if(!l||(C=C[0],we=we[0],se&&(U[0]!=C||Y[0]!=we)))return 3;T!=null&&(T[0]=te,T.offset=h-T.w,e(4294967286>h-T.w),e(T.offset==T.ha-v));break}return X==0||X==7&&se&&T==null?(E!=null&&(E[0]|=te.na!=null&&0<te.na.length),b!=null&&(b[0]=C),k!=null&&(k[0]=we),0):X}function _l(l,h,v){var b=h.width,k=h.height,E=0,C=0,I=b,T=k;if(h.Da=l!=null&&0<l.Da,h.Da&&(I=l.cd,T=l.bd,E=l.v,C=l.j,11>v||(E&=-2,C&=-2),0>E||0>C||0>=I||0>=T||E+I>b||C+T>k))return 0;if(h.v=E,h.j=C,h.va=E+I,h.o=C+T,h.U=I,h.T=T,h.da=l!=null&&0<l.da,h.da){if(!tt(I,T,v=[l.ib],E=[l.hb]))return 0;h.ib=v[0],h.hb=E[0]}return h.ob=l!=null&&l.ob,h.Kb=l==null||!l.Sd,h.da&&(h.ob=h.ib<3*b/4&&h.hb<3*k/4,h.Kb=0),1}function Sl(l){if(l==null)return 2;if(11>l.S){var h=l.f.RGBA;h.fb+=(l.height-1)*h.A,h.A=-h.A}else h=l.f.kb,l=l.height,h.O+=(l-1)*h.fa,h.fa=-h.fa,h.N+=(l-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(l-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(l-1)*h.lb,h.lb=-h.lb);return 0}function Ya(l,h,v,b){if(b==null||0>=l||0>=h)return 2;if(v!=null){if(v.Da){var k=v.cd,E=v.bd,C=-2&v.v,I=-2&v.j;if(0>C||0>I||0>=k||0>=E||C+k>l||I+E>h)return 2;l=k,h=E}if(v.da){if(!tt(l,h,k=[v.ib],E=[v.hb]))return 2;l=k[0],h=E[0]}}b.width=l,b.height=h;e:{var T=b.width,U=b.height;if(l=b.S,0>=T||0>=U||!(l>=vu&&13>l))l=2;else{if(0>=b.Rd&&b.sd==null){C=E=k=h=0;var Y=(I=T*Gm[l])*U;if(11>l||(E=(U+1)/2*(h=(T+1)/2),l==12&&(C=(k=T)*U)),(U=s(Y+2*E+C))==null){l=1;break e}b.sd=U,11>l?((T=b.f.RGBA).eb=U,T.fb=0,T.A=I,T.size=Y):((T=b.f.kb).y=U,T.O=0,T.fa=I,T.Fd=Y,T.f=U,T.N=0+Y,T.Ab=h,T.Cd=E,T.ea=U,T.W=0+Y+E,T.Db=h,T.Ed=E,l==12&&(T.F=U,T.J=0+Y+2*E),T.Tc=C,T.lb=k)}if(h=1,k=b.S,E=b.width,C=b.height,k>=vu&&13>k)if(11>k)l=b.f.RGBA,h&=(I=Math.abs(l.A))*(C-1)+E<=l.size,h&=I>=E*Gm[k],h&=l.eb!=null;else{l=b.f.kb,I=(E+1)/2,Y=(C+1)/2,T=Math.abs(l.fa),U=Math.abs(l.Ab);var se=Math.abs(l.Db),ae=Math.abs(l.lb),te=ae*(C-1)+E;h&=T*(C-1)+E<=l.Fd,h&=U*(Y-1)+I<=l.Cd,h=(h&=se*(Y-1)+I<=l.Ed)&T>=E&U>=I&se>=I,h&=l.y!=null,h&=l.f!=null,h&=l.ea!=null,k==12&&(h&=ae>=E,h&=te<=l.Tc,h&=l.F!=null)}else h=0;l=h?0:2}}return l!=0||v!=null&&v.fd&&(l=Sl(b)),l}var jr=64,Xa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qa=24,Za=32,jl=8,Qr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(l){return l},O.Predictor2=function(l,h,v){return h[v+0]},O.Predictor3=function(l,h,v){return h[v+1]},O.Predictor4=function(l,h,v){return h[v-1]},O.Predictor5=function(l,h,v){return Ie(Ie(l,h[v+1]),h[v+0])},O.Predictor6=function(l,h,v){return Ie(l,h[v-1])},O.Predictor7=function(l,h,v){return Ie(l,h[v+0])},O.Predictor8=function(l,h,v){return Ie(h[v-1],h[v+0])},O.Predictor9=function(l,h,v){return Ie(h[v+0],h[v+1])},O.Predictor10=function(l,h,v){return Ie(Ie(l,h[v-1]),Ie(h[v+0],h[v+1]))},O.Predictor11=function(l,h,v){var b=h[v+0];return 0>=st(b>>24&255,l>>24&255,(h=h[v-1])>>24&255)+st(b>>16&255,l>>16&255,h>>16&255)+st(b>>8&255,l>>8&255,h>>8&255)+st(255&b,255&l,255&h)?b:l},O.Predictor12=function(l,h,v){var b=h[v+0];return(Be((l>>24&255)+(b>>24&255)-((h=h[v-1])>>24&255))<<24|Be((l>>16&255)+(b>>16&255)-(h>>16&255))<<16|Be((l>>8&255)+(b>>8&255)-(h>>8&255))<<8|Be((255&l)+(255&b)-(255&h)))>>>0},O.Predictor13=function(l,h,v){var b=h[v-1];return(Xe((l=Ie(l,h[v+0]))>>24&255,b>>24&255)<<24|Xe(l>>16&255,b>>16&255)<<16|Xe(l>>8&255,b>>8&255)<<8|Xe(l>>0&255,b>>0&255))>>>0};var Qh=O.PredictorAdd0;O.PredictorAdd1=at,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var kl=O.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var du,jn=O.ColorIndexInverseTransform,eo=O.MapARGB,hu=O.VP8LColorIndexInverseTransformAlpha,fu=O.MapAlpha,ss=O.VP8LPredictorsAdd=[];ss.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var sa,Zr,qr,as,Ri,Ti,to,Fi,Xt,Al,$r,kn,ro,pu,Ll,aa,oa,os,la,no,ca,ls,Pl,An,Ln,Pt,Et,Qt,dr=s(511),zi=s(2041),El=s(225),io=s(767),mu=0,Zh=zi,gu=El,pn=io,Pn=dr,vu=0,yu=1,Rm=2,xu=3,wu=4,ef=5,Tm=6,tf=7,rf=8,bu=9,nf=10,Iy=[2,3,7],Oy=[3,3,11],Fm=[280,256,256,256,40],Dy=[0,1,1,1,0],Ry=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ty=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Fy=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zy=8,sf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],af=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Cl=null,My=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Uy=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],zm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],By=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],qy=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],$y=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Hy=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],cs=[],Jn=[],Mi=[],Wy=1,Mm=2,us=[],En=[];ge("UpsampleRgbLinePair",dt,3),ge("UpsampleBgrLinePair",Mt,3),ge("UpsampleRgbaLinePair",Gn,4),ge("UpsampleBgraLinePair",gr,4),ge("UpsampleArgbLinePair",Ir,4),ge("UpsampleRgba4444LinePair",ar,2),ge("UpsampleRgb565LinePair",Wt,2);var Vy=O.UpsampleRgbLinePair,Gy=O.UpsampleBgrLinePair,Um=O.UpsampleRgbaLinePair,Bm=O.UpsampleBgraLinePair,qm=O.UpsampleArgbLinePair,$m=O.UpsampleRgba4444LinePair,Jy=O.UpsampleRgb565LinePair,Nu=16,_u=1<<Nu-1,Il=-227,of=482,Hm=6,Ky=(256<<Hm)-1,Wm=0,Yy=s(256),Xy=s(256),Qy=s(256),Zy=s(256),ex=s(of-Il),tx=s(of-Il);xi("YuvToRgbRow",dt,3),xi("YuvToBgrRow",Mt,3),xi("YuvToRgbaRow",Gn,4),xi("YuvToBgraRow",gr,4),xi("YuvToArgbRow",Ir,4),xi("YuvToRgba4444Row",ar,2),xi("YuvToRgb565Row",Wt,2);var Vm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Su=[0,2,8],rx=[8,7,6,4,4,2,2,2,1,1,1,1],nx=1;this.WebPDecodeRGBA=function(l,h,v,b,k){var E=yu,C=new Ga,I=new Un;C.ba=I,I.S=E,I.width=[I.width],I.height=[I.height];var T=I.width,U=I.height,Y=new Ci;if(Y==null||l==null)var se=2;else e(Y!=null),se=Ka(l,h,v,Y.width,Y.height,Y.Pd,Y.Qd,Y.format,null);if(se!=0?T=0:(T!=null&&(T[0]=Y.width[0]),U!=null&&(U[0]=Y.height[0]),T=1),T){I.width=I.width[0],I.height=I.height[0],b!=null&&(b[0]=I.width),k!=null&&(k[0]=I.height);e:{if(b=new Ua,(k=new vl).data=l,k.w=h,k.ha=v,k.kd=1,h=[0],e(k!=null),((l=Ka(k.data,k.w,k.ha,null,null,null,h,null,k))==0||l==7)&&h[0]&&(l=4),(h=l)==0){if(e(C!=null),b.data=k.data,b.w=k.w+k.offset,b.ha=k.ha-k.offset,b.put=hi,b.ac=Sr,b.bc=fi,b.ma=C,k.xa){if((l=Sn())==null){C=1;break e}if(function(ae,te){var we=[0],me=[0],X=[0];t:for(;;){if(ae==null)return 0;if(te==null)return ae.a=2,0;if(ae.l=te,ae.a=0,G(ae.m,te.data,te.w,te.ha),!We(ae.m,we,me,X)){ae.a=3;break t}if(ae.xb=Mm,te.width=we[0],te.height=me[0],!gi(we[0],me[0],1,ae,null))break t;return 1}return e(ae.a!=0),0}(l,b)){if(b=(h=Ya(b.width,b.height,C.Oa,C.ba))==0){t:{b=l;r:for(;;){if(b==null){b=0;break t}if(e(b.s.yc!=null),e(b.s.Ya!=null),e(0<b.s.Wb),e((v=b.l)!=null),e((k=v.ma)!=null),b.xb!=0){if(b.ca=k.ba,b.tb=k.tb,e(b.ca!=null),!_l(k.Oa,v,xu)){b.a=2;break r}if(!ea(b,v.width)||v.da)break r;if((v.da||vt(b.ca.S))&&ne(),11>b.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),b.ca.f.kb.F!=null&&ne()),b.Pb&&0<b.s.ua&&b.s.vb.X==null&&!Ve(b.s.vb,b.s.Wa.Xa)){b.a=1;break r}b.xb=0}if(!Hn(b,b.V,b.Ba,b.c,b.i,v.o,Da))break r;k.Dc=b.Ma,b=1;break t}e(b.a!=0),b=0}b=!b}b&&(h=l.a)}else h=l.a}else{if((l=new Oh)==null){C=1;break e}if(l.Fa=k.na,l.P=k.P,l.qc=k.Sa,Kc(l,b)){if((h=Ya(b.width,b.height,C.Oa,C.ba))==0){if(l.Aa=0,v=C.Oa,e((k=l)!=null),v!=null){if(0<(T=0>(T=v.Md)?0:100<T?255:255*T/100)){for(U=Y=0;4>U;++U)12>(se=k.pb[U]).lc&&(se.ia=T*rx[0>se.lc?0:se.lc]>>3),Y|=se.ia;Y&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=v.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}Dh(l,b)||(h=l.a)}}else h=l.a}h==0&&C.Oa!=null&&C.Oa.fd&&(h=Sl(C.ba))}C=h}E=C!=0?null:11>E?I.f.RGBA.eb:I.f.kb.y}else E=null;return E};var Gm=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(O,Z){for(var re="",D=0;D<4;D++)re+=String.fromCharCode(O[Z++]);return re}function p(O,Z){return(O[Z+0]<<0|O[Z+1]<<8|O[Z+2]<<16)>>>0}function m(O,Z){return(O[Z+0]<<0|O[Z+1]<<8|O[Z+2]<<16|O[Z+3]<<24)>>>0}new c;var y=[0],f=[0],N=[],_=new c,j=t,w=function(O,Z){var re={},D=0,z=!1,B=0,W=0;if(re.frames=[],!function(q,H,K,ee){for(var ce=0;ce<ee;ce++)if(q[H+ce]!=K.charCodeAt(ce))return!0;return!1}(O,Z,"RIFF",4)){var he,ue;for(m(O,Z+=4),Z+=8;Z<O.length;){var pe=d(O,Z),G=m(O,Z+=4);Z+=4;var ie=G+(1&G);switch(pe){case"VP8 ":case"VP8L":re.frames[D]===void 0&&(re.frames[D]={}),(P=re.frames[D]).src_off=z?W:Z-8,P.src_size=B+G+8,D++,z&&(z=!1,B=0,W=0);break;case"VP8X":(P=re.header={}).feature_flags=O[Z];var le=Z+4;P.canvas_width=1+p(O,le),le+=3,P.canvas_height=1+p(O,le),le+=3;break;case"ALPH":z=!0,B=ie+8,W=Z-8;break;case"ANIM":(P=re.header).bgcolor=m(O,Z),le=Z+4,P.loop_count=(he=O)[(ue=le)+0]<<0|he[ue+1]<<8,le+=2;break;case"ANMF":var _e,P;(P=re.frames[D]={}).offset_x=2*p(O,Z),Z+=3,P.offset_y=2*p(O,Z),Z+=3,P.width=1+p(O,Z),Z+=3,P.height=1+p(O,Z),Z+=3,P.duration=p(O,Z),Z+=3,_e=O[Z++],P.dispose=1&_e,P.blend=_e>>1&1}pe!="ANMF"&&(Z+=ie)}return re}}(j,0);w.response=j,w.rgbaoutput=!0,w.dataurl=!1;var x=w.header?w.header:null,S=w.frames?w.frames:null;if(x){x.loop_counter=x.loop_count,y=[x.canvas_height],f=[x.canvas_width];for(var F=0;F<S.length&&S[F].blend!=0;F++);}var L=S[0],M=_.WebPDecodeRGBA(j,L.src_off,L.src_size,f,y);L.rgba=M,L.imgwidth=f[0],L.imgheight=y[0];for(var R=0;R<f[0]*y[0]*4;R++)N[R]=M[R];return this.width=f,this.height=y,this.data=N,this}(function(t){var e=function(){return typeof x0=="function"},r=function(y,f,N,_){var j=4,w=a;switch(_){case t.image_compression.FAST:j=1,w=s;break;case t.image_compression.MEDIUM:j=6,w=o;break;case t.image_compression.SLOW:j=9,w=c}y=n(y,f,N,w);var x=x0(y,{level:j});return t.__addimage__.arrayBufferToBinaryString(x)},n=function(y,f,N,_){for(var j,w,x,S=y.length/f,F=new Uint8Array(y.length+S),L=p(),M=0;M<S;M+=1){if(x=M*f,j=y.subarray(x,x+f),_)F.set(_(j,N,w),x+M);else{for(var R,O=L.length,Z=[];R<O;R+=1)Z[R]=L[R](j,N,w);var re=m(Z.concat());F.set(Z[re],x+M)}w=j}return F},i=function(y){var f=Array.apply([],y);return f.unshift(0),f},s=function(y,f){var N,_=[],j=y.length;_[0]=1;for(var w=0;w<j;w+=1)N=y[w-f]||0,_[w+1]=y[w]-N+256&255;return _},a=function(y,f,N){var _,j=[],w=y.length;j[0]=2;for(var x=0;x<w;x+=1)_=N&&N[x]||0,j[x+1]=y[x]-_+256&255;return j},o=function(y,f,N){var _,j,w=[],x=y.length;w[0]=3;for(var S=0;S<x;S+=1)_=y[S-f]||0,j=N&&N[S]||0,w[S+1]=y[S]+256-(_+j>>>1)&255;return w},c=function(y,f,N){var _,j,w,x,S=[],F=y.length;S[0]=4;for(var L=0;L<F;L+=1)_=y[L-f]||0,j=N&&N[L]||0,w=N&&N[L-f]||0,x=d(_,j,w),S[L+1]=y[L]-x+256&255;return S},d=function(y,f,N){if(y===f&&f===N)return y;var _=Math.abs(f-N),j=Math.abs(y-N),w=Math.abs(y+f-N-N);return _<=j&&_<=w?y:j<=w?f:N},p=function(){return[i,s,a,o,c]},m=function(y){var f=y.map(function(N){return N.reduce(function(_,j){return _+Math.abs(j)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(y,f,N,_){var j,w,x,S,F,L,M,R,O,Z,re,D,z,B,W,he=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(x=new uS(y)).imgData,w=x.bits,j=x.colorSpace,F=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){O=(R=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,re=new Uint8Array(O*x.colors),Z=new Uint8Array(O);var pe,G=x.pixelBitlength-x.bits;for(B=0,W=0;B<O;B++){for(z=R[B],pe=0;pe<G;)re[W++]=z>>>pe&255,pe+=x.bits;Z[B]=z>>>pe&255}}if(x.bits===16){O=(R=new Uint32Array(x.decodePixels().buffer)).length,re=new Uint8Array(O*(32/x.pixelBitlength)*x.colors),Z=new Uint8Array(O*(32/x.pixelBitlength)),D=x.colors>1,B=0,W=0;for(var ie=0;B<O;)z=R[B++],re[W++]=z>>>0&255,D&&(re[W++]=z>>>16&255,z=R[B++],re[W++]=z>>>0&255),Z[ie++]=z>>>16&255;w=8}_!==t.image_compression.NONE&&e()?(y=r(re,x.width*x.colors,x.colors,_),M=r(Z,x.width,1,_)):(y=re,M=Z,he=void 0)}if(x.colorType===3&&(j=this.color_spaces.INDEXED,L=x.palette,x.transparency.indexed)){var le=x.transparency.indexed,_e=0;for(B=0,O=le.length;B<O;++B)_e+=le[B];if((_e/=255)===O-1&&le.indexOf(0)!==-1)S=[le.indexOf(0)];else if(_e!==O){for(R=x.decodePixels(),Z=new Uint8Array(R.length),B=0,O=R.length;B<O;B++)Z[B]=le[R[B]];M=r(Z,x.width,1)}}var P=function(q){var H;switch(q){case t.image_compression.FAST:H=11;break;case t.image_compression.MEDIUM:H=13;break;case t.image_compression.SLOW:H=14;break;default:H=12}return H}(_);return he===this.decode.FLATE_DECODE&&(ue="/Predictor "+P+" "),ue+="/Colors "+F+" /BitsPerComponent "+w+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(M&&this.__addimage__.isArrayBuffer(M)||this.__addimage__.isArrayBufferView(M))&&(M=this.__addimage__.arrayBufferToBinaryString(M)),{alias:N,data:y,index:f,filter:he,decodeParameters:ue,transparency:S,palette:L,sMask:M,predictor:P,width:x.width,height:x.height,bitsPerComponent:w,colorSpace:j}}}})(He.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new dS(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:a,height:o},p=new sp(100).encode(d,100);return t.processJPEG.call(this,p,r,n,i)},t.processGIF87A=t.processGIF89A}(He.API),Qn.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Qn.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Lt.log("bit decode error:"+r)}},Qn.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Qn.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,c=15&s,d=this.palette[o];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Qn.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Qn.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,d=s>>15?255:0,p=n*this.width*4+4*i;this.data[p]=c,this.data[p+1]=o,this.data[p+2]=a,this.data[p+3]=d}this.pos+=t}},Qn.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&r)/r*255|0,d=(a>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=255}this.pos+=t}},Qn.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Qn.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Qn.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Qn(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},d=new sp(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)}}(He.API),f2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new f2(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},d=new sp(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)}}(He.API),He.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,d=0;d<i;d+=4){var p=n[d],m=n[d+1],y=n[d+2],f=n[d+3];s[o++]=p,s[o++]=m,s[o++]=y,a[c++]=f}var N=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:N,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},He.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},vo=He.API,ad=vo.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=d.fof?d.fof:1,m=e.doKerning!==!1,y=0,f=t.length,N=0,_=o[0]||c,j=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(y=m&&bt(d[n])==="object"&&!isNaN(parseInt(d[n][N],10))?d[n][N]/p:0,j.push((o[n]||_)/c+y)),N=n;return j},c2=vo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return vo.processArabic&&(t=vo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:ad.apply(this,arguments).reduce(function(s,a){return s+a},0)},u2=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},d2=function(t,e,r){r||(r={});var n,i,s,a,o,c,d,p=[],m=[p],y=r.textIndent||0,f=0,N=0,_=t.split(" "),j=ad.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var w=Array(c).join(" "),x=[];_.map(function(F){(F=F.split(/\s*\n/)).length>1?x=x.concat(F.map(function(L,M){return(M&&L.length?`
`:"")+L})):x.push(F[0])}),_=x,c=c2.apply(this,[w,r])}for(s=0,a=_.length;s<a;s++){var S=0;if(n=_[s],c&&n[0]==`
`&&(n=n.substr(1),S=1),y+f+(N=(i=ad.apply(this,[n,r])).reduce(function(F,L){return F+L},0))>e||S){if(N>e){for(o=u2.apply(this,[n,i,e-(y+f),e]),p.push(o.shift()),p=[o.pop()];o.length;)m.push([o.shift()]);N=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(F,L){return F+L},0)}else p=[n];m.push(p),y=N+c,f=j}else p.push(n),y+=f+N,f=j}return d=c?function(F,L){return(L?w:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(d)},vo.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,c,d=[];for(o=0,c=n.length;o<c;o++)d=d.concat(d2.apply(this,[n[o],a,s]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var y,f,N,_,j=["{"];for(var w in m){if(y=m[w],isNaN(parseInt(w,10))?f="'"+w+"'":(w=parseInt(w,10),f=(f=s(w).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof y=="number")y<0?(N=s(y).slice(3),_="-"):(N=s(y).slice(2),_=""),N=_+N.slice(0,-1)+n[N.slice(-1)];else{if(bt(y)!=="object")throw new Error("Don't know what to do with value type "+bt(y)+".");N=a(y)}j.push(f+N)}return j.push("}"),j.join("")},o=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,f,N,_,j={},w=1,x=j,S=[],F="",L="",M=m.length-1,R=1;R<M;R+=1)(_=m[R])=="'"?y?(N=y.join(""),y=void 0):y=[]:y?y.push(_):_=="{"?(S.push([x,N]),x={},N=void 0):_=="}"?((f=S.pop())[0][f[1]]=x,N=void 0,x=f[0]):_=="-"?w=-1:N===void 0?r.hasOwnProperty(_)?(F+=r[_],N=parseInt(F,16)*w,w=1,F=""):F+=_:r.hasOwnProperty(_)?(L+=r[_],x[N]=parseInt(L,16)*w,w=1,N=void 0,L=""):L+=_;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var y=m.font,f=p.Unicode[y.postScriptName];f&&(y.metadata.Unicode={},y.metadata.Unicode.widths=f.widths,y.metadata.Unicode.kerning=f.kerning);var N=d.Unicode[y.postScriptName];N&&(y.metadata.Unicode.encoding=N,y.encoding=N.codePages[0])}])}(He.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(pc(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(He),function(t){function e(){return(Ge.canvg?Promise.resolve(Ge.canvg):$s(()=>import("./index.es-1b6de623.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}He.API.addSvgAsImage=function(r,n,i,s,a,o,c,d){if(isNaN(n)||isNaN(i))throw Lt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Lt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(N){return N.fromString(m,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(N){return N.render(y)}).then(function(){f.addImage(p.toDataURL("image/jpeg",1),n,i,s,a,c,d)})}}(),He.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},He.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],d=0,p=0,m=0;function y(N,_){var j,w=!1;for(j=0;j<N.length;j+=1)N[j]===_&&(w=!0);return w}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(m=0;m<f;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(bt(t)==="object"){for(i in t)if(s=t[i],y(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&y(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(p=0;p<s[d].length;p+=1)typeof s[d][p]!="number"&&(n=!1);n===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var N,_=[];for(N in r)r[N].explicitSet===!0&&(r[N].type==="name"?_.push("/"+N+" /"+r[N].value):_.push("/"+N+" "+r[N].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(He.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],m=0,y=s.length;m<y;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return p.join("");o=o.toString(16),p.push(d[4-o.length],o)}return p.join("")},n=function(s){var a,o,c,d,p,m,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,y=(o=Object.keys(s).sort(function(f,N){return f-N})).length;m<y;m++)a=o[m],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+d+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,d=a.newObject,p=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",N=0;N<y.length;N++)f+=String.fromCharCode(y[N]);var _=d();p({data:f,addLength1:!0,objectId:_}),c("endobj");var j=d();p({data:n(o.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var w=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+bo(o.fontName)),c("/FontFile2 "+_+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var x=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+bo(o.fontName)),c("/FontDescriptor "+w+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+bo(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+x+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,d=a.newObject,p=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,y="",f=0;f<m.length;f++)y+=String.fromCharCode(m[f]);var N=d();p({data:y,addLength1:!0,objectId:N}),c("endobj");var _=d();p({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var j=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+N+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+bo(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var w=0;w<o.metadata.hmtx.widths.length;w++)o.metadata.hmtx.widths[w]=parseInt(o.metadata.hmtx.widths[w]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+bo(o.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,d=s.y,p=s.options||{},m=s.mutex||{},y=m.pdfEscape,f=m.activeFontKey,N=m.fonts,_=f,j="",w=0,x="",S=N[_].encoding;if(N[_].encoding!=="Identity-H")return{text:o,x:c,y:d,options:p,mutex:m};for(x=o,_=f,Array.isArray(o)&&(x=o[0]),w=0;w<x.length;w+=1)N[_].metadata.hasOwnProperty("cmap")&&(a=N[_].metadata.cmap.unicode.codeMap[x[w].charCodeAt(0)]),a||x[w].charCodeAt(0)<256&&N[_].metadata.hasOwnProperty("Unicode")?j+=x[w]:j+="";var F="";return parseInt(_.slice(1))<14||S==="WinAnsiEncoding"?F=y(j,_).split("").map(function(L){return L.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(F=r(j,N[_])),m.isHex=!0,{text:F,x:c,y:d,options:p,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?o.push([i(Object.assign({},c,{text:a[d][0]})).text,a[d][1],a[d][2]]):o.push(i(Object.assign({},c,{text:a[d]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])}(He),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(He.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,c,d,p,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],N={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],w=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,S=0;this.__bidiEngine__={};var F=function(D){var z=D.charCodeAt(),B=z>>8,W=_[B];return W!==void 0?m[256*W+(255&z)]:B===252||B===253?"AL":w.test(B)?"L":B===8?"R":"N"},L=function(D){for(var z,B=0;B<D.length;B++){if((z=F(D.charAt(B)))==="L")return!1;if(z==="R")return!0}return!1},M=function(D,z,B,W){var he,ue,pe,G,ie=z[W];switch(ie){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(ie="AN");break;case"AL":x=!0,ie="R";break;case"WS":ie="N";break;case"CS":W<1||W+1>=z.length||(he=B[W-1])!=="EN"&&he!=="AN"||(ue=z[W+1])!=="EN"&&ue!=="AN"?ie="N":x&&(ue="AN"),ie=ue===he?ue:"N";break;case"ES":ie=(he=W>0?B[W-1]:"B")==="EN"&&W+1<z.length&&z[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&B[W-1]==="EN"){ie="EN";break}if(x){ie="N";break}for(pe=W+1,G=z.length;pe<G&&z[pe]==="ET";)pe++;ie=pe<G&&z[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(G=z.length,pe=W+1;pe<G&&z[pe]==="NSM";)pe++;if(pe<G){var le=D[W],_e=le>=1425&&le<=2303||le===64286;if(he=z[pe],_e&&(he==="R"||he==="AL")){ie="R";break}}}ie=W<1||(he=z[W-1])==="B"?"N":B[W-1];break;case"B":x=!1,i=!0,ie=S;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":ie="N"}return ie},R=function(D,z,B){var W=D.split("");return B&&O(W,B,{hiLevel:S}),W.reverse(),z&&z.reverse(),W.join("")},O=function(D,z,B){var W,he,ue,pe,G,ie=-1,le=D.length,_e=0,P=[],q=S?f:y,H=[];for(x=!1,i=!1,s=!1,he=0;he<le;he++)H[he]=F(D[he]);for(ue=0;ue<le;ue++){if(G=_e,P[ue]=M(D,H,P,ue),W=240&(_e=q[G][N[P[ue]]]),_e&=15,z[ue]=pe=q[_e][5],W>0)if(W===16){for(he=ie;he<ue;he++)z[he]=1;ie=-1}else ie=-1;if(q[_e][6])ie===-1&&(ie=ue);else if(ie>-1){for(he=ie;he<ue;he++)z[he]=pe;ie=-1}H[ue]==="B"&&(z[ue]=0),B.hiLevel|=pe}s&&function(K,ee,ce){for(var de=0;de<ce;de++)if(K[de]==="S"){ee[de]=S;for(var fe=de-1;fe>=0&&K[fe]==="WS";fe--)ee[fe]=S}}(H,z,le)},Z=function(D,z,B,W,he){if(!(he.hiLevel<D)){if(D===1&&S===1&&!i)return z.reverse(),void(B&&B.reverse());for(var ue,pe,G,ie,le=z.length,_e=0;_e<le;){if(W[_e]>=D){for(G=_e+1;G<le&&W[G]>=D;)G++;for(ie=_e,pe=G-1;ie<pe;ie++,pe--)ue=z[ie],z[ie]=z[pe],z[pe]=ue,B&&(ue=B[ie],B[ie]=B[pe],B[pe]=ue);_e=G}_e++}}},re=function(D,z,B){var W=D.split(""),he={hiLevel:S};return B||(B=[]),O(W,B,he),function(ue,pe,G){if(G.hiLevel!==0&&p)for(var ie,le=0;le<ue.length;le++)pe[le]===1&&(ie=j.indexOf(ue[le]))>=0&&(ue[le]=j[ie+1])}(W,B,he),Z(2,W,z,B,he),Z(1,W,z,B,he),W.join("")};return this.__bidiEngine__.doBidiReorder=function(D,z,B){if(function(he,ue){if(ue)for(var pe=0;pe<he.length;pe++)ue[pe]=pe;o===void 0&&(o=L(he)),d===void 0&&(d=L(he))}(D,z),a||!c||d)if(a&&c&&o^d)S=o?1:0,D=R(D,z,B);else if(!a&&c&&d)S=o?1:0,D=re(D,z,B),D=R(D,z);else if(!a||o||c||d){if(a&&!c&&o^d)D=R(D,z),o?(S=0,D=re(D,z,B)):(S=1,D=re(D,z,B),D=R(D,z));else if(a&&o&&!c&&d)S=1,D=re(D,z,B),D=R(D,z);else if(!a&&!c&&o^d){var W=p;o?(S=1,D=re(D,z,B),S=0,p=!1,D=re(D,z,B),p=W):(S=0,D=re(D,z,B),D=R(D,z),S=1,p=!1,D=re(D,z,B),p=W,D=R(D,z))}}else S=0,D=re(D,z,B);else S=o?1:0,D=re(D,z,B);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,c=D.isOutputVisual,o=D.isInputRtl,d=D.isOutputRtl,p=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),a=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(He),He.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Ws(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new kS(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new hS(this.contents),this.head=new pS(this),this.name=new xS(this),this.cmap=new Py(this),this.toUnicode={},this.hhea=new mS(this),this.maxp=new wS(this),this.hmtx=new bS(this),this.post=new vS(this),this.os2=new gS(this),this.loca=new jS(this),this.glyf=new NS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,d;for(d=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var ui,Ws=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),hS=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,c,d,p,m,y,f,N,_;for(_ in f=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(f)/c),a=Math.floor(m/c),p=16*f-m,(i=new Ws).writeInt(this.scalarType),i.writeShort(f),i.writeShort(m),i.writeShort(a),i.writeShort(p),s=16*f,d=i.pos+s,o=null,N=[],r)for(y=r[_],i.writeString(_),i.writeInt(t(y)),i.writeInt(d),i.writeInt(y.length),N=N.concat(y),_==="head"&&(o=d),d+=y.length;d%4;)N.push(0),d++;return i.write(N),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=Ey.call(r);r.length%4;)r.push(0);for(s=new Ws(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),fS={}.hasOwnProperty,Ei=function(t,e){for(var r in e)fS.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};ui=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var pS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Ws).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),p2=function(){function t(e,r){var n,i,s,a,o,c,d,p,m,y,f,N,_,j,w,x,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),y=f/2,e.pos+=6,s=function(){var F,L;for(L=[],c=F=0;0<=y?F<y:F>y;c=0<=y?++F:--F)L.push(e.readUInt16());return L}(),e.pos+=2,_=function(){var F,L;for(L=[],c=F=0;0<=y?F<y:F>y;c=0<=y?++F:--F)L.push(e.readUInt16());return L}(),d=function(){var F,L;for(L=[],c=F=0;0<=y?F<y:F>y;c=0<=y?++F:--F)L.push(e.readUInt16());return L}(),p=function(){var F,L;for(L=[],c=F=0;0<=y?F<y:F>y;c=0<=y?++F:--F)L.push(e.readUInt16());return L}(),i=(this.length-e.pos+this.offset)/2,o=function(){var F,L;for(L=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)L.push(e.readUInt16());return L}(),c=w=0,S=s.length;w<S;c=++w)for(j=s[c],n=x=N=_[c];N<=j?x<=j:x>=j;n=N<=j?++x:--x)p[c]===0?a=n+d[c]:(a=o[p[c]/2+(n-N)-(y-c)]||0)!==0&&(a+=d[c]),this.codeMap[n]=65535&a}e.pos=m}return t.encode=function(e,r){var n,i,s,a,o,c,d,p,m,y,f,N,_,j,w,x,S,F,L,M,R,O,Z,re,D,z,B,W,he,ue,pe,G,ie,le,_e,P,q,H,K,ee,ce,de,fe,Ae,ke,Oe;switch(W=new Ws,a=Object.keys(e).sort(function(Ee,Ve){return Ee-Ve}),r){case"macroman":for(_=0,j=function(){var Ee=[];for(N=0;N<256;++N)Ee.push(0);return Ee}(),x={0:0},s={},he=0,ie=a.length;he<ie;he++)x[fe=e[i=a[he]]]==null&&(x[fe]=++_),s[i]={old:e[i],new:x[e[i]]},j[i]=x[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(j),{charMap:s,subtable:W.data,maxGlyphID:_+1};case"unicode":for(z=[],m=[],S=0,x={},n={},w=d=null,ue=0,le=a.length;ue<le;ue++)x[L=e[i=a[ue]]]==null&&(x[L]=++S),n[i]={old:L,new:x[L]},o=x[L]-i,w!=null&&o===d||(w&&m.push(w),z.push(i),d=o),w=i;for(w&&m.push(w),m.push(65535),z.push(65535),re=2*(Z=z.length),O=2*Math.pow(Math.log(Z)/Math.LN2,2),y=Math.log(O/2)/Math.LN2,R=2*Z-O,c=[],M=[],f=[],N=pe=0,_e=z.length;pe<_e;N=++pe){if(D=z[N],p=m[N],D===65535){c.push(0),M.push(0);break}if(D-(B=n[D].new)>=32768)for(c.push(0),M.push(2*(f.length+Z-N)),i=G=D;D<=p?G<=p:G>=p;i=D<=p?++G:--G)f.push(n[i].new);else c.push(B-D),M.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*Z+2*f.length),W.writeUInt16(0),W.writeUInt16(re),W.writeUInt16(O),W.writeUInt16(y),W.writeUInt16(R),ce=0,P=m.length;ce<P;ce++)i=m[ce],W.writeUInt16(i);for(W.writeUInt16(0),de=0,q=z.length;de<q;de++)i=z[de],W.writeUInt16(i);for(Ae=0,H=c.length;Ae<H;Ae++)o=c[Ae],W.writeUInt16(o);for(ke=0,K=M.length;ke<K;ke++)F=M[ke],W.writeUInt16(F);for(Oe=0,ee=f.length;Oe<ee;Oe++)_=f[Oe],W.writeUInt16(_);return{charMap:n,subtable:W.data,maxGlyphID:S+1}}},t}(),Py=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new p2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=p2.encode(r,n),(s=new Ws).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),mS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),gS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),vS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,c,d;for(d=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)d.push(r.readUInt32());return d}).call(this)}},e}(),yS=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,c,d,p,m,y,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},a=m=0,y=i.length;m<y;a=++m)s=i[a],r.pos=s.offset,p=r.readString(s.length),o=new yS(p,s),d[f=s.nameID]==null&&(d[f]=[]),d[s.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),wS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),bS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,m;for(m=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)m.push(r.readInt16());return m}(),this.widths=(function(){var p,m,y,f;for(f=[],p=0,m=(y=this.metrics).length;p<m;p++)a=y[p],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],d=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),Ey=[].slice,NS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,c,d,p,m,y;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(c=new Ws(n.read(s))).readShort(),p=c.readShort(),y=c.readShort(),d=c.readShort(),m=c.readShort(),this.cache[r]=o===-1?new SS(c,p,y,d,m):new _S(c,o,p,y,d,m),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,c,d;for(o=[],a=[],c=0,d=n.length;c<d;c++)s=r[n[c]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),_S=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),SS=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Ws(Ey.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),jS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ei(e,ui),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(s+=d)}for(var p=new Array(4*i.length),m=0;m<i.length;++m)p[4*m+3]=255&i[m],p[4*m+2]=(65280&i[m])>>8,p[4*m+1]=(16711680&i[m])>>16,p[4*m]=(4278190080&i[m])>>24;return p},e}(),kS=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,c,d,p,m,y,f,N,_,j,w;for(i in n=Py.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},w=n.charMap)f[(c=w[i]).old]=c.new;for(N in y=n.maxGlyphID,a)N in f||(f[N]=y++);return p=function(x){var S,F;for(S in F={},x)F[x[S]]=S;return F}(f),m=Object.keys(p).sort(function(x,S){return x-S}),_=function(){var x,S,F;for(F=[],x=0,S=m.length;x<S;x++)o=m[x],F.push(p[o]);return F}(),s=this.font.glyf.encode(a,_,f),d=this.font.loca.encode(s.offsets,_),j={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();He.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,c,d;for(d=[],o=0,c=r.length;o<c;o++)n=r[o],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();const AS=({order:t,isOpen:e,onClose:r})=>{const{Sources:n,designers:i,pickups:s}=_r(),[a,o]=oe.useState([]),[c,d]=oe.useState(""),[p,m]=oe.useState(!1),y=t?sources.find(L=>L.id===t.SourceId):null,f=t?i.find(L=>L.id===t.designerId):null,N=t!=null&&t.pickupId?s.find(L=>L.id===t.pickupId):null;oe.useEffect(()=>{if(t){const L=localStorage.getItem(`order-notes-${t.id}`);o(L?JSON.parse(L).map(M=>({...M,timestamp:new Date(M.timestamp)})):[])}},[t]);const _=L=>{t&&localStorage.setItem(`order-notes-${t.id}`,JSON.stringify(L))},j=()=>{if(c.trim()&&t){const M=[{id:Date.now().toString(),text:c.trim(),timestamp:new Date,author:"User"},...a];o(M),_(M),d(""),m(!1)}},w=L=>{if(confirm("Are you sure you want to delete this note?")){const M=a.filter(R=>R.id!==L);o(M),_(M)}},x=L=>{switch(L){case Kt.PENDING:return"bg-gray-100 text-gray-800";case Kt.IN_PROGRESS:return"bg-blue-100 text-blue-800";case Kt.READY_FOR_PICKUP:return"bg-yellow-100 text-yellow-800";case Kt.PICKED_UP:return"bg-orange-100 text-orange-800";case Kt.IN_TRANSIT:return"bg-purple-100 text-purple-800";case Kt.DELIVERED:return"bg-green-100 text-green-800";case Kt.CANCELLED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=L=>{switch(L){case Vr.LOW:return"bg-gray-100 text-gray-800";case Vr.STANDARD:return"bg-blue-100 text-blue-800";case Vr.HIGH:return"bg-orange-100 text-orange-800";case Vr.URGENT:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=()=>{if(!t)return;const L=new He,M=L.internal.pageSize.getWidth(),R=L.internal.pageSize.getHeight();let O=20;L.setFontSize(20),L.setFont("helvetica","bold"),L.text("ORDER DETAILS",M/2,O,{align:"center"}),O+=15,L.setFontSize(14),L.setFont("helvetica","bold"),L.text("Order Information",20,O),O+=10,L.setFontSize(10),L.setFont("helvetica","normal"),L.text(`Job Name: ${t.jobName}`,20,O),O+=7,L.text(`Job Number: ${t.jobNumber}`,20,O),O+=7,L.text(`Order Number: ${t.orderNumber}`,20,O),O+=7,L.text(`Purchase Order: ${t.purchaseOrder}`,20,O),O+=7,L.text(`Cost: $${t.cost.toLocaleString()}`,20,O),O+=7,L.text(`Status: ${t.status.replace("_"," ").replace(/\b\w/g,Z=>Z.toUpperCase())}`,20,O),O+=7,L.text(`Priority: ${t.priority.charAt(0).toUpperCase()+t.priority.slice(1)}`,20,O),O+=15,O>R-60&&(L.addPage(),O=20),L.setFontSize(14),L.setFont("helvetica","bold"),L.text("Related Entities",20,O),O+=10,L.setFontSize(10),L.setFont("helvetica","normal"),f&&(L.text(`Designer: ${f.name}`,20,O),O+=7,f.email&&(L.text(`Email: ${f.email}`,20,O),O+=7),f.phone&&(L.text(`Phone: ${f.phone}`,20,O),O+=7),O+=5),y&&(O>R-60&&(L.addPage(),O=20),L.text(`Source: ${source.name}`,20,O),O+=7,source.address&&(L.text(`Address: ${source.address}`,20,O),O+=7),source.phoneNumber&&(L.text(`Phone: ${source.phoneNumber}`,20,O),O+=7),O+=5),O>R-60&&(L.addPage(),O=20),L.text(`Destination: ${t.destinationName}`,20,O),O+=7,N&&(O>R-60&&(L.addPage(),O=20),L.text(`Pickup: ${N.name}`,20,O),O+=7,L.text(`Scheduled Date: ${new Date(N.scheduledDate).toLocaleDateString()}`,20,O),O+=15),O>R-80&&(L.addPage(),O=20),L.setFontSize(14),L.setFont("helvetica","bold"),L.text("Notes",20,O),O+=10,a.length===0?(L.setFontSize(10),L.setFont("helvetica","normal"),L.text("No notes available.",20,O)):(L.setFontSize(10),L.setFont("helvetica","normal"),a.forEach((Z,re)=>{O>R-40&&(L.addPage(),O=20),L.text(`Note ${re+1}:`,20,O),O+=7,L.text(`Date: ${Z.timestamp.toLocaleString()}`,20,O),O+=7,L.text(`Author: ${Z.author}`,20,O),O+=7,L.text(`Content: ${Z.text}`,20,O),O+=10})),L.setFontSize(8),L.setFont("helvetica","normal"),L.text(`Generated on: ${new Date().toLocaleString()}`,20,R-10),L.text(`Page ${L.getCurrentPageInfo().pageNumber}`,M-20,R-10,{align:"right"}),L.save(`order-${t.orderNumber}-${new Date().toISOString().split("T")[0]}.pdf`)};return!e||!t?null:u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full mx-4 max-h-[85vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(L1,{className:"h-5 w-5 text-primary-600"}),u.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Order Details - ",t.orderNumber]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("button",{onClick:F,className:"flex items-center px-3 py-1.5 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[u.jsx(Sm,{className:"h-4 w-4 mr-1.5"}),"Download PDF"]}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(li,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"p-4 overflow-y-auto max-h-[calc(85vh-80px)]",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3 flex items-center",children:[u.jsx(L1,{className:"h-4 w-4 mr-2"}),"Order Information"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Job Name:"}),u.jsx("span",{className:"font-medium text-sm",children:t.jobName})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Job Number:"}),u.jsx("span",{className:"font-medium text-sm",children:t.jobNumber})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Order Number:"}),u.jsx("span",{className:"font-medium text-sm",children:t.orderNumber})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Purchase Order:"}),u.jsx("span",{className:"font-medium text-sm",children:t.purchaseOrder})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Cost:"}),u.jsxs("span",{className:"font-medium text-sm text-green-600",children:["$",t.cost.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Status & Priority"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Status:"}),u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${x(t.status)}`,children:t.status.replace("_"," ").replace(/\b\w/g,L=>L.toUpperCase())})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Priority:"}),u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(t.priority)}`,children:t.priority.charAt(0).toUpperCase()+t.priority.slice(1)})]})]})]})]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Related Entities"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[u.jsx(km,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Designer"})]}),u.jsxs("div",{className:"ml-6",children:[u.jsx("p",{className:"font-medium text-sm",children:(f==null?void 0:f.name)||"Unknown"}),u.jsx("p",{className:"text-xs text-gray-500",children:(f==null?void 0:f.email)||"No email"}),u.jsx("p",{className:"text-xs text-gray-500",children:(f==null?void 0:f.phone)||"No phone"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[u.jsx(Yd,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Source"})]}),u.jsxs("div",{className:"ml-6",children:[u.jsx("p",{className:"font-medium text-sm",children:(y==null?void 0:y.name)||"Unknown"}),u.jsx("p",{className:"text-xs text-gray-500",children:(y==null?void 0:y.address)||"No address"}),u.jsx("p",{className:"text-xs text-gray-500",children:(y==null?void 0:y.phoneNumber)||"No phone"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[u.jsx(r3,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Destination"})]}),u.jsx("div",{className:"ml-6",children:u.jsx("p",{className:"font-medium text-sm",children:t.destinationName})})]}),N&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[u.jsx(Dc,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Pickup"})]}),u.jsxs("div",{className:"ml-6",children:[u.jsx("p",{className:"font-medium text-sm",children:N.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Scheduled: ",new Date(N.scheduledDate).toLocaleDateString()]})]})]})]})]})})]}),u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notes"}),u.jsxs("button",{onClick:()=>m(!p),className:"flex items-center px-3 py-1.5 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[u.jsx(cc,{className:"h-4 w-4 mr-1.5"}),"Add Note"]})]}),p&&u.jsxs("div",{className:"mb-4 p-3 bg-white rounded border",children:[u.jsx("textarea",{value:c,onChange:L=>d(L.target.value),placeholder:"Enter your note here...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3}),u.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[u.jsx("button",{onClick:()=>{m(!1),d("")},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:j,disabled:!c.trim(),className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Note"})]})]}),u.jsx("div",{className:"space-y-3",children:a.length===0?u.jsx("div",{className:"text-center py-6",children:u.jsx("p",{className:"text-gray-500 text-base",children:"No notes yet. Add your first note above."})}):u.jsx("div",{className:"space-y-3",children:a.map(L=>u.jsxs("div",{className:"bg-white p-3 rounded border w-full",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(X4,{className:"h-3 w-3 mr-1.5"}),L.timestamp.toLocaleString()]}),u.jsx("button",{onClick:()=>w(L.id),className:"text-red-500 hover:text-red-700 text-sm hover:bg-red-50 p-1 rounded",children:""})]}),u.jsx("p",{className:"text-gray-900 mb-1 text-sm",children:L.text}),u.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",L.author]})]},L.id))})})]})})]})]})})},m2=({type:t,value:e,size:r="md"})=>{const n=c=>{switch(c){case Kt.PENDING:case Zt.SCHEDULED:return"bg-gray-100 text-gray-800";case Kt.IN_PROGRESS:case Zt.IN_PROGRESS:return"bg-blue-100 text-blue-800";case Kt.READY_FOR_PICKUP:return"bg-yellow-100 text-yellow-800";case Kt.PICKED_UP:return"bg-orange-100 text-orange-800";case Kt.IN_TRANSIT:return"bg-purple-100 text-purple-800";case Kt.DELIVERED:case Zt.COMPLETED:return"bg-green-100 text-green-800";case Kt.CANCELLED:case Zt.CANCELLED:return"bg-red-100 text-red-800";case Zt.ARCHIVED:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=c=>{switch(c){case Vr.LOW:case pr.LOW:return"bg-gray-100 text-gray-800";case Vr.STANDARD:case pr.STANDARD:return"bg-blue-100 text-blue-800";case Vr.HIGH:case pr.HIGH:return"bg-orange-100 text-orange-800";case Vr.URGENT:case pr.URGENT:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},s=()=>{switch(r){case"sm":return"px-2 py-1 text-xs";case"lg":return"px-3 py-1.5 text-sm";default:return"px-2.5 py-1 text-xs"}},a=c=>c.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()),o=t==="status"?n(e):i(e);return u.jsx("span",{className:`inline-flex items-center rounded-full font-medium ${o} ${s()}`,children:a(e)})},LS=({orders:t,searchTerm:e,setSearchTerm:r,statusFilter:n,setStatusFilter:i,pickupFilter:s,setPickupFilter:a})=>{const{deleteOrder:o,Sources:c,designers:d,pickups:p}=_r(),[m,y]=oe.useState("createdAt"),[f,N]=oe.useState("desc"),[_,j]=oe.useState(null),[w,x]=oe.useState(!1),[S,F]=oe.useState("edit"),[L,M]=oe.useState(null),R=B=>{m===B?N(f==="asc"?"desc":"asc"):(y(B),N("asc"))},O=[...t].sort((B,W)=>{const he=B[m],ue=W[m];return he===void 0&&ue===void 0?0:he===void 0?f==="asc"?-1:1:ue===void 0?f==="asc"?1:-1:he<ue?f==="asc"?-1:1:he>ue?f==="asc"?1:-1:0}),Z=async B=>{if(confirm("Are you sure you want to delete this order?"))try{await o(B)}catch(W){console.error("Error deleting order:",W),alert("Failed to delete order. Please try again.")}},re=(B,W)=>{var he,ue;switch(W){case"Source":return((he=sources.find(pe=>pe.id===B))==null?void 0:he.name)||"Unknown";case"designer":return((ue=d.find(pe=>pe.id===B))==null?void 0:ue.name)||"Unknown";default:return"Unknown"}},D=B=>{if(!B)return"Unassigned";const W=p.find(he=>he.id===B);return W?W.name:"Unknown"},z=[{key:"jobName",label:"Job Name",sortable:!0},{key:"jobNumber",label:"Job Number",sortable:!0},{key:"orderNumber",label:"Order Number",sortable:!0},{key:"purchaseOrder",label:"Purchase Order",sortable:!0},{key:"priority",label:"Priority",sortable:!0},{key:"SourceId",label:"Source",sortable:!1},{key:"status",label:"Status",sortable:!0},{key:"pickupId",label:"Pickup",sortable:!1},{key:"actions",label:"Actions",sortable:!1}];return t.length===0?u.jsx("div",{className:"p-8 text-center text-gray-500",children:u.jsx("p",{children:"No orders found. Create your first order to get started."})}):u.jsxs("div",{children:[u.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 mb-4",children:[u.jsx("h3",{className:"text-base font-medium text-gray-900 mb-3",children:"Filter Orders"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),u.jsxs("div",{className:"relative",children:[u.jsx(s3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search orders...",value:e,onChange:B=>r(B.target.value),className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:n,onChange:B=>i(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"all",children:"All Statuses"}),Object.values(Kt).map(B=>u.jsx("option",{value:B,children:B.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase())},B))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup"}),u.jsxs("select",{value:s,onChange:B=>a(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"all",children:"All Pickups"}),u.jsx("option",{value:"unassigned",children:"Unassigned"}),p.map(B=>u.jsx("option",{value:B.id,children:B.name},B.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Results"}),u.jsxs("div",{className:"px-3 py-2 text-sm text-gray-600 bg-gray-50 rounded-md",children:[t.length," order",t.length!==1?"s":""]})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsx("tr",{children:z.map(B=>u.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${B.sortable?"cursor-pointer hover:bg-gray-100":""}`,onClick:()=>B.sortable&&R(B.key),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{children:B.label}),B.sortable&&u.jsx("span",{className:"text-gray-400",children:m===B.key?f==="asc"?u.jsx(A1,{className:"h-3 w-3"}):u.jsx(n0,{className:"h-3 w-3"}):u.jsx(A1,{className:"h-3 w-3 opacity-0"})})]})},B.key))})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:O.map(B=>u.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>M(B),children:[u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:B.jobName}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:B.jobNumber}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:B.orderNumber}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:B.purchaseOrder}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u.jsx(m2,{type:"priority",value:B.priority,size:"sm"})}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:re(B.SourceId,"Source")}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u.jsx(m2,{type:"status",value:B.status,size:"sm"})}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:D(B.pickupId)}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:W=>{W.stopPropagation(),j(B),F("edit"),x(!0)},className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Edit order",children:u.jsx(lc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:W=>{W.stopPropagation(),Z(B.id)},className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Delete order",children:u.jsx(Us,{className:"h-4 w-4"})})]})})]},B.id))})]})}),w&&_&&u.jsx(P_,{order:_,isOpen:w,onClose:()=>{x(!1),j(null)},mode:S}),L&&u.jsx(AS,{order:L,isOpen:!!L,onClose:()=>M(null)})]})},PS=({isOpen:t,onClose:e})=>{console.log("CreateOrderModal: Rendering with isOpen:",t);const{addOrder:r,Sources:n,designers:i}=_r(),{user:s}=un();console.log("CreateOrderModal: Data from useOrder:",{sources:(n==null?void 0:n.length)||0,designers:(i==null?void 0:i.length)||0});const[a,o]=oe.useState({jobName:"",jobNumber:"",orderNumber:"",purchaseOrder:"",designerId:"",cost:"",sourceId:"",destinationName:"",status:Kt.PENDING,priority:Vr.STANDARD}),[c,d]=oe.useState(!1),p=async y=>{y.preventDefault(),console.log("CreateOrderModal: Starting order creation..."),d(!0);try{const f={...a,cost:parseFloat(a.cost)};console.log("CreateOrderModal: Order data to submit:",f);const N=await r({...f,organizationId:(s==null?void 0:s.organizationId)||""});console.log("CreateOrderModal: Order creation result:",N),N&&(e(),o({jobName:"",jobNumber:"",orderNumber:"",purchaseOrder:"",designerId:"",cost:"",sourceId:"",destinationName:"",status:Kt.PENDING,priority:Vr.STANDARD}))}catch(f){console.error("CreateOrderModal: Error creating order:",f)}finally{d(!1)}},m=y=>{const{name:f,value:N}=y.target;o(_=>({..._,[f]:N}))};return t?(console.log("CreateOrderModal: About to render modal content"),u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[85vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create New Order"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-5 w-5"})})]}),u.jsxs("form",{onSubmit:p,className:"p-4 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Name *"}),u.jsx("input",{type:"text",name:"jobName",value:a.jobName,onChange:m,required:!0,className:"input",placeholder:"Enter job name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Number *"}),u.jsx("input",{type:"text",name:"jobNumber",value:a.jobNumber,onChange:m,required:!0,className:"input",placeholder:"Enter job number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number *"}),u.jsx("input",{type:"text",name:"orderNumber",value:a.orderNumber,onChange:m,required:!0,className:"input",placeholder:"Enter order number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Order *"}),u.jsx("input",{type:"text",name:"purchaseOrder",value:a.purchaseOrder,onChange:m,required:!0,className:"input",placeholder:"Enter purchase order"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designer *"}),u.jsxs("select",{name:"designerId",value:a.designerId,onChange:m,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select a designer"}),i&&i.length>0?i.map(y=>u.jsx("option",{value:y.id,children:y.name},y.id)):u.jsx("option",{value:"",disabled:!0,children:"No designers available"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost *"}),u.jsx("input",{type:"number",name:"cost",value:a.cost,onChange:m,required:!0,step:"0.01",min:"0",className:"input",placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source *"}),u.jsxs("select",{name:"SourceId",value:a.SourceId,onChange:m,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select a Source"}),n&&sources.length>0?sources.map(y=>u.jsx("option",{value:source.id,children:source.name},source.id)):u.jsx("option",{value:"",disabled:!0,children:"No Sources available"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),u.jsx("input",{type:"text",name:"destinationName",value:a.destinationName,onChange:m,required:!0,className:"input",placeholder:"Enter destination"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsx("select",{name:"status",value:a.status,onChange:m,className:"input",children:Object.values(Kt).map(y=>u.jsx("option",{value:y,children:y.replace("_"," ").replace(/\b\w/g,f=>f.toUpperCase())},y))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),u.jsx("select",{name:"priority",value:a.priority,onChange:m,className:"input",children:Object.values(Vr).map(y=>u.jsx("option",{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-3",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:c?"Creating...":"Create Order"})]})]})]})})):(console.log("CreateOrderModal: Not open, returning null"),null)},ES=({isOpen:t,onClose:e})=>{const{addPickup:r,updateOrder:n,orders:i,drivers:s}=_r(),{user:a}=un(),[o,c]=oe.useState({name:"",driverId:"",scheduledDate:"",status:Zt.SCHEDULED,priority:pr.STANDARD}),[d,p]=oe.useState([]),[m,y]=oe.useState(!1),f=i.filter(x=>!x.pickupId),N=async x=>{if(x.preventDefault(),d.length===0){alert("Please select at least one order for this pickup.");return}y(!0);try{const S={...o,orders:d,scheduledDate:new Date(o.scheduledDate)},F=await r({...S,organizationId:(a==null?void 0:a.organizationId)||""});if(F){for(const L of d)i.find(R=>R.id===L)&&await n(L,{pickupId:F.id});e(),c({name:"",driverId:"",scheduledDate:"",status:Zt.SCHEDULED,priority:pr.STANDARD}),p([])}}catch(S){console.error("Error creating pickup:",S),alert("Failed to create pickup. Please try again.")}finally{y(!1)}},_=x=>{const{name:S,value:F}=x.target;c(L=>({...L,[S]:F}))},j=x=>{p(S=>S.includes(x)?S.filter(F=>F!==x):[...S,x])},w=x=>{p(S=>S.filter(F=>F!==x))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Pickup"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Name *"}),u.jsx("input",{type:"text",name:"name",value:o.name,onChange:_,required:!0,className:"input",placeholder:"Enter pickup name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver *"}),u.jsxs("select",{name:"driverId",value:o.driverId,onChange:_,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select a driver"}),s.map(x=>u.jsx("option",{value:x.id,children:x.name},x.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Date *"}),u.jsx("input",{type:"datetime-local",name:"scheduledDate",value:o.scheduledDate,onChange:_,required:!0,className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsx("select",{name:"status",value:o.status,onChange:_,className:"input",children:Object.values(Zt).map(x=>u.jsx("option",{value:x,children:x.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())},x))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),u.jsx("select",{name:"priority",value:o.priority,onChange:_,required:!0,className:"input",children:Object.values(pr).map(x=>u.jsx("option",{value:x,children:x.charAt(0).toUpperCase()+x.slice(1)},x))})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Orders for Pickup"}),f.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4",children:"No unassigned orders available. All orders are already assigned to pickups."}):u.jsxs("div",{className:"space-y-4",children:[d.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected Orders (",d.length,")"]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:d.map(x=>{const S=i.find(F=>F.id===x);return S?u.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[u.jsxs("span",{className:"text-sm",children:[u.jsx("strong",{children:S.jobName})," - ",S.jobNumber," (",S.destinationName,")"]}),u.jsx("button",{type:"button",onClick:()=>w(x),className:"text-red-600 hover:text-red-800",children:u.jsx(Us,{className:"h-4 w-4"})})]},x):null})})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Available Orders (",f.length,")"]}),u.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:f.map(x=>u.jsx("div",{className:`p-3 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${d.includes(x.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>j(x.id),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:x.jobName}),u.jsxs("div",{className:"text-sm text-gray-600",children:[x.jobNumber,"  ",x.orderNumber,"  ",x.destinationName]})]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["$",x.cost.toLocaleString()]})]})},x.id))})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:d.length===0||m,children:m?"Creating...":"Create Pickup"})]})]})]})}):null};class Cy{static async exportPickupPDF(e,r,n,i,s){const a=new He("landscape"),o=this.getOrganizationalSettings();this.addSimpleHeader(a,o),this.addPickupInfo(a,e,s),this.addOrdersTable(a,r,n,i),this.addSimpleFooter(a,o),a.save(`pickup-${e.name}-${e.scheduledDate.toLocaleDateString()}.pdf`)}static async exportAllPickupsPDF(e,r,n,i,s){const a=new He("landscape"),o=this.getOrganizationalSettings();this.addSimpleHeader(a,o),a.setFontSize(16),a.text("Pickup Schedule",20,60),a.setFontSize(12),a.text(`Generated on ${new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,20,68);let c=80;e.forEach((d,p)=>{c>220&&(a.addPage(),c=20,this.addSimpleHeader(a,o)),this.addPickupSummary(a,d,r,n,i,s,c),c+=35}),this.addSimpleFooter(a,o),a.save(`pickup-schedule-${new Date().toLocaleDateString()}.pdf`)}static getOrganizationalSettings(){try{const e=localStorage.getItem("organizationalSettings");if(e)return JSON.parse(e)}catch(e){console.error("Error loading organizational settings:",e)}return{companyName:"Company Name",companyAddress:"Company Address",companyPhone:"Company Phone",logoUrl:void 0}}static addSimpleHeader(e,r){const n=e.internal.pageSize.width;e.setFontSize(16),e.text(r.companyName||"Company Name",20,12),e.setFontSize(10),e.text(r.companyAddress||"Company Address",20,18),e.setFontSize(14),e.text("SHIPPING TICKET",n-20,18,{align:"right"}),e.setFontSize(10),e.text(`Date: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`,n-20,24,{align:"right"}),e.text(`Time: ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}`,n-20,30,{align:"right"}),e.line(20,35,n-20,35)}static addPickupInfo(e,r,n){e.setFontSize(14),e.text("PICKUP INFORMATION",20,45),e.setFontSize(10),e.text(`Pickup Name: ${r.name}`,20,53),e.text(`Scheduled Date: ${r.scheduledDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,20,59),e.text(`Priority: ${r.priority.charAt(0).toUpperCase()+r.priority.slice(1)}`,20,65),e.text(`Status: ${r.status.charAt(0).toUpperCase()+r.status.slice(1)}`,20,71),n&&(e.text(`Driver: ${n.name}`,120,53),e.text(`Phone: ${n.phone}`,120,59),e.text(`Vehicle: ${n.vehicle}`,120,65))}static addOrdersTable(e,r,n,i){e.setFontSize(14),e.text("ORDERS TO PICKUP",20,85);const s=["Job Name","Job Number","Order Number","Purchase Order","Manufacturer","Destination"],a=[60,35,35,40,45,50],o=20,c=93;let d=o;s.forEach((m,y)=>{e.setFontSize(9),e.text(m,d+3,c),d+=a[y]});let p=c+4;r.forEach((m,y)=>{p>200&&(e.addPage(),p=20,this.addSimpleHeader(e,{companyName:"Company Name"}));const f=n.find(_=>_.id===m.manufacturerId);d=o,e.setFontSize(8);const N=m.jobName.length>25?m.jobName.substring(0,25)+"...":m.jobName;e.text(N,d+3,p),d+=a[0],e.text(m.jobNumber||"N/A",d+3,p),d+=a[1],e.text(m.orderNumber||"N/A",d+3,p),d+=a[2],e.text(m.purchaseOrder||"N/A",d+3,p),d+=a[3],e.text((f==null?void 0:f.name)||"N/A",d+3,p),d+=a[4],e.text(m.destinationName||"N/A",d+3,p),p+=4})}static addPickupSummary(e,r,n,i,s,a,o){e.setFontSize(12),e.text(r.name,20,o),e.setFontSize(9),e.text(`Date: ${r.scheduledDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,20,o+5),e.text(`Priority: ${r.priority.charAt(0).toUpperCase()+r.priority.slice(1)}`,20,o+10);const c=a.find(m=>m.id===r.driverId);c&&(e.text(`Driver: ${c.name}`,120,o+5),e.text(`Vehicle: ${c.vehicle}`,120,o+10));const d=n.filter(m=>m.pickupId===r.id);e.text(`Orders: ${d.length}`,120,o);const p=d.reduce((m,y)=>m+((y==null?void 0:y.cost)||0),0);e.text(`Total: $${p.toFixed(2)}`,120,o+15)}static addSimpleFooter(e,r){const n=e.internal.pageSize.width,i=e.internal.pageSize.height;e.line(20,i-20,n-20,i-20),e.setFontSize(8),e.text(`Generated by ${r.companyName||"Company Name"}`,20,i-15),e.text("This document serves as an official pickup authorization",n-20,i-15,{align:"right"}),e.text(`Page ${e.getCurrentPageInfo().pageNumber}`,n/2,i-3,{align:"center"})}}const CS=({pickup:t,isOpen:e,onClose:r})=>{const{updatePickup:n,updateOrder:i,orders:s,drivers:a}=_r(),[o,c]=oe.useState({name:"",driverId:"",scheduledDate:"",status:Zt.SCHEDULED,priority:pr.STANDARD}),[d,p]=oe.useState([]),m=s.filter(j=>!j.pickupId||j.pickupId===t.id);oe.useEffect(()=>{t&&(c({name:t.name,driverId:t.driverId,scheduledDate:t.scheduledDate.toISOString().slice(0,16),status:t.status,priority:t.priority}),p([...t.orders]))},[t]);const y=async j=>{if(j.preventDefault(),d.length===0){alert("Please select at least one order for this pickup.");return}try{const w={...t,...o,orders:d,scheduledDate:new Date(o.scheduledDate),updatedAt:new Date};if(!await n(t.id,{name:o.name,driverId:o.driverId,scheduledDate:new Date(o.scheduledDate),status:o.status,priority:o.priority,orders:d})){alert("Failed to update pickup. Please try again.");return}for(const S of t.orders)d.includes(S)||s.find(L=>L.id===S)&&await i(S,{pickupId:void 0});for(const S of d)t.orders.includes(S)||s.find(L=>L.id===S)&&await i(S,{pickupId:t.id});r()}catch(w){console.error("Error updating pickup:",w),alert("Failed to update pickup. Please try again.")}},f=j=>{const{name:w,value:x}=j.target;c(S=>({...S,[w]:x}))},N=j=>{p(w=>w.includes(j)?w.filter(x=>x!==j):[...w,j])},_=j=>{p(w=>w.filter(x=>x!==j))};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Pickup"}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Name *"}),u.jsx("input",{type:"text",name:"name",value:o.name,onChange:f,required:!0,className:"input",placeholder:"Enter pickup name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver *"}),u.jsxs("select",{name:"driverId",value:o.driverId,onChange:f,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select a driver"}),a.map(j=>u.jsx("option",{value:j.id,children:j.name},j.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Date *"}),u.jsx("input",{type:"datetime-local",name:"scheduledDate",value:o.scheduledDate,onChange:f,required:!0,className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsx("select",{name:"status",value:o.status,onChange:f,className:"input",children:Object.values(Zt).map(j=>u.jsx("option",{value:j,children:j.replace("_"," ").replace(/\b\w/g,w=>w.toUpperCase())},j))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),u.jsx("select",{name:"priority",value:o.priority,onChange:f,required:!0,className:"input",children:Object.values(pr).map(j=>u.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1)},j))})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Manage Orders for Pickup"}),m.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4",children:"No orders available to assign to this pickup."}):u.jsxs("div",{className:"space-y-4",children:[d.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected Orders (",d.length,")"]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:d.map(j=>{const w=s.find(x=>x.id===j);return w?u.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[u.jsxs("span",{className:"text-sm",children:[u.jsx("strong",{children:w.jobName})," - ",w.jobNumber," (",w.destinationName,")"]}),u.jsx("button",{type:"button",onClick:()=>_(j),className:"text-red-600 hover:text-red-800",children:u.jsx(Us,{className:"h-4 w-4"})})]},j):null})})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Available Orders (",m.length,")"]}),u.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:m.map(j=>u.jsx("div",{className:`p-3 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${d.includes(j.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>N(j.id),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:j.jobName}),u.jsxs("div",{className:"text-sm text-gray-600",children:[j.jobNumber,"  ",j.orderNumber,"  ",j.destinationName]})]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["$",j.cost.toLocaleString()]})]})},j.id))})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:d.length===0,children:"Update Pickup"})]})]})]})}):null},IS=()=>{const{pickups:t,drivers:e,orders:r,Sources:n,designers:i,updatePickup:s}=_r(),[a,o]=oe.useState(null);oe.useState(!1),oe.useState("edit");const[c,d]=oe.useState({}),p=x=>{switch(x){case Zt.SCHEDULED:return"bg-blue-100 text-blue-800";case Zt.IN_PROGRESS:return"bg-yellow-100 text-yellow-800";case Zt.COMPLETED:return"bg-green-100 text-green-800";case Zt.CANCELLED:return"bg-red-100 text-red-800";case Zt.ARCHIVED:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=x=>{switch(x){case pr.LOW:return"bg-gray-100 text-gray-800";case pr.STANDARD:return"bg-blue-100 text-blue-800";case pr.HIGH:return"bg-orange-100 text-orange-800";case pr.URGENT:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=x=>{const S=e.find(F=>F.id===x);return S?S.name:"Unknown Driver"},f=x=>{const S=r.find(F=>F.id===x);return S?{jobName:S.jobName,jobNumber:S.jobNumber,destination:S.destinationName,cost:S.cost}:null},N=oe.useMemo(()=>t.filter(x=>!(!c.showArchived&&x.status===Zt.ARCHIVED||c.status&&x.status!==c.status||c.driverId&&x.driverId!==c.driverId||c.priority&&x.priority!==c.priority)),[t,c]),_=async x=>{const S=e.find(L=>L.id===x.driverId),F=r.filter(L=>x.orders.includes(L.id));S&&await Cy.exportPickupPDF(x,F,n,i,S)},j=async x=>{if(confirm("Are you sure you want to archive this pickup?"))try{await s(x,{status:Zt.ARCHIVED})}catch(S){console.error("Error archiving pickup:",S),alert("Failed to archive pickup. Please try again.")}},w=()=>{d({})};return t.length===0?u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(Dc,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),u.jsx("p",{children:"No pickups created yet. Create your first pickup to get started."})]}):u.jsxs("div",{className:"p-3",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3",children:u.jsx("div",{className:"flex items-center gap-2",children:Object.keys(c).length>0&&u.jsx("button",{onClick:w,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Clear filters"})})}),u.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 mb-4",children:[u.jsx("h3",{className:"text-base font-medium text-gray-900 mb-3",children:"Filter Pickups"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:c.status||"",onChange:x=>d(S=>({...S,status:x.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"",children:"All Statuses"}),Object.values(Zt).map(x=>u.jsx("option",{value:x,children:x.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())},x))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver"}),u.jsxs("select",{value:c.driverId||"",onChange:x=>d(S=>({...S,driverId:x.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"",children:"All Drivers"}),e.map(x=>u.jsx("option",{value:x.id,children:x.name},x.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),u.jsxs("select",{value:c.priority||"",onChange:x=>d(S=>({...S,priority:x.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"",children:"All Priorities"}),Object.values(pr).map(x=>u.jsx("option",{value:x,children:x.charAt(0).toUpperCase()+x.slice(1)},x))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Show Archived"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"showArchived",checked:c.showArchived||!1,onChange:x=>d(S=>({...S,showArchived:x.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"showArchived",className:"ml-2 text-sm text-gray-700",children:"Include archived pickups"})]})]})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",N.length," of ",t.length," pickups"]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:N.map(x=>u.jsxs("div",{className:"card p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:x.name}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(x.status)}`,children:x.status.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())}),u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(x.priority)}`,children:x.priority.charAt(0).toUpperCase()+x.priority.slice(1)})]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>_(x),className:"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50",title:"Export PDF",children:u.jsx(Sm,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>o(x),className:"text-primary-600 hover:text-primary-800 p-1 rounded hover:bg-primary-50",title:"Edit pickup",children:u.jsx(lc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>j(x.id),className:"text-gray-600 hover:text-gray-800 p-1 rounded hover:bg-gray-50",title:"Archive pickup",children:u.jsx(K4,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(km,{className:"h-4 w-4 mr-2"}),u.jsx("span",{children:y(x.driverId)})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(Y4,{className:"h-4 w-4 mr-2"}),u.jsx("span",{children:new Date(x.scheduledDate).toLocaleDateString()})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(jm,{className:"h-4 w-4 mr-2"}),u.jsxs("span",{children:[x.orders.length," order",x.orders.length!==1?"s":""]})]})]}),u.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Orders:"}),u.jsx("div",{className:"space-y-2",children:x.orders.map(S=>{const F=f(S);return F?u.jsxs("div",{className:"bg-gray-50 p-2 rounded text-sm",children:[u.jsx("div",{className:"font-medium text-gray-900",children:F.jobName}),u.jsxs("div",{className:"text-gray-600",children:[F.jobNumber,"  ",F.destination]}),u.jsxs("div",{className:"text-gray-500",children:["$",F.cost.toLocaleString()]})]},S):null})})]}),u.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost:"}),u.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",x.orders.reduce((S,F)=>{const L=r.find(M=>M.id===F);return S+((L==null?void 0:L.cost)||0)},0).toLocaleString()]})]})})]},x.id))}),a&&u.jsx(CS,{pickup:a,isOpen:!!a,onClose:()=>o(null)})]})},OS=()=>{const{pickups:t,drivers:e,orders:r,Sources:n,designers:i,updatePickup:s}=_r(),a=t.filter(m=>m.status===Zt.ARCHIVED),o=m=>{switch(m){case pr.LOW:return"bg-gray-100 text-gray-800";case pr.STANDARD:return"bg-blue-100 text-blue-800";case pr.HIGH:return"bg-orange-100 text-orange-800";case pr.URGENT:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=m=>{const y=e.find(f=>f.id===m);return y?y.name:"Unknown Driver"},d=async m=>{const y=e.find(N=>N.id===m.driverId),f=r.filter(N=>m.orders.includes(N.id));y&&await Cy.exportPickupPDF(m,f,n,i,y)},p=async m=>{if(confirm("Are you sure you want to reactivate this pickup?"))try{await s(m,{status:Zt.SCHEDULED})}catch(y){console.error("Error reactivating pickup:",y),alert("Failed to reactivate pickup. Please try again.")}};return a.length===0?null:u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 px-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Archived Pickups"}),u.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.length,")"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup Name"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Driver"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled Date"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(m=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:m.name}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:c(m.driverId)}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(m.priority)}`,children:m.priority.charAt(0).toUpperCase()+m.priority.slice(1)})}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:new Date(m.scheduledDate).toLocaleDateString()}),u.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:[m.orders.length," order",m.orders.length!==1?"s":""]}),u.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:["$",m.orders.reduce((y,f)=>{const N=r.find(_=>_.id===f);return y+((N==null?void 0:N.cost)||0)},0).toLocaleString()]}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>d(m),className:"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50",title:"Export PDF",children:u.jsx(Sm,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>p(m.id),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Reactivate pickup",children:u.jsx(n3,{className:"h-4 w-4"})})]})})]},m.id))})]})})]})},DS=()=>{const{orders:t,pickups:e,loading:r,error:n}=_r();console.log("HomePage: Current state:",{orders:t.length,pickups:e.length,loading:r,error:n});const[i,s]=oe.useState(!1),[a,o]=oe.useState(!1),[c,d]=oe.useState(""),[p,m]=oe.useState("all"),[y,f]=oe.useState("all"),N=oe.useMemo(()=>t.filter(_=>{const j=_.jobName.toLowerCase().includes(c.toLowerCase())||_.jobNumber.toLowerCase().includes(c.toLowerCase())||_.orderNumber.toLowerCase().includes(c.toLowerCase())||_.destinationName.toLowerCase().includes(c.toLowerCase()),w=p==="all"||_.status===p,x=y==="all"||(y==="unassigned"?!_.pickupId:_.pickupId===y);return j&&w&&x}),[t,c,p,y]);return r?u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading data..."})]})})}):n?u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:u.jsxs("p",{className:"text-red-700",children:["Error: ",n]})})})})}):u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(jm,{className:"h-8 w-8 text-primary-600"}),"Orders"]}),u.jsx("p",{className:"text-gray-600",children:"Manage and track cabinet orders"})]}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Orders (",N.length,")"]}),u.jsxs("button",{onClick:()=>{console.log("HomePage: Add Order button clicked");try{s(!0),console.log("HomePage: showCreateOrder set to true")}catch(_){console.error("HomePage: Error setting showCreateOrder:",_)}},className:"btn-primary flex items-center space-x-2",children:[u.jsx(cc,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Order"})]})]}),u.jsx(LS,{orders:N,searchTerm:c,setSearchTerm:d,statusFilter:p,setStatusFilter:m,pickupFilter:y,setPickupFilter:f})]}),u.jsxs("div",{className:"mb-8 pt-8",children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(Dc,{className:"h-8 w-8 text-primary-600"}),"Pickups"]}),u.jsx("p",{className:"text-gray-600",children:"Manage and track pickup schedules"})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pickups"}),u.jsxs("button",{onClick:()=>o(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(Dc,{className:"h-4 w-4"}),u.jsx("span",{children:"Create Pickup"})]})]}),u.jsx(IS,{}),u.jsx(OS,{})]})]})]}),u.jsx(PS,{isOpen:i,onClose:()=>s(!1)}),u.jsx(ES,{isOpen:a,onClose:()=>o(!1)})]})},RS=({isOpen:t,onClose:e})=>{const{addSource:r}=_r(),{user:n}=un(),[i,s]=oe.useState({name:"",address:"",phoneNumber:"",mainContact:""}),[a,o]=oe.useState(!1),c=async p=>{p.preventDefault(),o(!0);try{await r({...i,organizationId:(n==null?void 0:n.organizationId)||""})&&(e(),s({name:"",address:"",phoneNumber:"",mainContact:""}))}catch(m){console.error("Error creating Source:",m)}finally{o(!1)}},d=p=>{const{name:m,value:y}=p.target;s(f=>({...f,[m]:y}))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Source"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0,className:"input",placeholder:"Enter Source name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),u.jsx("textarea",{name:"address",value:i.address,onChange:d,required:!0,rows:3,className:"input",placeholder:"Enter address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:i.phoneNumber,onChange:d,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Contact *"}),u.jsx("input",{type:"text",name:"mainContact",value:i.mainContact,onChange:d,required:!0,className:"input",placeholder:"Enter main contact name"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Adding...":"Add Source"})]})]})]})}):null},TS=({isOpen:t,onClose:e})=>{const{addDesigner:r}=_r(),{user:n}=un(),[i,s]=oe.useState({name:"",email:"",phone:""}),[a,o]=oe.useState(!1),c=async p=>{p.preventDefault(),o(!0);try{await r({...i,organizationId:(n==null?void 0:n.organizationId)||""})&&(e(),s({name:"",email:"",phone:""}))}catch(m){console.error("Error creating designer:",m)}finally{o(!1)}},d=p=>{const{name:m,value:y}=p.target;s(f=>({...f,[m]:y}))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Designer"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designer Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0,className:"input",placeholder:"Enter designer name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,required:!0,className:"input",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:d,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Adding...":"Add Designer"})]})]})]})}):null},FS=({isOpen:t,onClose:e})=>{const{addDriver:r}=_r(),{user:n}=un(),[i,s]=oe.useState({name:"",email:"",phone:"",vehicle:""}),[a,o]=oe.useState(!1),c=async p=>{p.preventDefault(),o(!0);try{await r({...i,organizationId:(n==null?void 0:n.organizationId)||""})&&(e(),s({name:"",email:"",phone:"",vehicle:""}))}catch(m){console.error("Error creating driver:",m)}finally{o(!1)}},d=p=>{const{name:m,value:y}=p.target;s(f=>({...f,[m]:y}))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Driver"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0,className:"input",placeholder:"Enter driver name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,required:!0,className:"input",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:d,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle *"}),u.jsx("input",{type:"text",name:"vehicle",value:i.vehicle,onChange:d,required:!0,className:"input",placeholder:"Enter vehicle description"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Adding...":"Add Driver"})]})]})]})}):null},zS=({source:t,isOpen:e,onClose:r})=>{const{updateSource:n}=_r(),[i,s]=oe.useState({name:"",address:"",phoneNumber:"",mainContact:""}),[a,o]=oe.useState(!1);oe.useEffect(()=>{t&&s({name:t.name,address:t.address,phoneNumber:t.phoneNumber,mainContact:t.mainContact})},[t]);const c=async p=>{p.preventDefault(),o(!0);try{await n(t.id,i)&&r()}catch(m){console.error("Error updating Source:",m)}finally{o(!1)}},d=p=>{const{name:m,value:y}=p.target;s(f=>({...f,[m]:y}))};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Source"}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0,className:"input",placeholder:"Enter Source name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),u.jsx("textarea",{name:"address",value:i.address,onChange:d,required:!0,rows:3,className:"input",placeholder:"Enter address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:i.phoneNumber,onChange:d,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Contact *"}),u.jsx("input",{type:"text",name:"mainContact",value:i.mainContact,onChange:d,required:!0,className:"input",placeholder:"Enter main contact name"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Updating...":"Update Source"})]})]})]})}):null},MS=({designer:t,isOpen:e,onClose:r})=>{const{updateDesigner:n}=_r(),[i,s]=oe.useState({name:"",email:"",phone:""});oe.useEffect(()=>{t&&s({name:t.name,email:t.email,phone:t.phone})},[t]);const a=async c=>{c.preventDefault();try{await n(t.id,i)?r():alert("Failed to update designer. Please try again.")}catch(d){console.error("Error updating designer:",d),alert("Failed to update designer. Please try again.")}},o=c=>{const{name:d,value:p}=c.target;s(m=>({...m,[d]:p}))};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Designer"}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designer Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:o,required:!0,className:"input",placeholder:"Enter designer name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:o,required:!0,className:"input",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:o,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",children:"Update Designer"})]})]})]})}):null},US=({driver:t,isOpen:e,onClose:r})=>{const{updateDriver:n}=_r(),[i,s]=oe.useState({name:"",email:"",phone:"",vehicle:""});oe.useEffect(()=>{t&&s({name:t.name,email:t.email,phone:t.phone,vehicle:t.vehicle})},[t]);const a=async c=>{c.preventDefault();try{await n(t.id,i)?r():alert("Failed to update driver. Please try again.")}catch(d){console.error("Error updating driver:",d),alert("Failed to update driver. Please try again.")}},o=c=>{const{name:d,value:p}=c.target;s(m=>({...m,[d]:p}))};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Driver"}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(li,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:o,required:!0,className:"input",placeholder:"Enter driver name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:o,required:!0,className:"input",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:o,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle *"}),u.jsx("input",{type:"text",name:"vehicle",value:i.vehicle,onChange:o,required:!0,className:"input",placeholder:"Enter vehicle description"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",children:"Update Driver"})]})]})]})}):null},BS=()=>{var S,F;const{organizationalSettings:t,updateOrganizationalSettings:e}=_r(),{user:r}=un(),[n,i]=oe.useState(t);console.log("OrganizationalSettingsTab: organizationalSettings from context:",t),console.log("OrganizationalSettingsTab: formData state:",n);const[s,a]=oe.useState(!1),o=oe.useRef(null),c=oe.useRef(null),d=L=>{const{name:M,value:R}=L.target;i(O=>({...O,[M]:R}))},p=async L=>{var R;const M=(R=L.target.files)==null?void 0:R[0];if(M){if(console.log("Uploading logo file:",M.name,"Size:",M.size,"bytes"),M.size>1024*1024){alert("Logo file is too large. Please use an image smaller than 1MB.");return}const O=new FileReader;O.onload=async Z=>{var re;try{const D=(re=Z.target)==null?void 0:re.result;console.log("Logo URL generated, length:",D.length);let z=D;D.length>5e5&&(console.log("Logo is large, attempting to compress..."),z=await m(D,800,600),console.log("Compressed logo length:",z.length));const B={...n,logoUrl:z};i(B);const W=await e(B);console.log("Logo upload save result:",W),W||alert("Failed to save logo. Please try again.")}catch(D){console.error("Error processing logo:",D),alert("Error processing logo. Please try again.")}},O.onerror=()=>{console.error("Error reading file"),alert("Error reading logo file. Please try again.")},O.readAsDataURL(M)}},m=(L,M,R)=>new Promise(O=>{const Z=new Image;Z.onload=()=>{const re=document.createElement("canvas"),D=re.getContext("2d");let{width:z,height:B}=Z;z>B?z>M&&(B=B*M/z,z=M):B>R&&(z=z*R/B,B=R),re.width=z,re.height=B,D==null||D.drawImage(Z,0,0,z,B),O(re.toDataURL("image/jpeg",.8))},Z.src=L}),y=async()=>{console.log("Removing logo");const L={...n,logoUrl:void 0};i(L);const M=await e(L);console.log("Logo remove save result:",M),M||alert("Failed to remove logo. Please try again.")},f=async L=>{var R;const M=(R=L.target.files)==null?void 0:R[0];if(M){if(console.log("Uploading mobile icon file:",M.name,"Size:",M.size,"bytes"),M.size>512*1024){alert("Mobile icon file is too large. Please use an image smaller than 512KB.");return}const O=new FileReader;O.onload=async Z=>{var re;try{const D=(re=Z.target)==null?void 0:re.result;console.log("Mobile icon URL generated, length:",D.length);let z=D;D.length>2e5&&(console.log("Mobile icon is large, attempting to compress..."),z=await m(D,192,192),console.log("Compressed mobile icon length:",z.length));const B={...n,mobileIconUrl:z};i(B);const W=await e(B);console.log("Mobile icon upload save result:",W),W||alert("Failed to save mobile icon. Please try again.")}catch(D){console.error("Error processing mobile icon:",D),alert("Error processing mobile icon. Please try again.")}},O.onerror=()=>{console.error("Error reading file"),alert("Error reading mobile icon file. Please try again.")},O.readAsDataURL(M)}},N=async()=>{console.log("Removing mobile icon");const L={...n,mobileIconUrl:void 0};i(L);const M=await e(L);console.log("Mobile icon remove save result:",M),M||alert("Failed to remove mobile icon. Please try again.")},_=async()=>{console.log("Saving organizational settings:",n);const L={...n,logoUrl:void 0};console.log("Testing save without logo:",L);const M=await e(L);if(console.log("Save result (without logo):",M),M){if(n.logoUrl){console.log("Now trying to save with logo...");const R=await e(n);if(console.log("Save result (with logo):",R),!R){alert("Company information saved, but logo failed to save. Please try uploading a smaller image.");return}}a(!1)}else alert("Failed to save settings. Please try again.")},j=()=>{i(t),a(!1)},w=()=>{a(!0)},x=async()=>{var L;if((L=r==null?void 0:r.organization)!=null&&L.slug)try{await navigator.clipboard.writeText(r.organization.slug),alert("Organization slug copied to clipboard!")}catch(M){console.error("Failed to copy slug:",M),alert("Failed to copy slug to clipboard")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Yd,{className:"h-5 w-5 text-primary-600"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Organizational Settings"})]}),s?u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:j,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{onClick:_,className:"btn-primary flex items-center gap-2",children:[u.jsx(i3,{className:"h-4 w-4"}),"Save"]})]}):u.jsx("button",{onClick:w,className:"btn-secondary",children:"Edit"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Company Information"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),u.jsx("input",{type:"text",name:"companyName",value:n.companyName,onChange:d,disabled:!s,className:"input w-full",placeholder:"Enter company name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Address"}),u.jsx("textarea",{name:"companyAddress",value:n.companyAddress,onChange:d,disabled:!s,rows:3,className:"input w-full",placeholder:"Enter company address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Phone"}),u.jsx("input",{type:"tel",name:"companyPhone",value:n.companyPhone,onChange:d,disabled:!s,className:"input w-full",placeholder:"Enter company phone number"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Company Logo"}),u.jsxs("div",{className:"space-y-4",children:[n.logoUrl?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:u.jsx("img",{src:n.logoUrl,alt:"Company Logo",className:"max-w-full h-32 object-contain mx-auto"})}),s&&u.jsxs("button",{onClick:y,className:"btn-secondary flex items-center gap-2 w-full justify-center",children:[u.jsx(Us,{className:"h-4 w-4"}),"Remove Logo"]})]}):u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[u.jsx(Qu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No logo uploaded"}),s&&u.jsx("button",{onClick:()=>{var L;return(L=o.current)==null?void 0:L.click()},className:"btn-secondary",children:"Upload Logo"})]}),s&&!n.logoUrl&&u.jsxs("button",{onClick:()=>{var L;return(L=o.current)==null?void 0:L.click()},className:"btn-primary flex items-center gap-2 w-full justify-center",children:[u.jsx(Qu,{className:"h-4 w-4"}),"Upload Logo"]}),u.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:p,className:"hidden"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Mobile Icon"}),u.jsx("p",{className:"text-sm text-gray-600",children:"This icon will only appear on mobile devices (recommended: 192x192px)"}),u.jsxs("div",{className:"space-y-4",children:[n.mobileIconUrl?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:u.jsx("img",{src:n.mobileIconUrl,alt:"Mobile Icon",className:"max-w-full h-24 w-24 object-contain mx-auto"})}),s&&u.jsxs("button",{onClick:N,className:"btn-secondary flex items-center gap-2 w-full justify-center",children:[u.jsx(Us,{className:"h-4 w-4"}),"Remove Mobile Icon"]})]}):u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[u.jsx(Qu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No mobile icon uploaded"}),s&&u.jsx("button",{onClick:()=>{var L;return(L=c.current)==null?void 0:L.click()},className:"btn-secondary",children:"Upload Mobile Icon"})]}),s&&!n.mobileIconUrl&&u.jsxs("button",{onClick:()=>{var L;return(L=c.current)==null?void 0:L.click()},className:"btn-primary flex items-center gap-2 w-full justify-center",children:[u.jsx(Qu,{className:"h-4 w-4"}),"Upload Mobile Icon"]}),u.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:f,className:"hidden"})]})]})]}),!s&&u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Current Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 text-sm",style:{gap:"16px"},children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Company:"}),u.jsx("p",{className:"text-gray-900",children:n.companyName||"Not set"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Phone:"}),u.jsx("p",{className:"text-gray-900",children:n.companyPhone||"Not set"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Logo:"}),u.jsx("p",{className:"text-gray-900",children:n.logoUrl?"Uploaded":"Not uploaded"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Mobile Icon:"}),u.jsx("p",{className:"text-gray-900",children:n.mobileIconUrl?"Uploaded":"Not uploaded"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Organization Slug:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-gray-900 font-mono text-xs bg-white px-2 py-1 rounded border",children:((S=r==null?void 0:r.organization)==null?void 0:S.slug)||"Not available"}),((F=r==null?void 0:r.organization)==null?void 0:F.slug)&&u.jsx("button",{onClick:x,className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Copy slug to clipboard",children:u.jsx(Q4,{className:"h-3 w-3"})})]})]})]})]})]})},qS=()=>{const{deleteSource:t,deleteDesigner:e,deleteDriver:r,Sources:n,designers:i,drivers:s}=_r(),[a,o]=oe.useState("Sources"),[c,d]=oe.useState(!1),[p,m]=oe.useState(!1),[y,f]=oe.useState(!1),[N,_]=oe.useState(null),[j,w]=oe.useState(null),[x,S]=oe.useState(null),F=async(R,O)=>{if(confirm(`Are you sure you want to delete this ${R}?`))try{switch(R){case"Source":await t(O);break;case"designer":await e(O);break;case"driver":await r(O);break}}catch(Z){console.error(`Error deleting ${R}:`,Z),alert(`Failed to delete ${R}. Please try again.`)}},L=[{id:"Sources",label:"Sources",icon:Yd},{id:"designers",label:"Designers",icon:km},{id:"drivers",label:"Drivers",icon:Dc},{id:"organizational",label:"Organizational Settings",icon:Yd}],M=()=>{switch(a){case"Sources":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sources"}),u.jsxs("button",{onClick:()=>d(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(cc,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Source"})]})]}),sources.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No Sources added yet."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:sources.map(R=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900",children:source.name}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>_(R),className:"text-primary-600 hover:text-primary-800",children:u.jsx(lc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>F("Source",source.id),className:"text-red-600 hover:text-red-800",children:u.jsx(Us,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("p",{children:source.address}),u.jsx("p",{children:source.phoneNumber}),u.jsxs("p",{children:["Contact: ",source.mainContact]})]})]},source.id))})]});case"designers":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Designers"}),u.jsxs("button",{onClick:()=>m(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(cc,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Designer"})]})]}),i.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No designers added yet."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(R=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900",children:R.name}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>w(R),className:"text-primary-600 hover:text-primary-800",children:u.jsx(lc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>F("designer",R.id),className:"text-red-600 hover:text-red-800",children:u.jsx(Us,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("p",{children:R.email}),u.jsx("p",{children:R.phone})]})]},R.id))})]});case"drivers":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Drivers"}),u.jsxs("button",{onClick:()=>f(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(cc,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Driver"})]})]}),s.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No drivers added yet."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(R=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900",children:R.name}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>S(R),className:"text-primary-600 hover:text-primary-800",children:u.jsx(lc,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>F("driver",R.id),className:"text-red-600 hover:text-red-800",children:u.jsx(Us,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("p",{children:R.email}),u.jsx("p",{children:R.phone}),u.jsxs("p",{children:["Vehicle: ",R.vehicle]})]})]},R.id))})]});case"organizational":return u.jsx(BS,{});default:return null}};return u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),u.jsx("p",{className:"text-gray-600",children:"Manage CabinetTrack settings and data"})]}),u.jsx("div",{className:"border-b border-gray-200 mb-8",children:u.jsx("nav",{className:"-mb-px flex space-x-8",children:L.map(R=>{const O=R.icon;return u.jsxs("button",{onClick:()=>o(R.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${a===R.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(O,{className:"h-4 w-4"}),R.label]},R.id)})})}),u.jsx("div",{className:"card",children:u.jsx("div",{className:"p-6",children:M()})})]}),u.jsx(RS,{isOpen:c,onClose:()=>d(!1)}),u.jsx(TS,{isOpen:p,onClose:()=>m(!1)}),u.jsx(FS,{isOpen:y,onClose:()=>f(!1)}),u.jsx(zS,{Source:N,isOpen:!!N,onClose:()=>_(null)}),u.jsx(MS,{designer:j,isOpen:!!j,onClose:()=>w(null)}),u.jsx(US,{driver:x,isOpen:!!x,onClose:()=>S(null)})]})},$S=()=>{var N,_,j;const[t,e]=oe.useState([]),[r,n]=oe.useState(null),[i,s]=oe.useState(!0),[a,o]=oe.useState(!1),[c,d]=oe.useState(null),{user:p}=un();oe.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0),console.log("Loading subscription data...");const[w,x]=await Promise.all([fc.getSubscriptionPlans(),fc.getUsageMetrics()]);console.log("Plans data:",w),console.log("Metrics data:",x),e(w),n(x)}catch(w){console.error("Error loading subscription data:",w),d("Failed to load subscription data")}finally{s(!1)}},y=async w=>{try{o(!0),d(null);const x=await fc.upgradePlan(w);x.success?(await m(),alert("Plan upgraded successfully!")):d(x.error||"Failed to upgrade plan")}catch(x){console.error("Error upgrading plan:",x),d("Failed to upgrade plan")}finally{o(!1)}},f=()=>{if(console.log("getCurrentPlan - user:",p),console.log("getCurrentPlan - user.organization:",p==null?void 0:p.organization),console.log("getCurrentPlan - plans:",t),!(p!=null&&p.organization))return console.log("getCurrentPlan - No organization found"),null;console.log("getCurrentPlan - organization.plan:",p.organization.plan);const w=p.organization.plan||"free";console.log("getCurrentPlan - using plan name:",w);const x=t.find(S=>S.name===w);return console.log("getCurrentPlan - found plan:",x),x};return i?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading subscription information..."})]})}):u.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscription & Billing"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your subscription plan and view usage metrics"})]}),c&&u.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Current Plan"}),f()?u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-900 capitalize",children:[(N=f())==null?void 0:N.name," Plan"]}),u.jsxs("p",{className:"text-gray-600 mt-1",children:["$",(_=f())==null?void 0:_.price,"/",(j=f())==null?void 0:j.interval]})]}),u.jsx("div",{className:"text-right",children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Active"})})]}):u.jsx("p",{className:"text-gray-600",children:"No active plan found"})]}),r&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Usage This Month"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Users"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.users.total,u.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["/ ",r.users.limit===-1?"Unlimited":r.users.limit]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:r.users.limit===-1?"100%":`${Math.min(r.users.total/r.users.limit*100,100)}%`}})})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Orders"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.orders.total,u.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["/ ",r.orders.limit===-1?"Unlimited":r.orders.limit]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:r.orders.limit===-1?"100%":`${Math.min(r.orders.total/r.orders.limit*100,100)}%`}})})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Pickups"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.pickups.total,u.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["/ ",r.pickups.limit===-1?"Unlimited":r.pickups.limit]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:r.pickups.limit===-1?"100%":`${Math.min(r.pickups.total/r.pickups.limit*100,100)}%`}})})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Storage"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.storage.used," MB",u.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["/ ",r.storage.limit," MB"]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:`${Math.min(r.storage.used/r.storage.limit*100,100)}%`}})})})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Available Plans"}),u.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Debug: ",t.length," plans loaded"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(w=>{var F,L,M;const x=((F=p==null?void 0:p.organization)==null?void 0:F.plan)===w.name,S=!x&&(w.name==="pro"&&((L=p==null?void 0:p.organization)==null?void 0:L.plan)==="free"||w.name==="enterprise"&&((M=p==null?void 0:p.organization)==null?void 0:M.plan)!=="enterprise");return u.jsxs("div",{className:`relative rounded-lg border-2 p-6 ${x?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[x&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-600 text-white",children:"Current Plan"})}),u.jsxs("div",{className:"text-center",children:[u.jsxs("h3",{className:"text-xl font-semibold text-gray-900 capitalize mb-2",children:[w.name," Plan"]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",w.price]}),u.jsxs("span",{className:"text-gray-500",children:["/",w.interval]})]}),u.jsxs("ul",{className:"text-left space-y-3 mb-6",children:[u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),w.features.maxUsers===-1?"Unlimited":w.features.maxUsers," Users"]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),w.features.maxOrders===-1?"Unlimited":w.features.maxOrders," Orders"]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),w.features.maxPickups===-1?"Unlimited":w.features.maxPickups," Pickups"]}),w.features.advancedReporting&&u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Advanced Reporting"]}),w.features.apiAccess&&u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"API Access"]}),w.features.prioritySupport&&u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Priority Support"]}),w.features.customBranding&&u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Custom Branding"]})]}),x?u.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 px-4 py-2 rounded-md font-medium cursor-not-allowed",children:"Current Plan"}):S?u.jsx("button",{onClick:()=>y(w.name),disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-md font-medium transition-colors",children:a?"Upgrading...":"Upgrade"}):u.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 px-4 py-2 rounded-md font-medium cursor-not-allowed",children:"Downgrade Not Available"})]})]},w.id)})})]})]})})},HS=()=>{const[t,e]=oe.useState({organizationSlug:"",email:"",password:""}),[r,n]=oe.useState(""),[i,s]=oe.useState(!1),{login:a}=un(),o=qc(),c=p=>{e({...t,[p.target.name]:p.target.value})},d=async p=>{p.preventDefault(),n(""),s(!0);try{const m=await a(t);m.success?o("/"):n(m.error||"Login failed")}catch{n("An unexpected error occurred")}finally{s(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",u.jsx(ji,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new organization"})]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:u.jsxs("form",{className:"space-y-6",onSubmit:d,children:[r&&u.jsx("div",{className:"rounded-md bg-red-50 p-4",children:u.jsx("div",{className:"text-sm text-red-700",children:r})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"organizationSlug",className:"block text-sm font-medium text-gray-700",children:"Organization"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"organizationSlug",name:"organizationSlug",type:"text",required:!0,value:t.organizationSlug,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"your-organization"})}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter your organization's unique identifier"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"user@example.com"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t.password,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""})})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("div",{className:"text-sm",children:u.jsx(ji,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in...":"Sign in"})})]})})})]})},WS=()=>{const[t,e]=oe.useState({organizationName:"",organizationSlug:"",firstName:"",lastName:"",email:"",username:"",password:"",confirmPassword:""}),[r,n]=oe.useState(""),[i,s]=oe.useState(!1),{signup:a}=un(),o=qc(),c=m=>{e({...t,[m.target.name]:m.target.value})},d=()=>t.password!==t.confirmPassword?(n("Passwords do not match"),!1):t.password.length<8?(n("Password must be at least 8 characters long"),!1):/^[a-z0-9-]+$/.test(t.organizationSlug)?!0:(n("Organization slug can only contain lowercase letters, numbers, and hyphens"),!1),p=async m=>{if(m.preventDefault(),n(""),!!d()){s(!0);try{const y=await a({organizationName:t.organizationName,organizationSlug:t.organizationSlug,firstName:t.firstName,lastName:t.lastName,email:t.email,username:t.username,password:t.password});y.success?o("/"):n(y.error||"Signup failed")}catch{n("An unexpected error occurred")}finally{s(!1)}}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your organization"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",u.jsx(ji,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to existing organization"})]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:u.jsxs("form",{className:"space-y-6",onSubmit:p,children:[r&&u.jsx("div",{className:"rounded-md bg-red-50 p-4",children:u.jsx("div",{className:"text-sm text-red-700",children:r})}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700",children:"Organization Name"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"organizationName",name:"organizationName",type:"text",required:!0,value:t.organizationName,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Acme Corp"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"organizationSlug",className:"block text-sm font-medium text-gray-700",children:"Organization Slug"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"organizationSlug",name:"organizationSlug",type:"text",required:!0,value:t.organizationSlug,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"acme-corp"})}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This will be your unique URL identifier"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:t.firstName,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"John"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:t.lastName,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Doe"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"user@example.com"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"johndoe"})})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""})})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating organization...":"Create organization"})})]})})})]})},VS=()=>{const[t,e]=oe.useState({organizationSlug:"",email:""}),[r,n]=oe.useState(""),[i,s]=oe.useState(!1),[a,o]=oe.useState(!1),{requestPasswordReset:c}=un(),d=m=>{e({...t,[m.target.name]:m.target.value})},p=async m=>{m.preventDefault(),n(""),s(!1),o(!0);try{const y=await c(t);y.success?s(!0):n(y.error||"Failed to request password reset")}catch{n("An unexpected error occurred")}finally{o(!1)}};return i?u.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:u.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:u.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Check your email"}),u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent you a password reset link. Please check your email and follow the instructions."}),u.jsx("div",{className:"mt-6",children:u.jsx(ji,{to:"/login",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Back to login"})})]})})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",u.jsx(ji,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to your account"})]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:u.jsxs("form",{className:"space-y-6",onSubmit:p,children:[r&&u.jsx("div",{className:"rounded-md bg-red-50 p-4",children:u.jsx("div",{className:"text-sm text-red-700",children:r})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"organizationSlug",className:"block text-sm font-medium text-gray-700",children:"Organization"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"organizationSlug",name:"organizationSlug",type:"text",required:!0,value:t.organizationSlug,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"your-organization"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"user@example.com"})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Sending...":"Send reset link"})})]})})})]})},ap=({onClick:t,icon:e,variant:r="primary",size:n="md",disabled:i=!1,children:s,className:a=""})=>{const o=()=>{switch(r){case"primary":return"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 disabled:bg-primary-400";case"secondary":return"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500 disabled:bg-gray-100 disabled:text-gray-400";case"success":return"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500 disabled:bg-success-400";case"warning":return"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500 disabled:bg-warning-400";case"danger":return"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-400";default:return"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 disabled:bg-primary-400"}},c=()=>{switch(n){case"sm":return"px-2 py-1 text-sm";case"lg":return"px-4 py-2 text-base";default:return"px-3 py-1.5 text-sm"}},d="inline-flex items-center justify-center rounded-lg font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed",p=o(),m=c();return u.jsxs("button",{onClick:t,disabled:i,className:`${d} ${p} ${m} ${a}`,children:[e&&u.jsx(e,{className:`${n==="sm"?"h-4 w-4":n==="lg"?"h-5 w-5":"h-4 w-4"} ${s?"mr-1.5":""}`}),s]})},GS=()=>{const{user:t}=un(),[e,r]=oe.useState([]),[n,i]=oe.useState(!0),[s,a]=oe.useState(!1),[o,c]=oe.useState({firstName:"",lastName:"",email:"",username:"",password:"",role:"user"});oe.useEffect(()=>{t&&d()},[t]);const d=async()=>{if(t)try{console.log("loadUsers: Loading users for organization:",t.organizationId);const{data:f,error:N}=await Je.from("users").select("*").eq("organization_id",t.organizationId).order("created_at",{ascending:!1});if(console.log("loadUsers: Database result - data:",f,"error:",N),N)throw N;const _=(f||[]).map(j=>({id:j.id,organizationId:j.organization_id,email:j.email,username:j.username,firstName:j.first_name,lastName:j.last_name,role:j.role,isActive:j.is_active,emailVerified:j.email_verified,lastLogin:j.last_login?new Date(j.last_login):void 0,createdAt:new Date(j.created_at),updatedAt:new Date(j.updated_at),permissions:{canManageUsers:j.role==="admin",canManageBilling:j.role==="admin",canViewReports:j.role==="admin",canManageSettings:j.role==="admin"}}));console.log("loadUsers: Mapped users:",_),r(_)}catch(f){console.error("Error loading users:",f)}finally{i(!1)}},p=async f=>{if(f.preventDefault(),!!t)try{const{data:N,error:_}=await Je.from("users").insert({organization_id:t.organizationId,first_name:o.firstName,last_name:o.lastName,email:o.email,username:o.username,password_hash:o.password,role:o.role,is_active:!0,email_verified:!0}).select().single();if(_)throw _;r([N,...e]),a(!1),c({firstName:"",lastName:"",email:"",username:"",password:"",role:"user"})}catch(N){console.error("Error adding user:",N)}},m=async(f,N)=>{try{console.log("toggleUserStatus: Toggling user",f,"to isActive:",N);const{data:_,error:j}=await Je.from("users").update({is_active:N}).eq("id",f).select();if(console.log("toggleUserStatus: Database result - data:",_,"error:",j),j)throw j;const w=e.map(x=>x.id===f?{...x,isActive:N}:x);console.log("toggleUserStatus: Updated users state:",w),r(w),console.log("toggleUserStatus: Successfully toggled user status")}catch(_){console.error("Error updating user status:",_),alert("Failed to update user status. Please try again.")}},y=async f=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:N}=await Je.from("users").delete().eq("id",f);if(N)throw N;r(e.filter(_=>_.id!==f))}catch(N){console.error("Error deleting user:",N)}};return!t||t.role!=="admin"?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this page."})]})}):n?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Users"}),u.jsx(ap,{onClick:()=>a(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:"Add User"})]}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:u.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(f=>{var N,_;return u.jsx("li",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:u.jsxs("span",{className:"text-indigo-800 font-medium",children:[(N=f.firstName)==null?void 0:N[0],(_=f.lastName)==null?void 0:_[0]]})})}),u.jsxs("div",{className:"ml-4",children:[u.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.firstName," ",f.lastName]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["@",f.username,"  ",f.email]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.role==="admin"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:f.role}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.isActive?"Active":"Inactive"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(ap,{onClick:()=>m(f.id,!f.isActive),className:f.isActive?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700",children:f.isActive?"Deactivate":"Activate"}),f.id!==t.id&&u.jsx(ap,{onClick:()=>y(f.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})},f.id)})})})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:u.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:u.jsxs("div",{className:"mt-3",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New User"}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),u.jsx("input",{type:"text",required:!0,value:o.firstName,onChange:f=>c({...o,firstName:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),u.jsx("input",{type:"text",required:!0,value:o.lastName,onChange:f=>c({...o,lastName:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",required:!0,value:o.email,onChange:f=>c({...o,email:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),u.jsx("input",{type:"text",required:!0,value:o.username,onChange:f=>c({...o,username:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("input",{type:"password",required:!0,value:o.password,onChange:f=>c({...o,password:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),u.jsxs("select",{value:o.role,onChange:f=>c({...o,role:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Add User"})]})]})]})})})]})},od=({children:t})=>{const{user:e,loading:r}=un();return r?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(O4,{to:"/login",replace:!0})},JS=()=>u.jsx(k_,{children:u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(L_,{}),u.jsx("main",{children:u.jsxs(R4,{children:[u.jsx(ws,{path:"/login",element:u.jsx(HS,{})}),u.jsx(ws,{path:"/signup",element:u.jsx(WS,{})}),u.jsx(ws,{path:"/forgot-password",element:u.jsx(VS,{})}),u.jsx(ws,{path:"/",element:u.jsx(od,{children:u.jsx(DS,{})})}),u.jsx(ws,{path:"/settings",element:u.jsx(od,{children:u.jsx(qS,{})})}),u.jsx(ws,{path:"/users",element:u.jsx(od,{children:u.jsx(GS,{})})}),u.jsx(ws,{path:"/subscription",element:u.jsx(od,{children:u.jsx($S,{})})})]})})]})});function KS(){return u.jsx(A_,{children:u.jsx(JS,{})})}op.createRoot(document.getElementById("root")).render(u.jsx(k2.StrictMode,{children:u.jsx(q4,{children:u.jsx(KS,{})})}));export{bt as _,Tn as c,gx as g};
