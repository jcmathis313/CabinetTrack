function wx(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Fn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Nx(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var w2={exports:{}},lh={},b2={exports:{}},ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qc=Symbol.for("react.element"),_x=Symbol.for("react.portal"),Sx=Symbol.for("react.fragment"),jx=Symbol.for("react.strict_mode"),kx=Symbol.for("react.profiler"),Ax=Symbol.for("react.provider"),Lx=Symbol.for("react.context"),Ex=Symbol.for("react.forward_ref"),Cx=Symbol.for("react.suspense"),Px=Symbol.for("react.memo"),Ox=Symbol.for("react.lazy"),gg=Symbol.iterator;function Ix(t){return t===null||typeof t!="object"?null:(t=gg&&t[gg]||t["@@iterator"],typeof t=="function"?t:null)}var N2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_2=Object.assign,S2={};function rl(t,e,r){this.props=t,this.context=e,this.refs=S2,this.updater=r||N2}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function j2(){}j2.prototype=rl.prototype;function D0(t,e,r){this.props=t,this.context=e,this.refs=S2,this.updater=r||N2}var R0=D0.prototype=new j2;R0.constructor=D0;_2(R0,rl.prototype);R0.isPureReactComponent=!0;var vg=Array.isArray,k2=Object.prototype.hasOwnProperty,T0={current:null},A2={key:!0,ref:!0,__self:!0,__source:!0};function L2(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)k2.call(e,n)&&!A2.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:qc,type:t,key:s,ref:a,props:i,_owner:T0.current}}function Dx(t,e){return{$$typeof:qc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function F0(t){return typeof t=="object"&&t!==null&&t.$$typeof===qc}function Rx(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var yg=/\/+/g;function Sf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Rx(""+t.key):e.toString(36)}function pd(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case qc:case _x:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Sf(a,0):n,vg(i)?(r="",t!=null&&(r=t.replace(yg,"$&/")+"/"),pd(i,e,r,"",function(d){return d})):i!=null&&(F0(i)&&(i=Dx(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(yg,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",vg(t))for(var o=0;o<t.length;o++){s=t[o];var c=n+Sf(s,o);a+=pd(s,e,r,c,i)}else if(c=Ix(t),typeof c=="function")for(t=c.call(t),o=0;!(s=t.next()).done;)s=s.value,c=n+Sf(s,o++),a+=pd(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Uu(t,e,r){if(t==null)return t;var n=[],i=0;return pd(t,n,"","",function(s){return e.call(r,s,i++)}),n}function Tx(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Kr={current:null},md={transition:null},Fx={ReactCurrentDispatcher:Kr,ReactCurrentBatchConfig:md,ReactCurrentOwner:T0};function E2(){throw Error("act(...) is not supported in production builds of React.")}ct.Children={map:Uu,forEach:function(t,e,r){Uu(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Uu(t,function(){e++}),e},toArray:function(t){return Uu(t,function(e){return e})||[]},only:function(t){if(!F0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ct.Component=rl;ct.Fragment=Sx;ct.Profiler=kx;ct.PureComponent=D0;ct.StrictMode=jx;ct.Suspense=Cx;ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Fx;ct.act=E2;ct.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=_2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=T0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(c in e)k2.call(e,c)&&!A2.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&o!==void 0?o[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:qc,type:t.type,key:i,ref:s,props:n,_owner:a}};ct.createContext=function(t){return t={$$typeof:Lx,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ax,_context:t},t.Consumer=t};ct.createElement=L2;ct.createFactory=function(t){var e=L2.bind(null,t);return e.type=t,e};ct.createRef=function(){return{current:null}};ct.forwardRef=function(t){return{$$typeof:Ex,render:t}};ct.isValidElement=F0;ct.lazy=function(t){return{$$typeof:Ox,_payload:{_status:-1,_result:t},_init:Tx}};ct.memo=function(t,e){return{$$typeof:Px,type:t,compare:e===void 0?null:e}};ct.startTransition=function(t){var e=md.transition;md.transition={};try{t()}finally{md.transition=e}};ct.unstable_act=E2;ct.useCallback=function(t,e){return Kr.current.useCallback(t,e)};ct.useContext=function(t){return Kr.current.useContext(t)};ct.useDebugValue=function(){};ct.useDeferredValue=function(t){return Kr.current.useDeferredValue(t)};ct.useEffect=function(t,e){return Kr.current.useEffect(t,e)};ct.useId=function(){return Kr.current.useId()};ct.useImperativeHandle=function(t,e,r){return Kr.current.useImperativeHandle(t,e,r)};ct.useInsertionEffect=function(t,e){return Kr.current.useInsertionEffect(t,e)};ct.useLayoutEffect=function(t,e){return Kr.current.useLayoutEffect(t,e)};ct.useMemo=function(t,e){return Kr.current.useMemo(t,e)};ct.useReducer=function(t,e,r){return Kr.current.useReducer(t,e,r)};ct.useRef=function(t){return Kr.current.useRef(t)};ct.useState=function(t){return Kr.current.useState(t)};ct.useSyncExternalStore=function(t,e,r){return Kr.current.useSyncExternalStore(t,e,r)};ct.useTransition=function(){return Kr.current.useTransition()};ct.version="18.3.1";b2.exports=ct;var se=b2.exports;const C2=bx(se),zx=wx({__proto__:null,default:C2},[se]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mx=se,Ux=Symbol.for("react.element"),Bx=Symbol.for("react.fragment"),qx=Object.prototype.hasOwnProperty,$x=Mx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Hx={key:!0,ref:!0,__self:!0,__source:!0};function P2(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)qx.call(e,n)&&!Hx.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Ux,type:t,key:s,ref:a,props:i,_owner:$x.current}}lh.Fragment=Bx;lh.jsx=P2;lh.jsxs=P2;w2.exports=lh;var u=w2.exports,pp={},O2={exports:{}},_n={},I2={exports:{}},D2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(K,ie){var le=K.length;K.push(ie);e:for(;0<le;){var _e=le-1>>>1,E=K[_e];if(0<i(E,ie))K[_e]=ie,K[le]=E,le=_e;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var ie=K[0],le=K.pop();if(le!==ie){K[0]=le;e:for(var _e=0,E=K.length,q=E>>>1;_e<q;){var V=2*(_e+1)-1,X=K[V],te=V+1,ce=K[te];if(0>i(X,le))te<E&&0>i(ce,X)?(K[_e]=ce,K[te]=le,_e=te):(K[_e]=X,K[V]=le,_e=V);else if(te<E&&0>i(ce,le))K[_e]=ce,K[te]=le,_e=te;else break e}}return ie}function i(K,ie){var le=K.sortIndex-ie.sortIndex;return le!==0?le:K.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var c=[],d=[],p=1,m=null,y=3,f=!1,b=!1,_=!1,j=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(K){for(var ie=r(d);ie!==null;){if(ie.callback===null)n(d);else if(ie.startTime<=K)n(d),ie.sortIndex=ie.expirationTime,e(c,ie);else break;ie=r(d)}}function F(K){if(_=!1,S(K),!b)if(r(c)!==null)b=!0,ue(O);else{var ie=r(d);ie!==null&&pe(F,ie.startTime-K)}}function O(K,ie){b=!1,_&&(_=!1,x(L),L=-1),f=!0;var le=y;try{for(S(ie),m=r(c);m!==null&&(!(m.expirationTime>ie)||K&&!D());){var _e=m.callback;if(typeof _e=="function"){m.callback=null,y=m.priorityLevel;var E=_e(m.expirationTime<=ie);ie=t.unstable_now(),typeof E=="function"?m.callback=E:m===r(c)&&n(c),S(ie)}else n(c);m=r(c)}if(m!==null)var q=!0;else{var V=r(d);V!==null&&pe(F,V.startTime-ie),q=!1}return q}finally{m=null,y=le,f=!1}}var H=!1,z=null,L=-1,U=5,J=-1;function D(){return!(t.unstable_now()-J<U)}function T(){if(z!==null){var K=t.unstable_now();J=K;var ie=!0;try{ie=z(!0,K)}finally{ie?B():(H=!1,z=null)}}else H=!1}var B;if(typeof w=="function")B=function(){w(T)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,de=W.port2;W.port1.onmessage=T,B=function(){de.postMessage(null)}}else B=function(){j(T,0)};function ue(K){z=K,H||(H=!0,B())}function pe(K,ie){L=j(function(){K(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_continueExecution=function(){b||f||(b=!0,ue(O))},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(K){switch(y){case 1:case 2:case 3:var ie=3;break;default:ie=y}var le=y;y=ie;try{return K()}finally{y=le}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var le=y;y=K;try{return ie()}finally{y=le}},t.unstable_scheduleCallback=function(K,ie,le){var _e=t.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?_e+le:_e):le=_e,K){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=le+E,K={id:p++,callback:ie,priorityLevel:K,startTime:le,expirationTime:E,sortIndex:-1},le>_e?(K.sortIndex=le,e(d,K),r(c)===null&&K===r(d)&&(_?(x(L),L=-1):_=!0,pe(F,le-_e))):(K.sortIndex=E,e(c,K),b||f||(b=!0,ue(O))),K},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(K){var ie=y;return function(){var le=y;y=ie;try{return K.apply(this,arguments)}finally{y=le}}}})(D2);I2.exports=D2;var Wx=I2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vx=se,Nn=Wx;function je(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var R2=new Set,xc={};function Oa(t,e){Jo(t,e),Jo(t+"Capture",e)}function Jo(t,e){for(xc[t]=e,t=0;t<e.length;t++)R2.add(e[t])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mp=Object.prototype.hasOwnProperty,Gx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,xg={},wg={};function Jx(t){return mp.call(wg,t)?!0:mp.call(xg,t)?!1:Gx.test(t)?wg[t]=!0:(xg[t]=!0,!1)}function Kx(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Yx(t,e,r,n){if(e===null||typeof e>"u"||Kx(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Cr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Cr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Cr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Cr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Cr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Cr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Cr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Cr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Cr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Cr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var z0=/[\-:]([a-z])/g;function M0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(z0,M0);Cr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(z0,M0);Cr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(z0,M0);Cr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Cr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Cr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Cr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function U0(t,e,r,n){var i=Cr.hasOwnProperty(e)?Cr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Yx(e,r,i,n)&&(r=null),n||i===null?Jx(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var rs=Vx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bu=Symbol.for("react.element"),So=Symbol.for("react.portal"),jo=Symbol.for("react.fragment"),B0=Symbol.for("react.strict_mode"),gp=Symbol.for("react.profiler"),T2=Symbol.for("react.provider"),F2=Symbol.for("react.context"),q0=Symbol.for("react.forward_ref"),vp=Symbol.for("react.suspense"),yp=Symbol.for("react.suspense_list"),$0=Symbol.for("react.memo"),_s=Symbol.for("react.lazy"),z2=Symbol.for("react.offscreen"),bg=Symbol.iterator;function Ul(t){return t===null||typeof t!="object"?null:(t=bg&&t[bg]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,jf;function Xl(t){if(jf===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);jf=e&&e[1]||""}return`
`+jf+t}var kf=!1;function Af(t,e){if(!t||kf)return"";kf=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var n=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){n=d}t.call(e.prototype)}else{try{throw Error()}catch(d){n=d}t()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var c=`
`+i[a].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=a&&0<=o);break}}}finally{kf=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Xl(t):""}function Xx(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=Af(t.type,!1),t;case 11:return t=Af(t.type.render,!1),t;case 1:return t=Af(t.type,!0),t;default:return""}}function xp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case jo:return"Fragment";case So:return"Portal";case gp:return"Profiler";case B0:return"StrictMode";case vp:return"Suspense";case yp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case F2:return(t.displayName||"Context")+".Consumer";case T2:return(t._context.displayName||"Context")+".Provider";case q0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $0:return e=t.displayName||null,e!==null?e:xp(t.type)||"Memo";case _s:e=t._payload,t=t._init;try{return xp(t(e))}catch{}}return null}function Qx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xp(e);case 8:return e===B0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function M2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Zx(t){var e=M2(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function qu(t){t._valueTracker||(t._valueTracker=Zx(t))}function U2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=M2(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Cd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function wp(t,e){var r=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ng(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=qs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function B2(t,e){e=e.checked,e!=null&&U0(t,"checked",e,!1)}function bp(t,e){B2(t,e);var r=qs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Np(t,e.type,r):e.hasOwnProperty("defaultValue")&&Np(t,e.type,qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function _g(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Np(t,e,r){(e!=="number"||Cd(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Ql=Array.isArray;function Fo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+qs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _p(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(je(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Sg(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(je(92));if(Ql(r)){if(1<r.length)throw Error(je(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:qs(r)}}function q2(t,e){var r=qs(e.value),n=qs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function jg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function $2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?$2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var $u,H2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for($u=$u||document.createElement("div"),$u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=$u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var nc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ew=["Webkit","ms","Moz","O"];Object.keys(nc).forEach(function(t){ew.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nc[e]=nc[t]})});function W2(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||nc.hasOwnProperty(t)&&nc[t]?(""+e).trim():e+"px"}function V2(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=W2(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var tw=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function jp(t,e){if(e){if(tw[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(je(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(je(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(je(61))}if(e.style!=null&&typeof e.style!="object")throw Error(je(62))}}function kp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ap=null;function H0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Lp=null,zo=null,Mo=null;function kg(t){if(t=Wc(t)){if(typeof Lp!="function")throw Error(je(280));var e=t.stateNode;e&&(e=fh(e),Lp(t.stateNode,t.type,e))}}function G2(t){zo?Mo?Mo.push(t):Mo=[t]:zo=t}function J2(){if(zo){var t=zo,e=Mo;if(Mo=zo=null,kg(t),e)for(t=0;t<e.length;t++)kg(e[t])}}function K2(t,e){return t(e)}function Y2(){}var Lf=!1;function X2(t,e,r){if(Lf)return t(e,r);Lf=!0;try{return K2(t,e,r)}finally{Lf=!1,(zo!==null||Mo!==null)&&(Y2(),J2())}}function bc(t,e){var r=t.stateNode;if(r===null)return null;var n=fh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(je(231,e,typeof r));return r}var Ep=!1;if(Qi)try{var Bl={};Object.defineProperty(Bl,"passive",{get:function(){Ep=!0}}),window.addEventListener("test",Bl,Bl),window.removeEventListener("test",Bl,Bl)}catch{Ep=!1}function rw(t,e,r,n,i,s,a,o,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(r,d)}catch(p){this.onError(p)}}var ic=!1,Pd=null,Od=!1,Cp=null,nw={onError:function(t){ic=!0,Pd=t}};function iw(t,e,r,n,i,s,a,o,c){ic=!1,Pd=null,rw.apply(nw,arguments)}function sw(t,e,r,n,i,s,a,o,c){if(iw.apply(this,arguments),ic){if(ic){var d=Pd;ic=!1,Pd=null}else throw Error(je(198));Od||(Od=!0,Cp=d)}}function Ia(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Q2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Ag(t){if(Ia(t)!==t)throw Error(je(188))}function aw(t){var e=t.alternate;if(!e){if(e=Ia(t),e===null)throw Error(je(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Ag(i),t;if(s===n)return Ag(i),e;s=s.sibling}throw Error(je(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(je(189))}}if(r.alternate!==n)throw Error(je(190))}if(r.tag!==3)throw Error(je(188));return r.stateNode.current===r?t:e}function Z2(t){return t=aw(t),t!==null?ev(t):null}function ev(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ev(t);if(e!==null)return e;t=t.sibling}return null}var tv=Nn.unstable_scheduleCallback,Lg=Nn.unstable_cancelCallback,ow=Nn.unstable_shouldYield,lw=Nn.unstable_requestPaint,tr=Nn.unstable_now,cw=Nn.unstable_getCurrentPriorityLevel,W0=Nn.unstable_ImmediatePriority,rv=Nn.unstable_UserBlockingPriority,Id=Nn.unstable_NormalPriority,uw=Nn.unstable_LowPriority,nv=Nn.unstable_IdlePriority,ch=null,Li=null;function dw(t){if(Li&&typeof Li.onCommitFiberRoot=="function")try{Li.onCommitFiberRoot(ch,t,void 0,(t.current.flags&128)===128)}catch{}}var oi=Math.clz32?Math.clz32:pw,hw=Math.log,fw=Math.LN2;function pw(t){return t>>>=0,t===0?32:31-(hw(t)/fw|0)|0}var Hu=64,Wu=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Dd(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Zl(o):(s&=a,s!==0&&(n=Zl(s)))}else a=r&~i,a!==0?n=Zl(a):s!==0&&(n=Zl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-oi(e),i=1<<r,n|=t[r],e&=~i;return n}function mw(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gw(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-oi(s),o=1<<a,c=i[a];c===-1?(!(o&r)||o&n)&&(i[a]=mw(o,e)):c<=e&&(t.expiredLanes|=o),s&=~o}}function Pp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function iv(){var t=Hu;return Hu<<=1,!(Hu&4194240)&&(Hu=64),t}function Ef(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function $c(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oi(e),t[e]=r}function vw(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-oi(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function V0(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-oi(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var _t=0;function sv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var av,G0,ov,lv,cv,Op=!1,Vu=[],Os=null,Is=null,Ds=null,Nc=new Map,_c=new Map,js=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Eg(t,e){switch(t){case"focusin":case"focusout":Os=null;break;case"dragenter":case"dragleave":Is=null;break;case"mouseover":case"mouseout":Ds=null;break;case"pointerover":case"pointerout":Nc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_c.delete(e.pointerId)}}function ql(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wc(e),e!==null&&G0(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xw(t,e,r,n,i){switch(e){case"focusin":return Os=ql(Os,t,e,r,n,i),!0;case"dragenter":return Is=ql(Is,t,e,r,n,i),!0;case"mouseover":return Ds=ql(Ds,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Nc.set(s,ql(Nc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,_c.set(s,ql(_c.get(s)||null,t,e,r,n,i)),!0}return!1}function uv(t){var e=wa(t.target);if(e!==null){var r=Ia(e);if(r!==null){if(e=r.tag,e===13){if(e=Q2(r),e!==null){t.blockedOn=e,cv(t.priority,function(){ov(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Ip(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Ap=n,r.target.dispatchEvent(n),Ap=null}else return e=Wc(r),e!==null&&G0(e),t.blockedOn=r,!1;e.shift()}return!0}function Cg(t,e,r){gd(t)&&r.delete(e)}function ww(){Op=!1,Os!==null&&gd(Os)&&(Os=null),Is!==null&&gd(Is)&&(Is=null),Ds!==null&&gd(Ds)&&(Ds=null),Nc.forEach(Cg),_c.forEach(Cg)}function $l(t,e){t.blockedOn===e&&(t.blockedOn=null,Op||(Op=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,ww)))}function Sc(t){function e(i){return $l(i,t)}if(0<Vu.length){$l(Vu[0],t);for(var r=1;r<Vu.length;r++){var n=Vu[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Os!==null&&$l(Os,t),Is!==null&&$l(Is,t),Ds!==null&&$l(Ds,t),Nc.forEach(e),_c.forEach(e),r=0;r<js.length;r++)n=js[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<js.length&&(r=js[0],r.blockedOn===null);)uv(r),r.blockedOn===null&&js.shift()}var Uo=rs.ReactCurrentBatchConfig,Rd=!0;function bw(t,e,r,n){var i=_t,s=Uo.transition;Uo.transition=null;try{_t=1,J0(t,e,r,n)}finally{_t=i,Uo.transition=s}}function Nw(t,e,r,n){var i=_t,s=Uo.transition;Uo.transition=null;try{_t=4,J0(t,e,r,n)}finally{_t=i,Uo.transition=s}}function J0(t,e,r,n){if(Rd){var i=Ip(t,e,r,n);if(i===null)Mf(t,e,n,Td,r),Eg(t,n);else if(xw(i,t,e,r,n))n.stopPropagation();else if(Eg(t,n),e&4&&-1<yw.indexOf(t)){for(;i!==null;){var s=Wc(i);if(s!==null&&av(s),s=Ip(t,e,r,n),s===null&&Mf(t,e,n,Td,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Mf(t,e,n,null,r)}}var Td=null;function Ip(t,e,r,n){if(Td=null,t=H0(n),t=wa(t),t!==null)if(e=Ia(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Q2(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Td=t,null}function dv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cw()){case W0:return 1;case rv:return 4;case Id:case uw:return 16;case nv:return 536870912;default:return 16}default:return 16}}var Ls=null,K0=null,vd=null;function hv(){if(vd)return vd;var t,e=K0,r=e.length,n,i="value"in Ls?Ls.value:Ls.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return vd=i.slice(t,1<n?1-n:void 0)}function yd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Gu(){return!0}function Pg(){return!1}function Sn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Gu:Pg,this.isPropagationStopped=Pg,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gu)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gu)},persist:function(){},isPersistent:Gu}),e}var nl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y0=Sn(nl),Hc=$t({},nl,{view:0,detail:0}),_w=Sn(Hc),Cf,Pf,Hl,uh=$t({},Hc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:X0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(Cf=t.screenX-Hl.screenX,Pf=t.screenY-Hl.screenY):Pf=Cf=0,Hl=t),Cf)},movementY:function(t){return"movementY"in t?t.movementY:Pf}}),Og=Sn(uh),Sw=$t({},uh,{dataTransfer:0}),jw=Sn(Sw),kw=$t({},Hc,{relatedTarget:0}),Of=Sn(kw),Aw=$t({},nl,{animationName:0,elapsedTime:0,pseudoElement:0}),Lw=Sn(Aw),Ew=$t({},nl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Cw=Sn(Ew),Pw=$t({},nl,{data:0}),Ig=Sn(Pw),Ow={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Dw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Rw(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Dw[t])?!!e[t]:!1}function X0(){return Rw}var Tw=$t({},Hc,{key:function(t){if(t.key){var e=Ow[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Iw[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:X0,charCode:function(t){return t.type==="keypress"?yd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Fw=Sn(Tw),zw=$t({},uh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Sn(zw),Mw=$t({},Hc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:X0}),Uw=Sn(Mw),Bw=$t({},nl,{propertyName:0,elapsedTime:0,pseudoElement:0}),qw=Sn(Bw),$w=$t({},uh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hw=Sn($w),Ww=[9,13,27,32],Q0=Qi&&"CompositionEvent"in window,sc=null;Qi&&"documentMode"in document&&(sc=document.documentMode);var Vw=Qi&&"TextEvent"in window&&!sc,fv=Qi&&(!Q0||sc&&8<sc&&11>=sc),Rg=String.fromCharCode(32),Tg=!1;function pv(t,e){switch(t){case"keyup":return Ww.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ko=!1;function Gw(t,e){switch(t){case"compositionend":return mv(e);case"keypress":return e.which!==32?null:(Tg=!0,Rg);case"textInput":return t=e.data,t===Rg&&Tg?null:t;default:return null}}function Jw(t,e){if(ko)return t==="compositionend"||!Q0&&pv(t,e)?(t=hv(),vd=K0=Ls=null,ko=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return fv&&e.locale!=="ko"?null:e.data;default:return null}}var Kw={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Kw[t.type]:e==="textarea"}function gv(t,e,r,n){G2(n),e=Fd(e,"onChange"),0<e.length&&(r=new Y0("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ac=null,jc=null;function Yw(t){Av(t,0)}function dh(t){var e=Eo(t);if(U2(e))return t}function Xw(t,e){if(t==="change")return e}var vv=!1;if(Qi){var If;if(Qi){var Df="oninput"in document;if(!Df){var zg=document.createElement("div");zg.setAttribute("oninput","return;"),Df=typeof zg.oninput=="function"}If=Df}else If=!1;vv=If&&(!document.documentMode||9<document.documentMode)}function Mg(){ac&&(ac.detachEvent("onpropertychange",yv),jc=ac=null)}function yv(t){if(t.propertyName==="value"&&dh(jc)){var e=[];gv(e,jc,t,H0(t)),X2(Yw,e)}}function Qw(t,e,r){t==="focusin"?(Mg(),ac=e,jc=r,ac.attachEvent("onpropertychange",yv)):t==="focusout"&&Mg()}function Zw(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return dh(jc)}function eb(t,e){if(t==="click")return dh(e)}function tb(t,e){if(t==="input"||t==="change")return dh(e)}function rb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ci=typeof Object.is=="function"?Object.is:rb;function kc(t,e){if(ci(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!mp.call(e,i)||!ci(t[i],e[i]))return!1}return!0}function Ug(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,e){var r=Ug(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Ug(r)}}function xv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?xv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function wv(){for(var t=window,e=Cd();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Cd(t.document)}return e}function Z0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function nb(t){var e=wv(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&xv(r.ownerDocument.documentElement,r)){if(n!==null&&Z0(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Bg(r,s);var a=Bg(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ib=Qi&&"documentMode"in document&&11>=document.documentMode,Ao=null,Dp=null,oc=null,Rp=!1;function qg(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Rp||Ao==null||Ao!==Cd(n)||(n=Ao,"selectionStart"in n&&Z0(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),oc&&kc(oc,n)||(oc=n,n=Fd(Dp,"onSelect"),0<n.length&&(e=new Y0("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Ao)))}function Ju(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Lo={animationend:Ju("Animation","AnimationEnd"),animationiteration:Ju("Animation","AnimationIteration"),animationstart:Ju("Animation","AnimationStart"),transitionend:Ju("Transition","TransitionEnd")},Rf={},bv={};Qi&&(bv=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function hh(t){if(Rf[t])return Rf[t];if(!Lo[t])return t;var e=Lo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in bv)return Rf[t]=e[r];return t}var Nv=hh("animationend"),_v=hh("animationiteration"),Sv=hh("animationstart"),jv=hh("transitionend"),kv=new Map,$g="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Gs(t,e){kv.set(t,e),Oa(e,[t])}for(var Tf=0;Tf<$g.length;Tf++){var Ff=$g[Tf],sb=Ff.toLowerCase(),ab=Ff[0].toUpperCase()+Ff.slice(1);Gs(sb,"on"+ab)}Gs(Nv,"onAnimationEnd");Gs(_v,"onAnimationIteration");Gs(Sv,"onAnimationStart");Gs("dblclick","onDoubleClick");Gs("focusin","onFocus");Gs("focusout","onBlur");Gs(jv,"onTransitionEnd");Jo("onMouseEnter",["mouseout","mouseover"]);Jo("onMouseLeave",["mouseout","mouseover"]);Jo("onPointerEnter",["pointerout","pointerover"]);Jo("onPointerLeave",["pointerout","pointerover"]);Oa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Oa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Oa("onBeforeInput",["compositionend","keypress","textInput","paste"]);Oa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Oa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function Hg(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,sw(n,e,void 0,t),t.currentTarget=null}function Av(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==s&&i.isPropagationStopped())break e;Hg(i,o,d),s=c}else for(a=0;a<n.length;a++){if(o=n[a],c=o.instance,d=o.currentTarget,o=o.listener,c!==s&&i.isPropagationStopped())break e;Hg(i,o,d),s=c}}}if(Od)throw t=Cp,Od=!1,Cp=null,t}function Dt(t,e){var r=e[Up];r===void 0&&(r=e[Up]=new Set);var n=t+"__bubble";r.has(n)||(Lv(e,t,2,!1),r.add(n))}function zf(t,e,r){var n=0;e&&(n|=4),Lv(r,t,n,e)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Ac(t){if(!t[Ku]){t[Ku]=!0,R2.forEach(function(r){r!=="selectionchange"&&(ob.has(r)||zf(r,!1,t),zf(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ku]||(e[Ku]=!0,zf("selectionchange",!1,e))}}function Lv(t,e,r,n){switch(dv(e)){case 1:var i=bw;break;case 4:i=Nw;break;default:i=J0}r=i.bind(null,e,r,t),i=void 0,!Ep||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Mf(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;o!==null;){if(a=wa(o),a===null)return;if(c=a.tag,c===5||c===6){n=s=a;continue e}o=o.parentNode}}n=n.return}X2(function(){var d=s,p=H0(r),m=[];e:{var y=kv.get(t);if(y!==void 0){var f=Y0,b=t;switch(t){case"keypress":if(yd(r)===0)break e;case"keydown":case"keyup":f=Fw;break;case"focusin":b="focus",f=Of;break;case"focusout":b="blur",f=Of;break;case"beforeblur":case"afterblur":f=Of;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Og;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=jw;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Uw;break;case Nv:case _v:case Sv:f=Lw;break;case jv:f=qw;break;case"scroll":f=_w;break;case"wheel":f=Hw;break;case"copy":case"cut":case"paste":f=Cw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Dg}var _=(e&4)!==0,j=!_&&t==="scroll",x=_?y!==null?y+"Capture":null:y;_=[];for(var w=d,S;w!==null;){S=w;var F=S.stateNode;if(S.tag===5&&F!==null&&(S=F,x!==null&&(F=bc(w,x),F!=null&&_.push(Lc(w,F,S)))),j)break;w=w.return}0<_.length&&(y=new f(y,b,null,r,p),m.push({event:y,listeners:_}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",y&&r!==Ap&&(b=r.relatedTarget||r.fromElement)&&(wa(b)||b[Zi]))break e;if((f||y)&&(y=p.window===p?p:(y=p.ownerDocument)?y.defaultView||y.parentWindow:window,f?(b=r.relatedTarget||r.toElement,f=d,b=b?wa(b):null,b!==null&&(j=Ia(b),b!==j||b.tag!==5&&b.tag!==6)&&(b=null)):(f=null,b=d),f!==b)){if(_=Og,F="onMouseLeave",x="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(_=Dg,F="onPointerLeave",x="onPointerEnter",w="pointer"),j=f==null?y:Eo(f),S=b==null?y:Eo(b),y=new _(F,w+"leave",f,r,p),y.target=j,y.relatedTarget=S,F=null,wa(p)===d&&(_=new _(x,w+"enter",b,r,p),_.target=S,_.relatedTarget=j,F=_),j=F,f&&b)t:{for(_=f,x=b,w=0,S=_;S;S=ho(S))w++;for(S=0,F=x;F;F=ho(F))S++;for(;0<w-S;)_=ho(_),w--;for(;0<S-w;)x=ho(x),S--;for(;w--;){if(_===x||x!==null&&_===x.alternate)break t;_=ho(_),x=ho(x)}_=null}else _=null;f!==null&&Wg(m,y,f,_,!1),b!==null&&j!==null&&Wg(m,j,b,_,!0)}}e:{if(y=d?Eo(d):window,f=y.nodeName&&y.nodeName.toLowerCase(),f==="select"||f==="input"&&y.type==="file")var O=Xw;else if(Fg(y))if(vv)O=tb;else{O=Zw;var H=Qw}else(f=y.nodeName)&&f.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(O=eb);if(O&&(O=O(t,d))){gv(m,O,r,p);break e}H&&H(t,y,d),t==="focusout"&&(H=y._wrapperState)&&H.controlled&&y.type==="number"&&Np(y,"number",y.value)}switch(H=d?Eo(d):window,t){case"focusin":(Fg(H)||H.contentEditable==="true")&&(Ao=H,Dp=d,oc=null);break;case"focusout":oc=Dp=Ao=null;break;case"mousedown":Rp=!0;break;case"contextmenu":case"mouseup":case"dragend":Rp=!1,qg(m,r,p);break;case"selectionchange":if(ib)break;case"keydown":case"keyup":qg(m,r,p)}var z;if(Q0)e:{switch(t){case"compositionstart":var L="onCompositionStart";break e;case"compositionend":L="onCompositionEnd";break e;case"compositionupdate":L="onCompositionUpdate";break e}L=void 0}else ko?pv(t,r)&&(L="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(L="onCompositionStart");L&&(fv&&r.locale!=="ko"&&(ko||L!=="onCompositionStart"?L==="onCompositionEnd"&&ko&&(z=hv()):(Ls=p,K0="value"in Ls?Ls.value:Ls.textContent,ko=!0)),H=Fd(d,L),0<H.length&&(L=new Ig(L,t,null,r,p),m.push({event:L,listeners:H}),z?L.data=z:(z=mv(r),z!==null&&(L.data=z)))),(z=Vw?Gw(t,r):Jw(t,r))&&(d=Fd(d,"onBeforeInput"),0<d.length&&(p=new Ig("onBeforeInput","beforeinput",null,r,p),m.push({event:p,listeners:d}),p.data=z))}Av(m,e)})}function Lc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Fd(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bc(t,r),s!=null&&n.unshift(Lc(t,s,i)),s=bc(t,e),s!=null&&n.push(Lc(t,s,i))),t=t.return}return n}function ho(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wg(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,i?(c=bc(r,s),c!=null&&a.unshift(Lc(r,c,o))):i||(c=bc(r,s),c!=null&&a.push(Lc(r,c,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var lb=/\r\n?/g,cb=/\u0000|\uFFFD/g;function Vg(t){return(typeof t=="string"?t:""+t).replace(lb,`
`).replace(cb,"")}function Yu(t,e,r){if(e=Vg(e),Vg(t)!==e&&r)throw Error(je(425))}function zd(){}var Tp=null,Fp=null;function zp(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mp=typeof setTimeout=="function"?setTimeout:void 0,ub=typeof clearTimeout=="function"?clearTimeout:void 0,Gg=typeof Promise=="function"?Promise:void 0,db=typeof queueMicrotask=="function"?queueMicrotask:typeof Gg<"u"?function(t){return Gg.resolve(null).then(t).catch(hb)}:Mp;function hb(t){setTimeout(function(){throw t})}function Uf(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Sc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Sc(e)}function Rs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jg(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),ji="__reactFiber$"+il,Ec="__reactProps$"+il,Zi="__reactContainer$"+il,Up="__reactEvents$"+il,fb="__reactListeners$"+il,pb="__reactHandles$"+il;function wa(t){var e=t[ji];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Zi]||r[ji]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Jg(t);t!==null;){if(r=t[ji])return r;t=Jg(t)}return e}t=r,r=t.parentNode}return null}function Wc(t){return t=t[ji]||t[Zi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Eo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(je(33))}function fh(t){return t[Ec]||null}var Bp=[],Co=-1;function Js(t){return{current:t}}function Ft(t){0>Co||(t.current=Bp[Co],Bp[Co]=null,Co--)}function It(t,e){Co++,Bp[Co]=t.current,t.current=e}var $s={},qr=Js($s),cn=Js(!1),ka=$s;function Ko(t,e){var r=t.type.contextTypes;if(!r)return $s;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function Md(){Ft(cn),Ft(qr)}function Kg(t,e,r){if(qr.current!==$s)throw Error(je(168));It(qr,e),It(cn,r)}function Ev(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(je(108,Qx(t)||"Unknown",i));return $t({},r,n)}function Ud(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||$s,ka=qr.current,It(qr,t),It(cn,cn.current),!0}function Yg(t,e,r){var n=t.stateNode;if(!n)throw Error(je(169));r?(t=Ev(t,e,ka),n.__reactInternalMemoizedMergedChildContext=t,Ft(cn),Ft(qr),It(qr,t)):Ft(cn),It(cn,r)}var Ji=null,ph=!1,Bf=!1;function Cv(t){Ji===null?Ji=[t]:Ji.push(t)}function mb(t){ph=!0,Cv(t)}function Ks(){if(!Bf&&Ji!==null){Bf=!0;var t=0,e=_t;try{var r=Ji;for(_t=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ji=null,ph=!1}catch(i){throw Ji!==null&&(Ji=Ji.slice(t+1)),tv(W0,Ks),i}finally{_t=e,Bf=!1}}return null}var Po=[],Oo=0,Bd=null,qd=0,In=[],Dn=0,Aa=null,Ki=1,Yi="";function pa(t,e){Po[Oo++]=qd,Po[Oo++]=Bd,Bd=t,qd=e}function Pv(t,e,r){In[Dn++]=Ki,In[Dn++]=Yi,In[Dn++]=Aa,Aa=t;var n=Ki;t=Yi;var i=32-oi(n)-1;n&=~(1<<i),r+=1;var s=32-oi(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Ki=1<<32-oi(e)+i|r<<i|n,Yi=s+t}else Ki=1<<s|r<<i|n,Yi=t}function em(t){t.return!==null&&(pa(t,1),Pv(t,1,0))}function tm(t){for(;t===Bd;)Bd=Po[--Oo],Po[Oo]=null,qd=Po[--Oo],Po[Oo]=null;for(;t===Aa;)Aa=In[--Dn],In[Dn]=null,Yi=In[--Dn],In[Dn]=null,Ki=In[--Dn],In[Dn]=null}var bn=null,xn=null,Mt=!1,ai=null;function Ov(t,e){var r=Rn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Xg(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,xn=Rs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Aa!==null?{id:Ki,overflow:Yi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Rn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bn=t,xn=null,!0):!1;default:return!1}}function qp(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $p(t){if(Mt){var e=xn;if(e){var r=e;if(!Xg(t,e)){if(qp(t))throw Error(je(418));e=Rs(r.nextSibling);var n=bn;e&&Xg(t,e)?Ov(n,r):(t.flags=t.flags&-4097|2,Mt=!1,bn=t)}}else{if(qp(t))throw Error(je(418));t.flags=t.flags&-4097|2,Mt=!1,bn=t}}}function Qg(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Xu(t){if(t!==bn)return!1;if(!Mt)return Qg(t),Mt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zp(t.type,t.memoizedProps)),e&&(e=xn)){if(qp(t))throw Iv(),Error(je(418));for(;e;)Ov(t,e),e=Rs(e.nextSibling)}if(Qg(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(je(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xn=Rs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=bn?Rs(t.stateNode.nextSibling):null;return!0}function Iv(){for(var t=xn;t;)t=Rs(t.nextSibling)}function Yo(){xn=bn=null,Mt=!1}function rm(t){ai===null?ai=[t]:ai.push(t)}var gb=rs.ReactCurrentBatchConfig;function Wl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(je(309));var n=r.stateNode}if(!n)throw Error(je(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(je(284));if(!r._owner)throw Error(je(290,t))}return t}function Qu(t,e){throw t=Object.prototype.toString.call(e),Error(je(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Zg(t){var e=t._init;return e(t._payload)}function Dv(t){function e(x,w){if(t){var S=x.deletions;S===null?(x.deletions=[w],x.flags|=16):S.push(w)}}function r(x,w){if(!t)return null;for(;w!==null;)e(x,w),w=w.sibling;return null}function n(x,w){for(x=new Map;w!==null;)w.key!==null?x.set(w.key,w):x.set(w.index,w),w=w.sibling;return x}function i(x,w){return x=Ms(x,w),x.index=0,x.sibling=null,x}function s(x,w,S){return x.index=S,t?(S=x.alternate,S!==null?(S=S.index,S<w?(x.flags|=2,w):S):(x.flags|=2,w)):(x.flags|=1048576,w)}function a(x){return t&&x.alternate===null&&(x.flags|=2),x}function o(x,w,S,F){return w===null||w.tag!==6?(w=Jf(S,x.mode,F),w.return=x,w):(w=i(w,S),w.return=x,w)}function c(x,w,S,F){var O=S.type;return O===jo?p(x,w,S.props.children,F,S.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===_s&&Zg(O)===w.type)?(F=i(w,S.props),F.ref=Wl(x,w,S),F.return=x,F):(F=jd(S.type,S.key,S.props,null,x.mode,F),F.ref=Wl(x,w,S),F.return=x,F)}function d(x,w,S,F){return w===null||w.tag!==4||w.stateNode.containerInfo!==S.containerInfo||w.stateNode.implementation!==S.implementation?(w=Kf(S,x.mode,F),w.return=x,w):(w=i(w,S.children||[]),w.return=x,w)}function p(x,w,S,F,O){return w===null||w.tag!==7?(w=Sa(S,x.mode,F,O),w.return=x,w):(w=i(w,S),w.return=x,w)}function m(x,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return w=Jf(""+w,x.mode,S),w.return=x,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bu:return S=jd(w.type,w.key,w.props,null,x.mode,S),S.ref=Wl(x,null,w),S.return=x,S;case So:return w=Kf(w,x.mode,S),w.return=x,w;case _s:var F=w._init;return m(x,F(w._payload),S)}if(Ql(w)||Ul(w))return w=Sa(w,x.mode,S,null),w.return=x,w;Qu(x,w)}return null}function y(x,w,S,F){var O=w!==null?w.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return O!==null?null:o(x,w,""+S,F);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:return S.key===O?c(x,w,S,F):null;case So:return S.key===O?d(x,w,S,F):null;case _s:return O=S._init,y(x,w,O(S._payload),F)}if(Ql(S)||Ul(S))return O!==null?null:p(x,w,S,F,null);Qu(x,S)}return null}function f(x,w,S,F,O){if(typeof F=="string"&&F!==""||typeof F=="number")return x=x.get(S)||null,o(w,x,""+F,O);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case Bu:return x=x.get(F.key===null?S:F.key)||null,c(w,x,F,O);case So:return x=x.get(F.key===null?S:F.key)||null,d(w,x,F,O);case _s:var H=F._init;return f(x,w,S,H(F._payload),O)}if(Ql(F)||Ul(F))return x=x.get(S)||null,p(w,x,F,O,null);Qu(w,F)}return null}function b(x,w,S,F){for(var O=null,H=null,z=w,L=w=0,U=null;z!==null&&L<S.length;L++){z.index>L?(U=z,z=null):U=z.sibling;var J=y(x,z,S[L],F);if(J===null){z===null&&(z=U);break}t&&z&&J.alternate===null&&e(x,z),w=s(J,w,L),H===null?O=J:H.sibling=J,H=J,z=U}if(L===S.length)return r(x,z),Mt&&pa(x,L),O;if(z===null){for(;L<S.length;L++)z=m(x,S[L],F),z!==null&&(w=s(z,w,L),H===null?O=z:H.sibling=z,H=z);return Mt&&pa(x,L),O}for(z=n(x,z);L<S.length;L++)U=f(z,x,L,S[L],F),U!==null&&(t&&U.alternate!==null&&z.delete(U.key===null?L:U.key),w=s(U,w,L),H===null?O=U:H.sibling=U,H=U);return t&&z.forEach(function(D){return e(x,D)}),Mt&&pa(x,L),O}function _(x,w,S,F){var O=Ul(S);if(typeof O!="function")throw Error(je(150));if(S=O.call(S),S==null)throw Error(je(151));for(var H=O=null,z=w,L=w=0,U=null,J=S.next();z!==null&&!J.done;L++,J=S.next()){z.index>L?(U=z,z=null):U=z.sibling;var D=y(x,z,J.value,F);if(D===null){z===null&&(z=U);break}t&&z&&D.alternate===null&&e(x,z),w=s(D,w,L),H===null?O=D:H.sibling=D,H=D,z=U}if(J.done)return r(x,z),Mt&&pa(x,L),O;if(z===null){for(;!J.done;L++,J=S.next())J=m(x,J.value,F),J!==null&&(w=s(J,w,L),H===null?O=J:H.sibling=J,H=J);return Mt&&pa(x,L),O}for(z=n(x,z);!J.done;L++,J=S.next())J=f(z,x,L,J.value,F),J!==null&&(t&&J.alternate!==null&&z.delete(J.key===null?L:J.key),w=s(J,w,L),H===null?O=J:H.sibling=J,H=J);return t&&z.forEach(function(T){return e(x,T)}),Mt&&pa(x,L),O}function j(x,w,S,F){if(typeof S=="object"&&S!==null&&S.type===jo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Bu:e:{for(var O=S.key,H=w;H!==null;){if(H.key===O){if(O=S.type,O===jo){if(H.tag===7){r(x,H.sibling),w=i(H,S.props.children),w.return=x,x=w;break e}}else if(H.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===_s&&Zg(O)===H.type){r(x,H.sibling),w=i(H,S.props),w.ref=Wl(x,H,S),w.return=x,x=w;break e}r(x,H);break}else e(x,H);H=H.sibling}S.type===jo?(w=Sa(S.props.children,x.mode,F,S.key),w.return=x,x=w):(F=jd(S.type,S.key,S.props,null,x.mode,F),F.ref=Wl(x,w,S),F.return=x,x=F)}return a(x);case So:e:{for(H=S.key;w!==null;){if(w.key===H)if(w.tag===4&&w.stateNode.containerInfo===S.containerInfo&&w.stateNode.implementation===S.implementation){r(x,w.sibling),w=i(w,S.children||[]),w.return=x,x=w;break e}else{r(x,w);break}else e(x,w);w=w.sibling}w=Kf(S,x.mode,F),w.return=x,x=w}return a(x);case _s:return H=S._init,j(x,w,H(S._payload),F)}if(Ql(S))return b(x,w,S,F);if(Ul(S))return _(x,w,S,F);Qu(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,w!==null&&w.tag===6?(r(x,w.sibling),w=i(w,S),w.return=x,x=w):(r(x,w),w=Jf(S,x.mode,F),w.return=x,x=w),a(x)):r(x,w)}return j}var Xo=Dv(!0),Rv=Dv(!1),$d=Js(null),Hd=null,Io=null,nm=null;function im(){nm=Io=Hd=null}function sm(t){var e=$d.current;Ft($d),t._currentValue=e}function Hp(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Bo(t,e){Hd=t,nm=Io=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(ln=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(nm!==t)if(t={context:t,memoizedValue:e,next:null},Io===null){if(Hd===null)throw Error(je(308));Io=t,Hd.dependencies={lanes:0,firstContext:t}}else Io=Io.next=t;return e}var ba=null;function am(t){ba===null?ba=[t]:ba.push(t)}function Tv(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,am(e)):(r.next=i.next,i.next=r),e.interleaved=r,es(t,n)}function es(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ss=!1;function om(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Xi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,mt&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,es(t,r)}return i=n.interleaved,i===null?(e.next=e,am(n)):(e.next=i.next,i.next=e),n.interleaved=e,es(t,r)}function xd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,V0(t,r)}}function e1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Wd(t,e,r,n){var i=t.updateQueue;Ss=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var p=t.alternate;p!==null&&(p=p.updateQueue,o=p.lastBaseUpdate,o!==a&&(o===null?p.firstBaseUpdate=d:o.next=d,p.lastBaseUpdate=c))}if(s!==null){var m=i.baseState;a=0,p=d=c=null,o=s;do{var y=o.lane,f=o.eventTime;if((n&y)===y){p!==null&&(p=p.next={eventTime:f,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var b=t,_=o;switch(y=e,f=r,_.tag){case 1:if(b=_.payload,typeof b=="function"){m=b.call(f,m,y);break e}m=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=_.payload,y=typeof b=="function"?b.call(f,m,y):b,y==null)break e;m=$t({},m,y);break e;case 2:Ss=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[o]:y.push(o))}else f={eventTime:f,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},p===null?(d=p=f,c=m):p=p.next=f,a|=y;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(1);if(p===null&&(c=m),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=p,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ea|=a,t.lanes=a,t.memoizedState=m}}function t1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(je(191,i));i.call(n)}}}var Vc={},Ei=Js(Vc),Cc=Js(Vc),Pc=Js(Vc);function Na(t){if(t===Vc)throw Error(je(174));return t}function lm(t,e){switch(It(Pc,e),It(Cc,t),It(Ei,Vc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sp(e,t)}Ft(Ei),It(Ei,e)}function Qo(){Ft(Ei),Ft(Cc),Ft(Pc)}function zv(t){Na(Pc.current);var e=Na(Ei.current),r=Sp(e,t.type);e!==r&&(It(Cc,t),It(Ei,r))}function cm(t){Cc.current===t&&(Ft(Ei),Ft(Cc))}var Bt=Js(0);function Vd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qf=[];function um(){for(var t=0;t<qf.length;t++)qf[t]._workInProgressVersionPrimary=null;qf.length=0}var wd=rs.ReactCurrentDispatcher,$f=rs.ReactCurrentBatchConfig,La=0,qt=null,mr=null,br=null,Gd=!1,lc=!1,Oc=0,vb=0;function Dr(){throw Error(je(321))}function dm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ci(t[r],e[r]))return!1;return!0}function hm(t,e,r,n,i,s){if(La=s,qt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wd.current=t===null||t.memoizedState===null?bb:Nb,t=r(n,i),lc){s=0;do{if(lc=!1,Oc=0,25<=s)throw Error(je(301));s+=1,br=mr=null,e.updateQueue=null,wd.current=_b,t=r(n,i)}while(lc)}if(wd.current=Jd,e=mr!==null&&mr.next!==null,La=0,br=mr=qt=null,Gd=!1,e)throw Error(je(300));return t}function fm(){var t=Oc!==0;return Oc=0,t}function Si(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return br===null?qt.memoizedState=br=t:br=br.next=t,br}function Mn(){if(mr===null){var t=qt.alternate;t=t!==null?t.memoizedState:null}else t=mr.next;var e=br===null?qt.memoizedState:br.next;if(e!==null)br=e,mr=t;else{if(t===null)throw Error(je(310));mr=t,t={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},br===null?qt.memoizedState=br=t:br=br.next=t}return br}function Ic(t,e){return typeof e=="function"?e(t):e}function Hf(t){var e=Mn(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=mr,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,c=null,d=s;do{var p=d.lane;if((La&p)===p)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:t(n,d.action);else{var m={lane:p,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=m,a=n):c=c.next=m,qt.lanes|=p,Ea|=p}d=d.next}while(d!==null&&d!==s);c===null?a=n:c.next=o,ci(n,e.memoizedState)||(ln=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,qt.lanes|=s,Ea|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Wf(t){var e=Mn(),r=e.queue;if(r===null)throw Error(je(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ci(s,e.memoizedState)||(ln=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Mv(){}function Uv(t,e){var r=qt,n=Mn(),i=e(),s=!ci(n.memoizedState,i);if(s&&(n.memoizedState=i,ln=!0),n=n.queue,pm($v.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||br!==null&&br.memoizedState.tag&1){if(r.flags|=2048,Dc(9,qv.bind(null,r,n,i,e),void 0,null),_r===null)throw Error(je(349));La&30||Bv(r,e,i)}return i}function Bv(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function qv(t,e,r,n){e.value=r,e.getSnapshot=n,Hv(e)&&Wv(t)}function $v(t,e,r){return r(function(){Hv(e)&&Wv(t)})}function Hv(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ci(t,r)}catch{return!0}}function Wv(t){var e=es(t,1);e!==null&&li(e,t,1,-1)}function r1(t){var e=Si();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ic,lastRenderedState:t},e.queue=t,t=t.dispatch=wb.bind(null,qt,t),[e.memoizedState,t]}function Dc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=qt.updateQueue,e===null?(e={lastEffect:null,stores:null},qt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Vv(){return Mn().memoizedState}function bd(t,e,r,n){var i=Si();qt.flags|=t,i.memoizedState=Dc(1|e,r,void 0,n===void 0?null:n)}function mh(t,e,r,n){var i=Mn();n=n===void 0?null:n;var s=void 0;if(mr!==null){var a=mr.memoizedState;if(s=a.destroy,n!==null&&dm(n,a.deps)){i.memoizedState=Dc(e,r,s,n);return}}qt.flags|=t,i.memoizedState=Dc(1|e,r,s,n)}function n1(t,e){return bd(8390656,8,t,e)}function pm(t,e){return mh(2048,8,t,e)}function Gv(t,e){return mh(4,2,t,e)}function Jv(t,e){return mh(4,4,t,e)}function Kv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Yv(t,e,r){return r=r!=null?r.concat([t]):null,mh(4,4,Kv.bind(null,e,t),r)}function mm(){}function Xv(t,e){var r=Mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Qv(t,e){var r=Mn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&dm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Zv(t,e,r){return La&21?(ci(r,e)||(r=iv(),qt.lanes|=r,Ea|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,ln=!0),t.memoizedState=r)}function yb(t,e){var r=_t;_t=r!==0&&4>r?r:4,t(!0);var n=$f.transition;$f.transition={};try{t(!1),e()}finally{_t=r,$f.transition=n}}function ey(){return Mn().memoizedState}function xb(t,e,r){var n=zs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},ty(t))ry(e,r);else if(r=Tv(t,e,r,n),r!==null){var i=Jr();li(r,t,n,i),ny(r,e,n)}}function wb(t,e,r){var n=zs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(ty(t))ry(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ci(o,a)){var c=e.interleaved;c===null?(i.next=i,am(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=Tv(t,e,i,n),r!==null&&(i=Jr(),li(r,t,n,i),ny(r,e,n))}}function ty(t){var e=t.alternate;return t===qt||e!==null&&e===qt}function ry(t,e){lc=Gd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function ny(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,V0(t,r)}}var Jd={readContext:zn,useCallback:Dr,useContext:Dr,useEffect:Dr,useImperativeHandle:Dr,useInsertionEffect:Dr,useLayoutEffect:Dr,useMemo:Dr,useReducer:Dr,useRef:Dr,useState:Dr,useDebugValue:Dr,useDeferredValue:Dr,useTransition:Dr,useMutableSource:Dr,useSyncExternalStore:Dr,useId:Dr,unstable_isNewReconciler:!1},bb={readContext:zn,useCallback:function(t,e){return Si().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:n1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,bd(4194308,4,Kv.bind(null,e,t),r)},useLayoutEffect:function(t,e){return bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return bd(4,2,t,e)},useMemo:function(t,e){var r=Si();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Si();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=xb.bind(null,qt,t),[n.memoizedState,t]},useRef:function(t){var e=Si();return t={current:t},e.memoizedState=t},useState:r1,useDebugValue:mm,useDeferredValue:function(t){return Si().memoizedState=t},useTransition:function(){var t=r1(!1),e=t[0];return t=yb.bind(null,t[1]),Si().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=qt,i=Si();if(Mt){if(r===void 0)throw Error(je(407));r=r()}else{if(r=e(),_r===null)throw Error(je(349));La&30||Bv(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,n1($v.bind(null,n,s,t),[t]),n.flags|=2048,Dc(9,qv.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Si(),e=_r.identifierPrefix;if(Mt){var r=Yi,n=Ki;r=(n&~(1<<32-oi(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Oc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=vb++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Nb={readContext:zn,useCallback:Xv,useContext:zn,useEffect:pm,useImperativeHandle:Yv,useInsertionEffect:Gv,useLayoutEffect:Jv,useMemo:Qv,useReducer:Hf,useRef:Vv,useState:function(){return Hf(Ic)},useDebugValue:mm,useDeferredValue:function(t){var e=Mn();return Zv(e,mr.memoizedState,t)},useTransition:function(){var t=Hf(Ic)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:Mv,useSyncExternalStore:Uv,useId:ey,unstable_isNewReconciler:!1},_b={readContext:zn,useCallback:Xv,useContext:zn,useEffect:pm,useImperativeHandle:Yv,useInsertionEffect:Gv,useLayoutEffect:Jv,useMemo:Qv,useReducer:Wf,useRef:Vv,useState:function(){return Wf(Ic)},useDebugValue:mm,useDeferredValue:function(t){var e=Mn();return mr===null?e.memoizedState=t:Zv(e,mr.memoizedState,t)},useTransition:function(){var t=Wf(Ic)[0],e=Mn().memoizedState;return[t,e]},useMutableSource:Mv,useSyncExternalStore:Uv,useId:ey,unstable_isNewReconciler:!1};function ri(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Wp(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:$t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var gh={isMounted:function(t){return(t=t._reactInternals)?Ia(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Jr(),i=zs(t),s=Xi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ts(t,s,i),e!==null&&(li(e,t,i,n),xd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Jr(),i=zs(t),s=Xi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ts(t,s,i),e!==null&&(li(e,t,i,n),xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Jr(),n=zs(t),i=Xi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ts(t,i,n),e!==null&&(li(e,t,n,r),xd(e,t,n))}};function i1(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!kc(r,n)||!kc(i,s):!0}function iy(t,e,r){var n=!1,i=$s,s=e.contextType;return typeof s=="object"&&s!==null?s=zn(s):(i=un(e)?ka:qr.current,n=e.contextTypes,s=(n=n!=null)?Ko(t,i):$s),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=gh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function s1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&gh.enqueueReplaceState(e,e.state,null)}function Vp(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},om(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zn(s):(s=un(e)?ka:qr.current,i.context=Ko(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Wp(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&gh.enqueueReplaceState(i,i.state,null),Wd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zo(t,e){try{var r="",n=e;do r+=Xx(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Vf(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Gp(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var Sb=typeof WeakMap=="function"?WeakMap:Map;function sy(t,e,r){r=Xi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Yd||(Yd=!0,n0=n),Gp(t,e)},r}function ay(t,e,r){r=Xi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Gp(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Gp(t,e),typeof n!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function a1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new Sb;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=zb.bind(null,t,e,r),e.then(t,t))}function o1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function l1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Xi(-1,1),e.tag=2,Ts(r,e,1))),r.lanes|=1),t)}var jb=rs.ReactCurrentOwner,ln=!1;function Vr(t,e,r,n){e.child=t===null?Rv(e,null,r,n):Xo(e,t.child,r,n)}function c1(t,e,r,n,i){r=r.render;var s=e.ref;return Bo(e,i),n=hm(t,e,r,n,s,i),r=fm(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ts(t,e,i)):(Mt&&r&&em(e),e.flags|=1,Vr(t,e,n,i),e.child)}function u1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!_m(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,oy(t,e,s,n,i)):(t=jd(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:kc,r(a,n)&&t.ref===e.ref)return ts(t,e,i)}return e.flags|=1,t=Ms(s,n),t.ref=e.ref,t.return=e,e.child=t}function oy(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(kc(s,n)&&t.ref===e.ref)if(ln=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(ln=!0);else return e.lanes=t.lanes,ts(t,e,i)}return Jp(t,e,r,n,i)}function ly(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},It(Ro,yn),yn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,It(Ro,yn),yn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,It(Ro,yn),yn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,It(Ro,yn),yn|=n;return Vr(t,e,i,r),e.child}function cy(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Jp(t,e,r,n,i){var s=un(r)?ka:qr.current;return s=Ko(e,s),Bo(e,i),r=hm(t,e,r,n,s,i),n=fm(),t!==null&&!ln?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ts(t,e,i)):(Mt&&n&&em(e),e.flags|=1,Vr(t,e,r,i),e.child)}function d1(t,e,r,n,i){if(un(r)){var s=!0;Ud(e)}else s=!1;if(Bo(e,i),e.stateNode===null)Nd(t,e),iy(e,r,n),Vp(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var c=a.context,d=r.contextType;typeof d=="object"&&d!==null?d=zn(d):(d=un(r)?ka:qr.current,d=Ko(e,d));var p=r.getDerivedStateFromProps,m=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||c!==d)&&s1(e,a,n,d),Ss=!1;var y=e.memoizedState;a.state=y,Wd(e,n,a,i),c=e.memoizedState,o!==n||y!==c||cn.current||Ss?(typeof p=="function"&&(Wp(e,r,p,n),c=e.memoizedState),(o=Ss||i1(e,r,o,n,y,c,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),a.props=n,a.state=c,a.context=d,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Fv(t,e),o=e.memoizedProps,d=e.type===e.elementType?o:ri(e.type,o),a.props=d,m=e.pendingProps,y=a.context,c=r.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=un(r)?ka:qr.current,c=Ko(e,c));var f=r.getDerivedStateFromProps;(p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||y!==c)&&s1(e,a,n,c),Ss=!1,y=e.memoizedState,a.state=y,Wd(e,n,a,i);var b=e.memoizedState;o!==m||y!==b||cn.current||Ss?(typeof f=="function"&&(Wp(e,r,f,n),b=e.memoizedState),(d=Ss||i1(e,r,d,n,y,b,c)||!1)?(p||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,b,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,b,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),a.props=n,a.state=b,a.context=c,n=d):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),n=!1)}return Kp(t,e,r,n,s,i)}function Kp(t,e,r,n,i,s){cy(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Yg(e,r,!1),ts(t,e,s);n=e.stateNode,jb.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Xo(e,t.child,null,s),e.child=Xo(e,null,o,s)):Vr(t,e,o,s),e.memoizedState=n.state,i&&Yg(e,r,!0),e.child}function uy(t){var e=t.stateNode;e.pendingContext?Kg(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kg(t,e.context,!1),lm(t,e.containerInfo)}function h1(t,e,r,n,i){return Yo(),rm(i),e.flags|=256,Vr(t,e,r,n),e.child}var Yp={dehydrated:null,treeContext:null,retryLane:0};function Xp(t){return{baseLanes:t,cachePool:null,transitions:null}}function dy(t,e,r){var n=e.pendingProps,i=Bt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),It(Bt,i&1),t===null)return $p(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=xh(a,n,0,null),t=Sa(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xp(r),e.memoizedState=Yp,t):gm(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return kb(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var c={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ms(i,c),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ms(o,s):(s=Sa(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Xp(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Yp,n}return s=t.child,t=s.sibling,n=Ms(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function gm(t,e){return e=xh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zu(t,e,r,n){return n!==null&&rm(n),Xo(e,t.child,null,r),t=gm(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kb(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Vf(Error(je(422))),Zu(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=xh({mode:"visible",children:n.children},i,0,null),s=Sa(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Xo(e,t.child,null,a),e.child.memoizedState=Xp(a),e.memoizedState=Yp,s);if(!(e.mode&1))return Zu(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(je(419)),n=Vf(s,n,void 0),Zu(t,e,a,n)}if(o=(a&t.childLanes)!==0,ln||o){if(n=_r,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,es(t,i),li(n,t,i,-1))}return Nm(),n=Vf(Error(je(421))),Zu(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Mb.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xn=Rs(i.nextSibling),bn=e,Mt=!0,ai=null,t!==null&&(In[Dn++]=Ki,In[Dn++]=Yi,In[Dn++]=Aa,Ki=t.id,Yi=t.overflow,Aa=e),e=gm(e,n.children),e.flags|=4096,e)}function f1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Hp(t.return,e,r)}function Gf(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function hy(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Vr(t,e,n.children,r),n=Bt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&f1(t,r,e);else if(t.tag===19)f1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(It(Bt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Vd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Gf(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Vd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Gf(e,!0,r,null,s);break;case"together":Gf(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ts(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Ea|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(je(153));if(e.child!==null){for(t=e.child,r=Ms(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ms(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function Ab(t,e,r){switch(e.tag){case 3:uy(e),Yo();break;case 5:zv(e);break;case 1:un(e.type)&&Ud(e);break;case 4:lm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;It($d,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(It(Bt,Bt.current&1),e.flags|=128,null):r&e.child.childLanes?dy(t,e,r):(It(Bt,Bt.current&1),t=ts(t,e,r),t!==null?t.sibling:null);It(Bt,Bt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return hy(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),It(Bt,Bt.current),n)break;return null;case 22:case 23:return e.lanes=0,ly(t,e,r)}return ts(t,e,r)}var fy,Qp,py,my;fy=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Qp=function(){};py=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Na(Ei.current);var s=null;switch(r){case"input":i=wp(t,i),n=wp(t,n),s=[];break;case"select":i=$t({},i,{value:void 0}),n=$t({},n,{value:void 0}),s=[];break;case"textarea":i=_p(t,i),n=_p(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=zd)}jp(r,n);var a;r=null;for(d in i)if(!n.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(xc.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in n){var c=n[d];if(o=i!=null?i[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in c)c.hasOwnProperty(a)&&o[a]!==c[a]&&(r||(r={}),r[a]=c[a])}else r||(s||(s=[]),s.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(xc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Dt("scroll",t),s||o===c||(s=[])):(s=s||[]).push(d,c))}r&&(s=s||[]).push("style",r);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};my=function(t,e,r,n){r!==n&&(e.flags|=4)};function Vl(t,e){if(!Mt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Rr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function Lb(t,e,r){var n=e.pendingProps;switch(tm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rr(e),null;case 1:return un(e.type)&&Md(),Rr(e),null;case 3:return n=e.stateNode,Qo(),Ft(cn),Ft(qr),um(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(a0(ai),ai=null))),Qp(t,e),Rr(e),null;case 5:cm(e);var i=Na(Pc.current);if(r=e.type,t!==null&&e.stateNode!=null)py(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(je(166));return Rr(e),null}if(t=Na(Ei.current),Xu(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ji]=e,n[Ec]=s,t=(e.mode&1)!==0,r){case"dialog":Dt("cancel",n),Dt("close",n);break;case"iframe":case"object":case"embed":Dt("load",n);break;case"video":case"audio":for(i=0;i<ec.length;i++)Dt(ec[i],n);break;case"source":Dt("error",n);break;case"img":case"image":case"link":Dt("error",n),Dt("load",n);break;case"details":Dt("toggle",n);break;case"input":Ng(n,s),Dt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Dt("invalid",n);break;case"textarea":Sg(n,s),Dt("invalid",n)}jp(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Yu(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Yu(n.textContent,o,t),i=["children",""+o]):xc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Dt("scroll",n)}switch(r){case"input":qu(n),_g(n,s,!0);break;case"textarea":qu(n),jg(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=zd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=$2(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[ji]=e,t[Ec]=n,fy(t,e,!1,!1),e.stateNode=t;e:{switch(a=kp(r,n),r){case"dialog":Dt("cancel",t),Dt("close",t),i=n;break;case"iframe":case"object":case"embed":Dt("load",t),i=n;break;case"video":case"audio":for(i=0;i<ec.length;i++)Dt(ec[i],t);i=n;break;case"source":Dt("error",t),i=n;break;case"img":case"image":case"link":Dt("error",t),Dt("load",t),i=n;break;case"details":Dt("toggle",t),i=n;break;case"input":Ng(t,n),i=wp(t,n),Dt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=$t({},n,{value:void 0}),Dt("invalid",t);break;case"textarea":Sg(t,n),i=_p(t,n),Dt("invalid",t);break;default:i=n}jp(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="style"?V2(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&H2(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&wc(t,c):typeof c=="number"&&wc(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xc.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Dt("scroll",t):c!=null&&U0(t,s,c,a))}switch(r){case"input":qu(t),_g(t,n,!1);break;case"textarea":qu(t),jg(t);break;case"option":n.value!=null&&t.setAttribute("value",""+qs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Fo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Fo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Rr(e),null;case 6:if(t&&e.stateNode!=null)my(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(je(166));if(r=Na(Pc.current),Na(Ei.current),Xu(e)){if(n=e.stateNode,r=e.memoizedProps,n[ji]=e,(s=n.nodeValue!==r)&&(t=bn,t!==null))switch(t.tag){case 3:Yu(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Yu(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ji]=e,e.stateNode=n}return Rr(e),null;case 13:if(Ft(Bt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Mt&&xn!==null&&e.mode&1&&!(e.flags&128))Iv(),Yo(),e.flags|=98560,s=!1;else if(s=Xu(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(je(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(je(317));s[ji]=e}else Yo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Rr(e),s=!1}else ai!==null&&(a0(ai),ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Bt.current&1?gr===0&&(gr=3):Nm())),e.updateQueue!==null&&(e.flags|=4),Rr(e),null);case 4:return Qo(),Qp(t,e),t===null&&Ac(e.stateNode.containerInfo),Rr(e),null;case 10:return sm(e.type._context),Rr(e),null;case 17:return un(e.type)&&Md(),Rr(e),null;case 19:if(Ft(Bt),s=e.memoizedState,s===null)return Rr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Vl(s,!1);else{if(gr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Vd(t),a!==null){for(e.flags|=128,Vl(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return It(Bt,Bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&tr()>el&&(e.flags|=128,n=!0,Vl(s,!1),e.lanes=4194304)}else{if(!n)if(t=Vd(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Vl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Mt)return Rr(e),null}else 2*tr()-s.renderingStartTime>el&&r!==1073741824&&(e.flags|=128,n=!0,Vl(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=tr(),e.sibling=null,r=Bt.current,It(Bt,n?r&1|2:r&1),e):(Rr(e),null);case 22:case 23:return bm(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?yn&1073741824&&(Rr(e),e.subtreeFlags&6&&(e.flags|=8192)):Rr(e),null;case 24:return null;case 25:return null}throw Error(je(156,e.tag))}function Eb(t,e){switch(tm(e),e.tag){case 1:return un(e.type)&&Md(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Qo(),Ft(cn),Ft(qr),um(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return cm(e),null;case 13:if(Ft(Bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(je(340));Yo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ft(Bt),null;case 4:return Qo(),null;case 10:return sm(e.type._context),null;case 22:case 23:return bm(),null;case 24:return null;default:return null}}var ed=!1,Ur=!1,Cb=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Do(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Kt(t,e,n)}else r.current=null}function Zp(t,e,r){try{r()}catch(n){Kt(t,e,n)}}var p1=!1;function Pb(t,e){if(Tp=Rd,t=wv(),Z0(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,c=-1,d=0,p=0,m=t,y=null;t:for(;;){for(var f;m!==r||i!==0&&m.nodeType!==3||(o=a+i),m!==s||n!==0&&m.nodeType!==3||(c=a+n),m.nodeType===3&&(a+=m.nodeValue.length),(f=m.firstChild)!==null;)y=m,m=f;for(;;){if(m===t)break t;if(y===r&&++d===i&&(o=a),y===s&&++p===n&&(c=a),(f=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=f}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Fp={focusedElem:t,selectionRange:r},Rd=!1,ze=e;ze!==null;)if(e=ze,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ze=t;else for(;ze!==null;){e=ze;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var _=b.memoizedProps,j=b.memoizedState,x=e.stateNode,w=x.getSnapshotBeforeUpdate(e.elementType===e.type?_:ri(e.type,_),j);x.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(je(163))}}catch(F){Kt(e,e.return,F)}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}return b=p1,p1=!1,b}function cc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Zp(e,r,s)}i=i.next}while(i!==n)}}function vh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function e0(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function gy(t){var e=t.alternate;e!==null&&(t.alternate=null,gy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ji],delete e[Ec],delete e[Up],delete e[fb],delete e[pb])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vy(t){return t.tag===5||t.tag===3||t.tag===4}function m1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function t0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=zd));else if(n!==4&&(t=t.child,t!==null))for(t0(t,e,r),t=t.sibling;t!==null;)t0(t,e,r),t=t.sibling}function r0(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(r0(t,e,r),t=t.sibling;t!==null;)r0(t,e,r),t=t.sibling}var Lr=null,ii=!1;function vs(t,e,r){for(r=r.child;r!==null;)yy(t,e,r),r=r.sibling}function yy(t,e,r){if(Li&&typeof Li.onCommitFiberUnmount=="function")try{Li.onCommitFiberUnmount(ch,r)}catch{}switch(r.tag){case 5:Ur||Do(r,e);case 6:var n=Lr,i=ii;Lr=null,vs(t,e,r),Lr=n,ii=i,Lr!==null&&(ii?(t=Lr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Lr.removeChild(r.stateNode));break;case 18:Lr!==null&&(ii?(t=Lr,r=r.stateNode,t.nodeType===8?Uf(t.parentNode,r):t.nodeType===1&&Uf(t,r),Sc(t)):Uf(Lr,r.stateNode));break;case 4:n=Lr,i=ii,Lr=r.stateNode.containerInfo,ii=!0,vs(t,e,r),Lr=n,ii=i;break;case 0:case 11:case 14:case 15:if(!Ur&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Zp(r,e,a),i=i.next}while(i!==n)}vs(t,e,r);break;case 1:if(!Ur&&(Do(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Kt(r,e,o)}vs(t,e,r);break;case 21:vs(t,e,r);break;case 22:r.mode&1?(Ur=(n=Ur)||r.memoizedState!==null,vs(t,e,r),Ur=n):vs(t,e,r);break;default:vs(t,e,r)}}function g1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new Cb),e.forEach(function(n){var i=Ub.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Qn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Lr=o.stateNode,ii=!1;break e;case 3:Lr=o.stateNode.containerInfo,ii=!0;break e;case 4:Lr=o.stateNode.containerInfo,ii=!0;break e}o=o.return}if(Lr===null)throw Error(je(160));yy(s,a,i),Lr=null,ii=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){Kt(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xy(e,t),e=e.sibling}function xy(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),Ni(t),n&4){try{cc(3,t,t.return),vh(3,t)}catch(_){Kt(t,t.return,_)}try{cc(5,t,t.return)}catch(_){Kt(t,t.return,_)}}break;case 1:Qn(e,t),Ni(t),n&512&&r!==null&&Do(r,r.return);break;case 5:if(Qn(e,t),Ni(t),n&512&&r!==null&&Do(r,r.return),t.flags&32){var i=t.stateNode;try{wc(i,"")}catch(_){Kt(t,t.return,_)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&B2(i,s),kp(o,a);var d=kp(o,s);for(a=0;a<c.length;a+=2){var p=c[a],m=c[a+1];p==="style"?V2(i,m):p==="dangerouslySetInnerHTML"?H2(i,m):p==="children"?wc(i,m):U0(i,p,m,d)}switch(o){case"input":bp(i,s);break;case"textarea":q2(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Fo(i,!!s.multiple,f,!1):y!==!!s.multiple&&(s.defaultValue!=null?Fo(i,!!s.multiple,s.defaultValue,!0):Fo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ec]=s}catch(_){Kt(t,t.return,_)}}break;case 6:if(Qn(e,t),Ni(t),n&4){if(t.stateNode===null)throw Error(je(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Kt(t,t.return,_)}}break;case 3:if(Qn(e,t),Ni(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Sc(e.containerInfo)}catch(_){Kt(t,t.return,_)}break;case 4:Qn(e,t),Ni(t);break;case 13:Qn(e,t),Ni(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(xm=tr())),n&4&&g1(t);break;case 22:if(p=r!==null&&r.memoizedState!==null,t.mode&1?(Ur=(d=Ur)||p,Qn(e,t),Ur=d):Qn(e,t),Ni(t),n&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!p&&t.mode&1)for(ze=t,p=t.child;p!==null;){for(m=ze=p;ze!==null;){switch(y=ze,f=y.child,y.tag){case 0:case 11:case 14:case 15:cc(4,y,y.return);break;case 1:Do(y,y.return);var b=y.stateNode;if(typeof b.componentWillUnmount=="function"){n=y,r=y.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(_){Kt(n,r,_)}}break;case 5:Do(y,y.return);break;case 22:if(y.memoizedState!==null){y1(m);continue}}f!==null?(f.return=y,ze=f):y1(m)}p=p.sibling}e:for(p=null,m=t;;){if(m.tag===5){if(p===null){p=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,c=m.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=W2("display",a))}catch(_){Kt(t,t.return,_)}}}else if(m.tag===6){if(p===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(_){Kt(t,t.return,_)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===t)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;p===m&&(p=null),m=m.return}p===m&&(p=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:Qn(e,t),Ni(t),n&4&&g1(t);break;case 21:break;default:Qn(e,t),Ni(t)}}function Ni(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(vy(r)){var n=r;break e}r=r.return}throw Error(je(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wc(i,""),n.flags&=-33);var s=m1(t);r0(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=m1(t);t0(t,o,a);break;default:throw Error(je(161))}}catch(c){Kt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Ob(t,e,r){ze=t,wy(t)}function wy(t,e,r){for(var n=(t.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ed;if(!a){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Ur;o=ed;var d=Ur;if(ed=a,(Ur=c)&&!d)for(ze=i;ze!==null;)a=ze,c=a.child,a.tag===22&&a.memoizedState!==null?x1(i):c!==null?(c.return=a,ze=c):x1(i);for(;s!==null;)ze=s,wy(s),s=s.sibling;ze=i,ed=o,Ur=d}v1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):v1(t)}}function v1(t){for(;ze!==null;){var e=ze;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ur||vh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Ur)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ri(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&t1(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}t1(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var p=d.memoizedState;if(p!==null){var m=p.dehydrated;m!==null&&Sc(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(je(163))}Ur||e.flags&512&&e0(e)}catch(y){Kt(e,e.return,y)}}if(e===t){ze=null;break}if(r=e.sibling,r!==null){r.return=e.return,ze=r;break}ze=e.return}}function y1(t){for(;ze!==null;){var e=ze;if(e===t){ze=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ze=r;break}ze=e.return}}function x1(t){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{vh(4,e)}catch(c){Kt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){Kt(e,i,c)}}var s=e.return;try{e0(e)}catch(c){Kt(e,s,c)}break;case 5:var a=e.return;try{e0(e)}catch(c){Kt(e,a,c)}}}catch(c){Kt(e,e.return,c)}if(e===t){ze=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ze=o;break}ze=e.return}}var Ib=Math.ceil,Kd=rs.ReactCurrentDispatcher,vm=rs.ReactCurrentOwner,Tn=rs.ReactCurrentBatchConfig,mt=0,_r=null,ur=null,Er=0,yn=0,Ro=Js(0),gr=0,Rc=null,Ea=0,yh=0,ym=0,uc=null,an=null,xm=0,el=1/0,Wi=null,Yd=!1,n0=null,Fs=null,td=!1,Es=null,Xd=0,dc=0,i0=null,_d=-1,Sd=0;function Jr(){return mt&6?tr():_d!==-1?_d:_d=tr()}function zs(t){return t.mode&1?mt&2&&Er!==0?Er&-Er:gb.transition!==null?(Sd===0&&(Sd=iv()),Sd):(t=_t,t!==0||(t=window.event,t=t===void 0?16:dv(t.type)),t):1}function li(t,e,r,n){if(50<dc)throw dc=0,i0=null,Error(je(185));$c(t,r,n),(!(mt&2)||t!==_r)&&(t===_r&&(!(mt&2)&&(yh|=r),gr===4&&ks(t,Er)),dn(t,n),r===1&&mt===0&&!(e.mode&1)&&(el=tr()+500,ph&&Ks()))}function dn(t,e){var r=t.callbackNode;gw(t,e);var n=Dd(t,t===_r?Er:0);if(n===0)r!==null&&Lg(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&Lg(r),e===1)t.tag===0?mb(w1.bind(null,t)):Cv(w1.bind(null,t)),db(function(){!(mt&6)&&Ks()}),r=null;else{switch(sv(n)){case 1:r=W0;break;case 4:r=rv;break;case 16:r=Id;break;case 536870912:r=nv;break;default:r=Id}r=Ly(r,by.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function by(t,e){if(_d=-1,Sd=0,mt&6)throw Error(je(327));var r=t.callbackNode;if(qo()&&t.callbackNode!==r)return null;var n=Dd(t,t===_r?Er:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Qd(t,n);else{e=n;var i=mt;mt|=2;var s=_y();(_r!==t||Er!==e)&&(Wi=null,el=tr()+500,_a(t,e));do try{Tb();break}catch(o){Ny(t,o)}while(1);im(),Kd.current=s,mt=i,ur!==null?e=0:(_r=null,Er=0,e=gr)}if(e!==0){if(e===2&&(i=Pp(t),i!==0&&(n=i,e=s0(t,i))),e===1)throw r=Rc,_a(t,0),ks(t,n),dn(t,tr()),r;if(e===6)ks(t,n);else{if(i=t.current.alternate,!(n&30)&&!Db(i)&&(e=Qd(t,n),e===2&&(s=Pp(t),s!==0&&(n=s,e=s0(t,s))),e===1))throw r=Rc,_a(t,0),ks(t,n),dn(t,tr()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(je(345));case 2:ma(t,an,Wi);break;case 3:if(ks(t,n),(n&130023424)===n&&(e=xm+500-tr(),10<e)){if(Dd(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mp(ma.bind(null,t,an,Wi),e);break}ma(t,an,Wi);break;case 4:if(ks(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-oi(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=tr()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ib(n/1960))-n,10<n){t.timeoutHandle=Mp(ma.bind(null,t,an,Wi),n);break}ma(t,an,Wi);break;case 5:ma(t,an,Wi);break;default:throw Error(je(329))}}}return dn(t,tr()),t.callbackNode===r?by.bind(null,t):null}function s0(t,e){var r=uc;return t.current.memoizedState.isDehydrated&&(_a(t,e).flags|=256),t=Qd(t,e),t!==2&&(e=an,an=r,e!==null&&a0(e)),t}function a0(t){an===null?an=t:an.push.apply(an,t)}function Db(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ci(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ks(t,e){for(e&=~ym,e&=~yh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-oi(e),n=1<<r;t[r]=-1,e&=~n}}function w1(t){if(mt&6)throw Error(je(327));qo();var e=Dd(t,0);if(!(e&1))return dn(t,tr()),null;var r=Qd(t,e);if(t.tag!==0&&r===2){var n=Pp(t);n!==0&&(e=n,r=s0(t,n))}if(r===1)throw r=Rc,_a(t,0),ks(t,e),dn(t,tr()),r;if(r===6)throw Error(je(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ma(t,an,Wi),dn(t,tr()),null}function wm(t,e){var r=mt;mt|=1;try{return t(e)}finally{mt=r,mt===0&&(el=tr()+500,ph&&Ks())}}function Ca(t){Es!==null&&Es.tag===0&&!(mt&6)&&qo();var e=mt;mt|=1;var r=Tn.transition,n=_t;try{if(Tn.transition=null,_t=1,t)return t()}finally{_t=n,Tn.transition=r,mt=e,!(mt&6)&&Ks()}}function bm(){yn=Ro.current,Ft(Ro)}function _a(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,ub(r)),ur!==null)for(r=ur.return;r!==null;){var n=r;switch(tm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Md();break;case 3:Qo(),Ft(cn),Ft(qr),um();break;case 5:cm(n);break;case 4:Qo();break;case 13:Ft(Bt);break;case 19:Ft(Bt);break;case 10:sm(n.type._context);break;case 22:case 23:bm()}r=r.return}if(_r=t,ur=t=Ms(t.current,null),Er=yn=e,gr=0,Rc=null,ym=yh=Ea=0,an=uc=null,ba!==null){for(e=0;e<ba.length;e++)if(r=ba[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}ba=null}return t}function Ny(t,e){do{var r=ur;try{if(im(),wd.current=Jd,Gd){for(var n=qt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Gd=!1}if(La=0,br=mr=qt=null,lc=!1,Oc=0,vm.current=null,r===null||r.return===null){gr=1,Rc=e,ur=null;break}e:{var s=t,a=r.return,o=r,c=e;if(e=Er,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,p=o,m=p.tag;if(!(p.mode&1)&&(m===0||m===11||m===15)){var y=p.alternate;y?(p.updateQueue=y.updateQueue,p.memoizedState=y.memoizedState,p.lanes=y.lanes):(p.updateQueue=null,p.memoizedState=null)}var f=o1(a);if(f!==null){f.flags&=-257,l1(f,a,o,s,e),f.mode&1&&a1(s,d,e),e=f,c=d;var b=e.updateQueue;if(b===null){var _=new Set;_.add(c),e.updateQueue=_}else b.add(c);break e}else{if(!(e&1)){a1(s,d,e),Nm();break e}c=Error(je(426))}}else if(Mt&&o.mode&1){var j=o1(a);if(j!==null){!(j.flags&65536)&&(j.flags|=256),l1(j,a,o,s,e),rm(Zo(c,o));break e}}s=c=Zo(c,o),gr!==4&&(gr=2),uc===null?uc=[s]:uc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var x=sy(s,c,e);e1(s,x);break e;case 1:o=c;var w=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Fs===null||!Fs.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var F=ay(s,o,e);e1(s,F);break e}}s=s.return}while(s!==null)}jy(r)}catch(O){e=O,ur===r&&r!==null&&(ur=r=r.return);continue}break}while(1)}function _y(){var t=Kd.current;return Kd.current=Jd,t===null?Jd:t}function Nm(){(gr===0||gr===3||gr===2)&&(gr=4),_r===null||!(Ea&268435455)&&!(yh&268435455)||ks(_r,Er)}function Qd(t,e){var r=mt;mt|=2;var n=_y();(_r!==t||Er!==e)&&(Wi=null,_a(t,e));do try{Rb();break}catch(i){Ny(t,i)}while(1);if(im(),mt=r,Kd.current=n,ur!==null)throw Error(je(261));return _r=null,Er=0,gr}function Rb(){for(;ur!==null;)Sy(ur)}function Tb(){for(;ur!==null&&!ow();)Sy(ur)}function Sy(t){var e=Ay(t.alternate,t,yn);t.memoizedProps=t.pendingProps,e===null?jy(t):ur=e,vm.current=null}function jy(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=Eb(r,e),r!==null){r.flags&=32767,ur=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{gr=6,ur=null;return}}else if(r=Lb(r,e,yn),r!==null){ur=r;return}if(e=e.sibling,e!==null){ur=e;return}ur=e=t}while(e!==null);gr===0&&(gr=5)}function ma(t,e,r){var n=_t,i=Tn.transition;try{Tn.transition=null,_t=1,Fb(t,e,r,n)}finally{Tn.transition=i,_t=n}return null}function Fb(t,e,r,n){do qo();while(Es!==null);if(mt&6)throw Error(je(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(je(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(vw(t,s),t===_r&&(ur=_r=null,Er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||td||(td=!0,Ly(Id,function(){return qo(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Tn.transition,Tn.transition=null;var a=_t;_t=1;var o=mt;mt|=4,vm.current=null,Pb(t,r),xy(r,t),nb(Fp),Rd=!!Tp,Fp=Tp=null,t.current=r,Ob(r),lw(),mt=o,_t=a,Tn.transition=s}else t.current=r;if(td&&(td=!1,Es=t,Xd=i),s=t.pendingLanes,s===0&&(Fs=null),dw(r.stateNode),dn(t,tr()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Yd)throw Yd=!1,t=n0,n0=null,t;return Xd&1&&t.tag!==0&&qo(),s=t.pendingLanes,s&1?t===i0?dc++:(dc=0,i0=t):dc=0,Ks(),null}function qo(){if(Es!==null){var t=sv(Xd),e=Tn.transition,r=_t;try{if(Tn.transition=null,_t=16>t?16:t,Es===null)var n=!1;else{if(t=Es,Es=null,Xd=0,mt&6)throw Error(je(331));var i=mt;for(mt|=4,ze=t.current;ze!==null;){var s=ze,a=s.child;if(ze.flags&16){var o=s.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(ze=d;ze!==null;){var p=ze;switch(p.tag){case 0:case 11:case 15:cc(8,p,s)}var m=p.child;if(m!==null)m.return=p,ze=m;else for(;ze!==null;){p=ze;var y=p.sibling,f=p.return;if(gy(p),p===d){ze=null;break}if(y!==null){y.return=f,ze=y;break}ze=f}}}var b=s.alternate;if(b!==null){var _=b.child;if(_!==null){b.child=null;do{var j=_.sibling;_.sibling=null,_=j}while(_!==null)}}ze=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ze=a;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:cc(9,s,s.return)}var x=s.sibling;if(x!==null){x.return=s.return,ze=x;break e}ze=s.return}}var w=t.current;for(ze=w;ze!==null;){a=ze;var S=a.child;if(a.subtreeFlags&2064&&S!==null)S.return=a,ze=S;else e:for(a=w;ze!==null;){if(o=ze,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:vh(9,o)}}catch(O){Kt(o,o.return,O)}if(o===a){ze=null;break e}var F=o.sibling;if(F!==null){F.return=o.return,ze=F;break e}ze=o.return}}if(mt=i,Ks(),Li&&typeof Li.onPostCommitFiberRoot=="function")try{Li.onPostCommitFiberRoot(ch,t)}catch{}n=!0}return n}finally{_t=r,Tn.transition=e}}return!1}function b1(t,e,r){e=Zo(r,e),e=sy(t,e,1),t=Ts(t,e,1),e=Jr(),t!==null&&($c(t,1,e),dn(t,e))}function Kt(t,e,r){if(t.tag===3)b1(t,t,r);else for(;e!==null;){if(e.tag===3){b1(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fs===null||!Fs.has(n))){t=Zo(r,t),t=ay(e,t,1),e=Ts(e,t,1),t=Jr(),e!==null&&($c(e,1,t),dn(e,t));break}}e=e.return}}function zb(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Jr(),t.pingedLanes|=t.suspendedLanes&r,_r===t&&(Er&r)===r&&(gr===4||gr===3&&(Er&130023424)===Er&&500>tr()-xm?_a(t,0):ym|=r),dn(t,e)}function ky(t,e){e===0&&(t.mode&1?(e=Wu,Wu<<=1,!(Wu&130023424)&&(Wu=4194304)):e=1);var r=Jr();t=es(t,e),t!==null&&($c(t,e,r),dn(t,r))}function Mb(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),ky(t,r)}function Ub(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(je(314))}n!==null&&n.delete(e),ky(t,r)}var Ay;Ay=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||cn.current)ln=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return ln=!1,Ab(t,e,r);ln=!!(t.flags&131072)}else ln=!1,Mt&&e.flags&1048576&&Pv(e,qd,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Nd(t,e),t=e.pendingProps;var i=Ko(e,qr.current);Bo(e,r),i=hm(null,e,n,t,i,r);var s=fm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(n)?(s=!0,Ud(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,om(e),i.updater=gh,e.stateNode=i,i._reactInternals=e,Vp(e,n,t,r),e=Kp(null,e,n,!0,s,r)):(e.tag=0,Mt&&s&&em(e),Vr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Nd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=qb(n),t=ri(n,t),i){case 0:e=Jp(null,e,n,t,r);break e;case 1:e=d1(null,e,n,t,r);break e;case 11:e=c1(null,e,n,t,r);break e;case 14:e=u1(null,e,n,ri(n.type,t),r);break e}throw Error(je(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),Jp(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),d1(t,e,n,i,r);case 3:e:{if(uy(e),t===null)throw Error(je(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Fv(t,e),Wd(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zo(Error(je(423)),e),e=h1(t,e,n,r,i);break e}else if(n!==i){i=Zo(Error(je(424)),e),e=h1(t,e,n,r,i);break e}else for(xn=Rs(e.stateNode.containerInfo.firstChild),bn=e,Mt=!0,ai=null,r=Rv(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Yo(),n===i){e=ts(t,e,r);break e}Vr(t,e,n,r)}e=e.child}return e;case 5:return zv(e),t===null&&$p(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,zp(n,i)?a=null:s!==null&&zp(n,s)&&(e.flags|=32),cy(t,e),Vr(t,e,a,r),e.child;case 6:return t===null&&$p(e),null;case 13:return dy(t,e,r);case 4:return lm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xo(e,null,n,r):Vr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),c1(t,e,n,i,r);case 7:return Vr(t,e,e.pendingProps,r),e.child;case 8:return Vr(t,e,e.pendingProps.children,r),e.child;case 12:return Vr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,It($d,n._currentValue),n._currentValue=a,s!==null)if(ci(s.value,a)){if(s.children===i.children&&!cn.current){e=ts(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Xi(-1,r&-r),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var p=d.pending;p===null?c.next=c:(c.next=p.next,p.next=c),d.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Hp(s.return,r,e),o.lanes|=r;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(je(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),Hp(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Vr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Bo(e,r),i=zn(i),n=n(i),e.flags|=1,Vr(t,e,n,r),e.child;case 14:return n=e.type,i=ri(n,e.pendingProps),i=ri(n.type,i),u1(t,e,n,i,r);case 15:return oy(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),Nd(t,e),e.tag=1,un(n)?(t=!0,Ud(e)):t=!1,Bo(e,r),iy(e,n,i),Vp(e,n,i,r),Kp(null,e,n,!0,t,r);case 19:return hy(t,e,r);case 22:return ly(t,e,r)}throw Error(je(156,e.tag))};function Ly(t,e){return tv(t,e)}function Bb(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rn(t,e,r,n){return new Bb(t,e,r,n)}function _m(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qb(t){if(typeof t=="function")return _m(t)?1:0;if(t!=null){if(t=t.$$typeof,t===q0)return 11;if(t===$0)return 14}return 2}function Ms(t,e){var r=t.alternate;return r===null?(r=Rn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function jd(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")_m(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case jo:return Sa(r.children,i,s,e);case B0:a=8,i|=8;break;case gp:return t=Rn(12,r,e,i|2),t.elementType=gp,t.lanes=s,t;case vp:return t=Rn(13,r,e,i),t.elementType=vp,t.lanes=s,t;case yp:return t=Rn(19,r,e,i),t.elementType=yp,t.lanes=s,t;case z2:return xh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T2:a=10;break e;case F2:a=9;break e;case q0:a=11;break e;case $0:a=14;break e;case _s:a=16,n=null;break e}throw Error(je(130,t==null?t:typeof t,""))}return e=Rn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Sa(t,e,r,n){return t=Rn(7,t,n,e),t.lanes=r,t}function xh(t,e,r,n){return t=Rn(22,t,n,e),t.elementType=z2,t.lanes=r,t.stateNode={isHidden:!1},t}function Jf(t,e,r){return t=Rn(6,t,null,e),t.lanes=r,t}function Kf(t,e,r){return e=Rn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $b(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ef(0),this.expirationTimes=Ef(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ef(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sm(t,e,r,n,i,s,a,o,c){return t=new $b(t,e,r,o,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Rn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},om(s),t}function Hb(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:So,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Ey(t){if(!t)return $s;t=t._reactInternals;e:{if(Ia(t)!==t||t.tag!==1)throw Error(je(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(je(171))}if(t.tag===1){var r=t.type;if(un(r))return Ev(t,r,e)}return e}function Cy(t,e,r,n,i,s,a,o,c){return t=Sm(r,n,!0,t,i,s,a,o,c),t.context=Ey(null),r=t.current,n=Jr(),i=zs(r),s=Xi(n,i),s.callback=e??null,Ts(r,s,i),t.current.lanes=i,$c(t,i,n),dn(t,n),t}function wh(t,e,r,n){var i=e.current,s=Jr(),a=zs(i);return r=Ey(r),e.context===null?e.context=r:e.pendingContext=r,e=Xi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ts(i,e,a),t!==null&&(li(t,i,a,s),xd(t,i,a)),a}function Zd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function N1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function jm(t,e){N1(t,e),(t=t.alternate)&&N1(t,e)}function Wb(){return null}var Py=typeof reportError=="function"?reportError:function(t){console.error(t)};function km(t){this._internalRoot=t}bh.prototype.render=km.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(je(409));wh(t,e,null,null)};bh.prototype.unmount=km.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ca(function(){wh(null,t,null,null)}),e[Zi]=null}};function bh(t){this._internalRoot=t}bh.prototype.unstable_scheduleHydration=function(t){if(t){var e=lv();t={blockedOn:null,target:t,priority:e};for(var r=0;r<js.length&&e!==0&&e<js[r].priority;r++);js.splice(r,0,t),r===0&&uv(t)}};function Am(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function _1(){}function Vb(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var d=Zd(a);s.call(d)}}var a=Cy(e,n,t,0,null,!1,!1,"",_1);return t._reactRootContainer=a,t[Zi]=a.current,Ac(t.nodeType===8?t.parentNode:t),Ca(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var d=Zd(c);o.call(d)}}var c=Sm(t,0,!1,null,null,!1,!1,"",_1);return t._reactRootContainer=c,t[Zi]=c.current,Ac(t.nodeType===8?t.parentNode:t),Ca(function(){wh(e,c,r,n)}),c}function _h(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var c=Zd(a);o.call(c)}}wh(e,a,t,i)}else a=Vb(r,e,t,i,n);return Zd(a)}av=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Zl(e.pendingLanes);r!==0&&(V0(e,r|1),dn(e,tr()),!(mt&6)&&(el=tr()+500,Ks()))}break;case 13:Ca(function(){var n=es(t,1);if(n!==null){var i=Jr();li(n,t,1,i)}}),jm(t,1)}};G0=function(t){if(t.tag===13){var e=es(t,134217728);if(e!==null){var r=Jr();li(e,t,134217728,r)}jm(t,134217728)}};ov=function(t){if(t.tag===13){var e=zs(t),r=es(t,e);if(r!==null){var n=Jr();li(r,t,e,n)}jm(t,e)}};lv=function(){return _t};cv=function(t,e){var r=_t;try{return _t=t,e()}finally{_t=r}};Lp=function(t,e,r){switch(e){case"input":if(bp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=fh(n);if(!i)throw Error(je(90));U2(n),bp(n,i)}}}break;case"textarea":q2(t,r);break;case"select":e=r.value,e!=null&&Fo(t,!!r.multiple,e,!1)}};K2=wm;Y2=Ca;var Gb={usingClientEntryPoint:!1,Events:[Wc,Eo,fh,G2,J2,wm]},Gl={findFiberByHostInstance:wa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Jb={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:rs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Z2(t),t===null?null:t.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||Wb,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{ch=rd.inject(Jb),Li=rd}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gb;_n.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Am(e))throw Error(je(200));return Hb(t,e,null,r)};_n.createRoot=function(t,e){if(!Am(t))throw Error(je(299));var r=!1,n="",i=Py;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sm(t,1,!1,null,null,r,!1,n,i),t[Zi]=e.current,Ac(t.nodeType===8?t.parentNode:t),new km(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(je(188)):(t=Object.keys(t).join(","),Error(je(268,t)));return t=Z2(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return Ca(t)};_n.hydrate=function(t,e,r){if(!Nh(e))throw Error(je(200));return _h(null,t,e,!0,r)};_n.hydrateRoot=function(t,e,r){if(!Am(t))throw Error(je(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=Py;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=Cy(e,null,t,1,r??null,i,!1,s,a),t[Zi]=e.current,Ac(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new bh(e)};_n.render=function(t,e,r){if(!Nh(e))throw Error(je(200));return _h(null,t,e,!1,r)};_n.unmountComponentAtNode=function(t){if(!Nh(t))throw Error(je(40));return t._reactRootContainer?(Ca(function(){_h(null,null,t,!1,function(){t._reactRootContainer=null,t[Zi]=null})}),!0):!1};_n.unstable_batchedUpdates=wm;_n.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Nh(r))throw Error(je(200));if(t==null||t._reactInternals===void 0)throw Error(je(38));return _h(t,e,r,!1,n)};_n.version="18.3.1-next-f1338f8080-20240426";function Oy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Oy)}catch(t){console.error(t)}}Oy(),O2.exports=_n;var Kb=O2.exports,S1=Kb;pp.createRoot=S1.createRoot,pp.hydrateRoot=S1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tc(){return Tc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tc.apply(this,arguments)}var Cs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Cs||(Cs={}));const j1="popstate";function Yb(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return o0("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:eh(i)}return Qb(e,r,null,t)}function sr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Iy(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Xb(){return Math.random().toString(36).substr(2,8)}function k1(t,e){return{usr:t.state,key:t.key,idx:e}}function o0(t,e,r,n){return r===void 0&&(r=null),Tc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?sl(e):e,{state:r,key:e&&e.key||n||Xb()})}function eh(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function sl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Qb(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Cs.Pop,c=null,d=p();d==null&&(d=0,a.replaceState(Tc({},a.state,{idx:d}),""));function p(){return(a.state||{idx:null}).idx}function m(){o=Cs.Pop;let j=p(),x=j==null?null:j-d;d=j,c&&c({action:o,location:_.location,delta:x})}function y(j,x){o=Cs.Push;let w=o0(_.location,j,x);r&&r(w,j),d=p()+1;let S=k1(w,d),F=_.createHref(w);try{a.pushState(S,"",F)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(F)}s&&c&&c({action:o,location:_.location,delta:1})}function f(j,x){o=Cs.Replace;let w=o0(_.location,j,x);r&&r(w,j),d=p();let S=k1(w,d),F=_.createHref(w);a.replaceState(S,"",F),s&&c&&c({action:o,location:_.location,delta:0})}function b(j){let x=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof j=="string"?j:eh(j);return w=w.replace(/ $/,"%20"),sr(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let _={get action(){return o},get location(){return t(i,a)},listen(j){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(j1,m),c=j,()=>{i.removeEventListener(j1,m),c=null}},createHref(j){return e(i,j)},createURL:b,encodeLocation(j){let x=b(j);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:y,replace:f,go(j){return a.go(j)}};return _}var A1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(A1||(A1={}));function Zb(t,e,r){return r===void 0&&(r="/"),e4(t,e,r,!1)}function e4(t,e,r,n){let i=typeof e=="string"?sl(e):e,s=Lm(i.pathname||"/",r);if(s==null)return null;let a=Dy(t);t4(a);let o=null;for(let c=0;o==null&&c<a.length;++c){let d=h4(s);o=u4(a[c],d,n)}return o}function Dy(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let c={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(sr(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=Us([n,c.relativePath]),p=r.concat(c);s.children&&s.children.length>0&&(sr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Dy(s.children,e,p,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:l4(d,s.index),routesMeta:p})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let c of Ry(s.path))i(s,a,c)}),e}function Ry(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=Ry(n.join("/")),o=[];return o.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&o.push(...a),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function t4(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:c4(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const r4=/^:[\w-]+$/,n4=3,i4=2,s4=1,a4=10,o4=-2,L1=t=>t==="*";function l4(t,e){let r=t.split("/"),n=r.length;return r.some(L1)&&(n+=o4),e&&(n+=i4),r.filter(i=>!L1(i)).reduce((i,s)=>i+(r4.test(s)?n4:s===""?s4:a4),n)}function c4(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function u4(t,e,r){r===void 0&&(r=!1);let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,p=s==="/"?e:e.slice(s.length)||"/",m=E1({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},p),y=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=E1({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},p)),!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:Us([s,m.pathname]),pathnameBase:g4(Us([s,m.pathnameBase])),route:y}),m.pathnameBase!=="/"&&(s=Us([s,m.pathnameBase]))}return a}function E1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=d4(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,p,m)=>{let{paramName:y,isOptional:f}=p;if(y==="*"){let _=o[m]||"";a=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const b=o[m];return f&&!b?d[y]=void 0:d[y]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:t}}function d4(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Iy(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function h4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Iy(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Lm(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function f4(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?sl(t):t;return{pathname:r?r.startsWith("/")?r:p4(r,e):e,search:v4(n),hash:y4(i)}}function p4(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Yf(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function m4(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Em(t,e){let r=m4(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Cm(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=sl(t):(i=Tc({},t),sr(!i.pathname||!i.pathname.includes("?"),Yf("?","pathname","search",i)),sr(!i.pathname||!i.pathname.includes("#"),Yf("#","pathname","hash",i)),sr(!i.search||!i.search.includes("#"),Yf("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let m=e.length-1;if(!n&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),m-=1;i.pathname=y.join("/")}o=m>=0?e[m]:"/"}let c=f4(i,o),d=a&&a!=="/"&&a.endsWith("/"),p=(s||a===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||p)&&(c.pathname+="/"),c}const Us=t=>t.join("/").replace(/\/\/+/g,"/"),g4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),v4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,y4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Ty=["post","put","patch","delete"];new Set(Ty);const w4=["get",...Ty];new Set(w4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fc(){return Fc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Fc.apply(this,arguments)}const Pm=se.createContext(null),b4=se.createContext(null),Ys=se.createContext(null),Sh=se.createContext(null),Xs=se.createContext({outlet:null,matches:[],isDataRoute:!1}),Fy=se.createContext(null);function N4(t,e){let{relative:r}=e===void 0?{}:e;al()||sr(!1);let{basename:n,navigator:i}=se.useContext(Ys),{hash:s,pathname:a,search:o}=My(t,{relative:r}),c=a;return n!=="/"&&(c=a==="/"?n:Us([n,a])),i.createHref({pathname:c,search:o,hash:s})}function al(){return se.useContext(Sh)!=null}function ol(){return al()||sr(!1),se.useContext(Sh).location}function zy(t){se.useContext(Ys).static||se.useLayoutEffect(t)}function Gc(){let{isDataRoute:t}=se.useContext(Xs);return t?R4():_4()}function _4(){al()||sr(!1);let t=se.useContext(Pm),{basename:e,future:r,navigator:n}=se.useContext(Ys),{matches:i}=se.useContext(Xs),{pathname:s}=ol(),a=JSON.stringify(Em(i,r.v7_relativeSplatPath)),o=se.useRef(!1);return zy(()=>{o.current=!0}),se.useCallback(function(d,p){if(p===void 0&&(p={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let m=Cm(d,JSON.parse(a),s,p.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Us([e,m.pathname])),(p.replace?n.replace:n.push)(m,p.state,p)},[e,n,a,s,t])}function My(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=se.useContext(Ys),{matches:i}=se.useContext(Xs),{pathname:s}=ol(),a=JSON.stringify(Em(i,n.v7_relativeSplatPath));return se.useMemo(()=>Cm(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function S4(t,e){return j4(t,e)}function j4(t,e,r,n){al()||sr(!1);let{navigator:i}=se.useContext(Ys),{matches:s}=se.useContext(Xs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=ol(),p;if(e){var m;let j=typeof e=="string"?sl(e):e;c==="/"||(m=j.pathname)!=null&&m.startsWith(c)||sr(!1),p=j}else p=d;let y=p.pathname||"/",f=y;if(c!=="/"){let j=c.replace(/^\//,"").split("/");f="/"+y.replace(/^\//,"").split("/").slice(j.length).join("/")}let b=Zb(t,{pathname:f}),_=C4(b&&b.map(j=>Object.assign({},j,{params:Object.assign({},o,j.params),pathname:Us([c,i.encodeLocation?i.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?c:Us([c,i.encodeLocation?i.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),s,r,n);return e&&_?se.createElement(Sh.Provider,{value:{location:Fc({pathname:"/",search:"",hash:"",state:null,key:"default"},p),navigationType:Cs.Pop}},_):_}function k4(){let t=D4(),e=x4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),r?se.createElement("pre",{style:i},r):null,s)}const A4=se.createElement(k4,null);class L4 extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?se.createElement(Xs.Provider,{value:this.props.routeContext},se.createElement(Fy.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E4(t){let{routeContext:e,match:r,children:n}=t,i=se.useContext(Pm);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),se.createElement(Xs.Provider,{value:e},n)}function C4(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let p=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);p>=0||sr(!1),a=a.slice(0,Math.min(a.length,p+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let p=0;p<a.length;p++){let m=a[p];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(d=p),m.route.id){let{loaderData:y,errors:f}=r,b=m.route.loader&&y[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||b){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((p,m,y)=>{let f,b=!1,_=null,j=null;r&&(f=o&&m.route.id?o[m.route.id]:void 0,_=m.route.errorElement||A4,c&&(d<0&&y===0?(T4("route-fallback",!1),b=!0,j=null):d===y&&(b=!0,j=m.route.hydrateFallbackElement||null)));let x=e.concat(a.slice(0,y+1)),w=()=>{let S;return f?S=_:b?S=j:m.route.Component?S=se.createElement(m.route.Component,null):m.route.element?S=m.route.element:S=p,se.createElement(E4,{match:m,routeContext:{outlet:p,matches:x,isDataRoute:r!=null},children:S})};return r&&(m.route.ErrorBoundary||m.route.errorElement||y===0)?se.createElement(L4,{location:r.location,revalidation:r.revalidation,component:_,error:f,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var Uy=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Uy||{}),th=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(th||{});function P4(t){let e=se.useContext(Pm);return e||sr(!1),e}function O4(t){let e=se.useContext(b4);return e||sr(!1),e}function I4(t){let e=se.useContext(Xs);return e||sr(!1),e}function By(t){let e=I4(),r=e.matches[e.matches.length-1];return r.route.id||sr(!1),r.route.id}function D4(){var t;let e=se.useContext(Fy),r=O4(th.UseRouteError),n=By(th.UseRouteError);return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function R4(){let{router:t}=P4(Uy.UseNavigateStable),e=By(th.UseNavigateStable),r=se.useRef(!1);return zy(()=>{r.current=!0}),se.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fc({fromRouteId:e},s)))},[t,e])}const C1={};function T4(t,e,r){!e&&!C1[t]&&(C1[t]=!0)}function F4(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function z4(t){let{to:e,replace:r,state:n,relative:i}=t;al()||sr(!1);let{future:s,static:a}=se.useContext(Ys),{matches:o}=se.useContext(Xs),{pathname:c}=ol(),d=Gc(),p=Cm(e,Em(o,s.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(p);return se.useEffect(()=>d(JSON.parse(m),{replace:r,state:n,relative:i}),[d,m,i,r,n]),null}function bs(t){sr(!1)}function M4(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Cs.Pop,navigator:s,static:a=!1,future:o}=t;al()&&sr(!1);let c=e.replace(/^\/*/,"/"),d=se.useMemo(()=>({basename:c,navigator:s,static:a,future:Fc({v7_relativeSplatPath:!1},o)}),[c,o,s,a]);typeof n=="string"&&(n=sl(n));let{pathname:p="/",search:m="",hash:y="",state:f=null,key:b="default"}=n,_=se.useMemo(()=>{let j=Lm(p,c);return j==null?null:{location:{pathname:j,search:m,hash:y,state:f,key:b},navigationType:i}},[c,p,m,y,f,b,i]);return _==null?null:se.createElement(Ys.Provider,{value:d},se.createElement(Sh.Provider,{children:r,value:_}))}function U4(t){let{children:e,location:r}=t;return S4(l0(e),r)}new Promise(()=>{});function l0(t,e){e===void 0&&(e=[]);let r=[];return se.Children.forEach(t,(n,i)=>{if(!se.isValidElement(n))return;let s=[...e,i];if(n.type===se.Fragment){r.push.apply(r,l0(n.props.children,s));return}n.type!==bs&&sr(!1),!n.props.index||!n.props.children||sr(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=l0(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function c0(){return c0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c0.apply(this,arguments)}function B4(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function q4(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function $4(t,e){return t.button===0&&(!e||e==="_self")&&!q4(t)}const H4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],W4="6";try{window.__reactRouterVersion=W4}catch{}const V4="startTransition",P1=zx[V4];function G4(t){let{basename:e,children:r,future:n,window:i}=t,s=se.useRef();s.current==null&&(s.current=Yb({window:i,v5Compat:!0}));let a=s.current,[o,c]=se.useState({action:a.action,location:a.location}),{v7_startTransition:d}=n||{},p=se.useCallback(m=>{d&&P1?P1(()=>c(m)):c(m)},[c,d]);return se.useLayoutEffect(()=>a.listen(p),[a,p]),se.useEffect(()=>F4(n),[n]),se.createElement(M4,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const J4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",K4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ki=se.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:c,to:d,preventScrollReset:p,viewTransition:m}=e,y=B4(e,H4),{basename:f}=se.useContext(Ys),b,_=!1;if(typeof d=="string"&&K4.test(d)&&(b=d,J4))try{let S=new URL(window.location.href),F=d.startsWith("//")?new URL(S.protocol+d):new URL(d),O=Lm(F.pathname,f);F.origin===S.origin&&O!=null?d=O+F.search+F.hash:_=!0}catch{}let j=N4(d,{relative:i}),x=Y4(d,{replace:a,state:o,target:c,preventScrollReset:p,relative:i,viewTransition:m});function w(S){n&&n(S),S.defaultPrevented||x(S)}return se.createElement("a",c0({},y,{href:b||j,onClick:_||s?n:w,ref:r,target:c}))});var O1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(O1||(O1={}));var I1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(I1||(I1={}));function Y4(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,c=Gc(),d=ol(),p=My(t,{relative:a});return se.useCallback(m=>{if($4(m,r)){m.preventDefault();let y=n!==void 0?n:eh(d)===eh(p);c(t,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[d,c,p,n,i,r,t,s,a,o])}var X4={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Q4=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Z4=(t,e)=>{const r=se.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...c},d)=>se.createElement("svg",{ref:d,...X4,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${Q4(t)}`,...c},[...e.map(([p,m])=>se.createElement(p,m)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var St=Z4;const qy=St("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$y=St("Archive",[["rect",{width:"20",height:"5",x:"2",y:"4",rx:"2",key:"uhwcea"}],["path",{d:"M4 9v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9",key:"shkvi4"}],["path",{d:"M10 13h4",key:"ytezjc"}]]),rh=St("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),tc=St("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),e3=St("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),u0=St("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),D1=St("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),t3=St("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),r3=St("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),n3=St("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Om=St("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),hc=St("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),i3=St("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]),s3=St("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),a3=St("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Pa=St("Package",[["path",{d:"M16.5 9.4 7.55 4.24",key:"10qotr"}],["path",{d:"M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z",key:"yt0hxn"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["line",{x1:"12",x2:"12",y1:"22",y2:"12",key:"a4e8g8"}]]),$o=St("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]),fc=St("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),d0=St("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]),o3=St("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),l3=St("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),R1=St("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),Bs=St("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),zc=St("Truck",[["path",{d:"M10 17h4V5H2v12h3",key:"1jq12e"}],["path",{d:"M20 17h2v-3.34a4 4 0 0 0-1.17-2.83L19 9h-5",key:"1xb3ft"}],["path",{d:"M14 17h1",key:"nufu4t"}],["circle",{cx:"7.5",cy:"17.5",r:"2.5",key:"a7aife"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]),nd=St("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),Mc=St("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),c3=St("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),u3=St("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Un=St("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),d3="modulepreload",h3=function(t){return"/"+t},T1={},Hs=function(e,r,n){if(!r||r.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(r.map(s=>{if(s=h3(s),s in T1)return;T1[s]=!0;const a=s.endsWith(".css"),o=a?'[rel="stylesheet"]':"";if(!!n)for(let p=i.length-1;p>=0;p--){const m=i[p];if(m.href===s&&(!a||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${o}`))return;const d=document.createElement("link");if(d.rel=a?"stylesheet":d3,a||(d.as="script",d.crossOrigin=""),d.href=s,document.head.appendChild(d),a)return new Promise((p,m)=>{d.addEventListener("load",p),d.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=s,window.dispatchEvent(a),!a.defaultPrevented)throw s})},f3=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(()=>Promise.resolve().then(()=>ll),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Im extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class p3 extends Im{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class F1 extends Im{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class z1 extends Im{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var h0;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(h0||(h0={}));var m3=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class g3{constructor(e,{headers:r={},customFetch:n,region:i=h0.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=f3(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return m3(this,void 0,void 0,function*(){try{const{headers:i,method:s,body:a}=r;let o={},{region:c}=r;c||(c=this.region);const d=new URL(`${this.url}/${e}`);c&&c!=="any"&&(o["x-region"]=c,d.searchParams.set("forceFunctionRegion",c));let p;a&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",p=a):typeof a=="string"?(o["Content-Type"]="text/plain",p=a):typeof FormData<"u"&&a instanceof FormData?p=a:(o["Content-Type"]="application/json",p=JSON.stringify(a)));const m=yield this.fetch(d.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),i),body:p}).catch(_=>{throw new p3(_)}),y=m.headers.get("x-relay-error");if(y&&y==="true")throw new F1(m);if(!m.ok)throw new z1(m);let f=((n=m.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),b;return f==="application/json"?b=yield m.json():f==="application/octet-stream"?b=yield m.blob():f==="text/event-stream"?b=m:f==="multipart/form-data"?b=yield m.formData():b=yield m.text(),{data:b,error:null,response:m}}catch(i){return{data:null,error:i,response:i instanceof z1||i instanceof F1?i.context:void 0}}})}}var on={},Dm={},jh={},Jc={},kh={},Ah={},v3=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},tl=v3();const y3=tl.fetch,Hy=tl.fetch.bind(tl),Wy=tl.Headers,x3=tl.Request,w3=tl.Response,ll=Object.freeze(Object.defineProperty({__proto__:null,Headers:Wy,Request:x3,Response:w3,default:Hy,fetch:y3},Symbol.toStringTag,{value:"Module"})),b3=Nx(ll);var Lh={};Object.defineProperty(Lh,"__esModule",{value:!0});let N3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Lh.default=N3;var Vy=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ah,"__esModule",{value:!0});const _3=Vy(b3),S3=Vy(Lh);let j3=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=_3.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=Object.assign({},this.headers),this.headers[e]=r,this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var a,o,c;let d=null,p=null,m=null,y=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){const x=await s.text();x===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=x:p=JSON.parse(x))}const _=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),j=(o=s.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");_&&j&&j.length>1&&(m=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(d={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,y=406,f="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const _=await s.text();try{d=JSON.parse(_),Array.isArray(d)&&s.status===404&&(p=[],d=null,y=200,f="OK")}catch{s.status===404&&_===""?(y=204,f="No Content"):d={message:_}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,y=200,f="OK"),d&&this.shouldThrowOnError)throw new S3.default(d)}return{error:d,data:p,count:m,status:y,statusText:f}});return this.shouldThrowOnError||(i=i.catch(s=>{var a,o,c;return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(o=s==null?void 0:s.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(c=s==null?void 0:s.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,r)}returns(){return this}overrideTypes(){return this}};Ah.default=j3;var k3=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(kh,"__esModule",{value:!0});const A3=k3(Ah);let L3=class extends A3.default{select(e){let r=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!r?"":(i==='"'&&(r=!r),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){const a=s?`${s}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:i=n}={}){const s=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(a,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:a="text"}={}){var o;const c=[e?"analyze":null,r?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${c};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};kh.default=L3;var E3=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Jc,"__esModule",{value:!0});const C3=E3(kh);let P3=class extends C3.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${s}fts${a}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};Jc.default=P3;var O3=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(jh,"__esModule",{value:!0});const Jl=O3(Jc);let I3=class{constructor(e,{headers:r={},schema:n,fetch:i}){this.url=e,this.headers=r,this.schema=n,this.fetch=i}select(e,{head:r=!1,count:n}={}){const i=r?"HEAD":"GET";let s=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Jl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:r,defaultToNull:n=!0}={}){const i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),r&&s.push(`count=${r}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(e)){const a=e.reduce((o,c)=>o.concat(Object.keys(c)),[]);if(a.length>0){const o=[...new Set(a)].map(c=>`"${c}"`);this.url.searchParams.set("columns",o.join(","))}}return new Jl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(r!==void 0&&this.url.searchParams.set("on_conflict",r),this.headers.Prefer&&o.push(this.headers.Prefer),i&&o.push(`count=${i}`),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const c=e.reduce((d,p)=>d.concat(Object.keys(p)),[]);if(c.length>0){const d=[...new Set(c)].map(p=>`"${p}"`);this.url.searchParams.set("columns",d.join(","))}}return new Jl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:r}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),r&&i.push(`count=${r}`),this.headers.Prefer=i.join(","),new Jl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const r="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Jl.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};jh.default=I3;var Eh={},Ch={};Object.defineProperty(Ch,"__esModule",{value:!0});Ch.version=void 0;Ch.version="0.0.0-automated";Object.defineProperty(Eh,"__esModule",{value:!0});Eh.DEFAULT_HEADERS=void 0;const D3=Ch;Eh.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${D3.version}`};var Gy=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Dm,"__esModule",{value:!0});const R3=Gy(jh),T3=Gy(Jc),F3=Eh;let z3=class Jy{constructor(e,{headers:r={},schema:n,fetch:i}={}){this.url=e,this.headers=Object.assign(Object.assign({},F3.DEFAULT_HEADERS),r),this.schemaName=n,this.fetch=i}from(e){const r=new URL(`${this.url}/${e}`);return new R3.default(r,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Jy(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:i=!1,count:s}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let c;n||i?(a=n?"HEAD":"GET",Object.entries(r).filter(([p,m])=>m!==void 0).map(([p,m])=>[p,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([p,m])=>{o.searchParams.append(p,m)})):(a="POST",c=r);const d=Object.assign({},this.headers);return s&&(d.Prefer=`count=${s}`),new T3.default({method:a,url:o,headers:d,schema:this.schemaName,body:c,fetch:this.fetch,allowEmpty:!1})}};Dm.default=z3;var cl=Fn&&Fn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(on,"__esModule",{value:!0});on.PostgrestError=on.PostgrestBuilder=on.PostgrestTransformBuilder=on.PostgrestFilterBuilder=on.PostgrestQueryBuilder=on.PostgrestClient=void 0;const Ky=cl(Dm);on.PostgrestClient=Ky.default;const Yy=cl(jh);on.PostgrestQueryBuilder=Yy.default;const Xy=cl(Jc);on.PostgrestFilterBuilder=Xy.default;const Qy=cl(kh);on.PostgrestTransformBuilder=Qy.default;const Zy=cl(Ah);on.PostgrestBuilder=Zy.default;const e5=cl(Lh);on.PostgrestError=e5.default;var M3=on.default={PostgrestClient:Ky.default,PostgrestQueryBuilder:Yy.default,PostgrestFilterBuilder:Xy.default,PostgrestTransformBuilder:Qy.default,PostgrestBuilder:Zy.default,PostgrestError:e5.default};const{PostgrestClient:U3,PostgrestQueryBuilder:o6,PostgrestFilterBuilder:l6,PostgrestTransformBuilder:c6,PostgrestBuilder:u6,PostgrestError:d6}=M3;class B3{static dynamicRequire(e){try{return typeof process<"u"&&process.versions&&process.versions.node&&typeof require<"u"?require(e):null}catch{return null}}static detectEnvironment(){var e,r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);if(n>=22)try{if(typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};const i=this.dynamicRequire("undici");if(i&&i.WebSocket)return{type:"native",constructor:i.WebSocket};throw new Error("undici not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:'Install the "ws" package or check your Node.js installation.'}}try{const i=this.dynamicRequire("ws");if(i)return{type:"ws",constructor:(r=i.WebSocket)!==null&&r!==void 0?r:i};throw new Error("ws package not available")}catch{return{type:"unsupported",error:`Node.js ${n} detected without WebSocket support.`,workaround:'Install the "ws" package: npm install ws'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const q3="2.15.0",$3=`realtime-js/${q3}`,H3="1.0.0",f0=1e4,W3=1e3,V3=100;var pc;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(pc||(pc={}));var pr;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(pr||(pr={}));var si;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(si||(si={}));var p0;(function(t){t.websocket="websocket"})(p0||(p0={}));var ya;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ya||(ya={}));class G3{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+i));a=a+i;const c=n.decode(e.slice(a,a+s));a=a+s;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:c,payload:d}}}class t5{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ot||(Ot={}));const M1=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((s,a)=>(s[a]=J3(a,t,e,i),s),{})},J3=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?r5(s,a):m0(a)},r5=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Q3(e,r)}switch(t){case Ot.bool:return K3(e);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return Y3(e);case Ot.json:case Ot.jsonb:return X3(e);case Ot.timestamp:return Z3(e);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return m0(e);default:return m0(e)}},m0=t=>t,K3=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Y3=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},X3=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Q3=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>r5(e,o))}return t},Z3=t=>typeof t=="string"?t.replace(" ","T"):t,n5=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Xf{constructor(e,r,n={},i=f0){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var U1;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(U1||(U1={}));class mc{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mc.syncState(this.state,i,s,a),this.pendingDiffs.forEach(c=>{this.state=mc.syncDiff(this.state,c,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=mc.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},c={};return this.map(s,(d,p)=>{a[d]||(c[d]=p)}),this.map(a,(d,p)=>{const m=s[d];if(m){const y=p.map(j=>j.presence_ref),f=m.map(j=>j.presence_ref),b=p.filter(j=>f.indexOf(j.presence_ref)<0),_=m.filter(j=>y.indexOf(j.presence_ref)<0);b.length>0&&(o[d]=b),_.length>0&&(c[d]=_)}else o[d]=p}),this.syncDiff(s,{joins:o,leaves:c},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,c)=>{var d;const p=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(c),p.length>0){const m=e[o].map(f=>f.presence_ref),y=p.filter(f=>m.indexOf(f.presence_ref)<0);e[o].unshift(...y)}n(o,p,c)}),this.map(a,(o,c)=>{let d=e[o];if(!d)return;const p=c.map(m=>m.presence_ref);d=d.filter(m=>p.indexOf(m.presence_ref)<0),e[o]=d,i(o,d,c),d.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var B1;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(B1||(B1={}));var gc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(gc||(gc={}));var Vi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Vi||(Vi={}));class Rm{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=pr.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Xf(this,si.join,this.params,this.timeout),this.rejoinTimer=new t5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=pr.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=pr.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=pr.errored,this.rejoinTimer.scheduleTimeout())}),this._on(si.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new mc(this),this.broadcastEndpointURL=n5(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.state==pr.closed){const{config:{broadcast:s,presence:a,private:o}}=this.params,c=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(y=>y.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[gc.PRESENCE]&&this.bindings[gc.PRESENCE].length>0,p={},m={broadcast:s,presence:Object.assign(Object.assign({},a),{enabled:d}),postgres_changes:c,private:o};this.socket.accessTokenValue&&(p.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(Vi.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(Vi.CLOSED)),this.updateJoinPayload(Object.assign({config:m},p)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:y})=>{var f;if(this.socket.setAuth(),y===void 0){e==null||e(Vi.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,_=(f=b==null?void 0:b.length)!==null&&f!==void 0?f:0,j=[];for(let x=0;x<_;x++){const w=b[x],{filter:{event:S,schema:F,table:O,filter:H}}=w,z=y&&y[x];if(z&&z.event===S&&z.schema===F&&z.table===O&&z.filter===H)j.push(Object.assign(Object.assign({},w),{id:z.id}));else{this.unsubscribe(),this.state=pr.errored,e==null||e(Vi.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=j,e&&e(Vi.SUBSCRIBED);return}}).receive("error",y=>{this.state=pr.errored,e==null||e(Vi.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Vi.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===pr.joined&&e===gc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){const{event:s,payload:a}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=d.body)===null||i===void 0?void 0:i.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,c;const d=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.ack)&&s("ok"),d.receive("ok",()=>s("ok")),d.receive("error",()=>s("error")),d.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=pr.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(si.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new Xf(this,si.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=pr.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Xf(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>V3){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:c,leave:d,join:p}=si;if(n&&[o,c,d,p].indexOf(a)>=0&&n!==this._joinRef())return;let y=this._onMessage(a,r,n);if(r&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var b,_,j;return((b=f.filter)===null||b===void 0?void 0:b.event)==="*"||((j=(_=f.filter)===null||_===void 0?void 0:_.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===a}).map(f=>f.callback(y,n)):(s=this.bindings[a])===null||s===void 0||s.filter(f=>{var b,_,j,x,w,S;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in f){const F=f.id,O=(b=f.filter)===null||b===void 0?void 0:b.event;return F&&((_=r.ids)===null||_===void 0?void 0:_.includes(F))&&(O==="*"||(O==null?void 0:O.toLocaleLowerCase())===((j=r.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const F=(w=(x=f==null?void 0:f.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return F==="*"||F===((S=r==null?void 0:r.event)===null||S===void 0?void 0:S.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===a}).map(f=>{if(typeof y=="object"&&"ids"in y){const b=y.data,{schema:_,table:j,commit_timestamp:x,type:w,errors:S}=b;y=Object.assign(Object.assign({},{schema:_,table:j,commit_timestamp:x,eventType:w,new:{},old:{},errors:S}),this._getPayloadRecords(b))}f.callback(y,n)})}_isClosed(){return this.state===pr.closed}_isJoined(){return this.state===pr.joined}_isJoining(){return this.state===pr.joining}_isLeaving(){return this.state===pr.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&Rm.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(si.close,{},e)}_onError(e){this._on(si.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=pr.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=M1(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=M1(e.columns,e.old_record)),r}}const q1=()=>{},id={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},eN=[1e3,2e3,5e3,1e4],tN=1e4,rN=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nN{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=f0,this.transport=null,this.heartbeatIntervalMs=id.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=q1,this.ref=0,this.reconnectTimer=null,this.logger=q1,this.conn=null,this.sendBuffer=[],this.serializer=new G3,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>{let s;return i?s=i:typeof fetch>"u"?s=(...a)=>Hs(()=>Promise.resolve().then(()=>ll),void 0).then(({default:o})=>o(...a)).catch(o=>{throw new Error(`Failed to load @supabase/node-fetch: ${o.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):s=fetch,(...a)=>s(...a)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${p0.websocket}`,this.httpEndpoint=n5(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=B3.createWebSocket(this.endpointURL())}catch(e){throw this._setConnectionState("disconnected"),new Error(`WebSocket not available: ${e.message}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:H3}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case pc.connecting:return ya.Connecting;case pc.open:return ya.Open;case pc.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new Rm(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var c;(c=this.conn)===null||c===void 0||c.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(W3,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},id.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",c=s.status||"";this.log("receive",`${c} ${n} ${i} ${o}`.trim(),s),this.channels.filter(d=>d._isMember(n)).forEach(d=>d._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(si.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([rN],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:$3};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(si.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new t5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},id.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,c,d;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:f0,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:id.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(o=e==null?void 0:e.reconnectAfterMs)!==null&&o!==void 0?o:p=>eN[p-1]||tN,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(p,m)=>m(JSON.stringify(p)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Tm extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function wr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iN extends Tm{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class g0 extends Tm{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var sN=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const i5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(()=>Promise.resolve().then(()=>ll),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},aN=()=>sN(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Hs(()=>Promise.resolve().then(()=>ll),void 0)).Response:Response}),v0=t=>{if(Array.isArray(t))return t.map(r=>v0(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=v0(n)}),e},oN=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Da=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const Qf=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),lN=(t,e,r)=>Da(void 0,void 0,void 0,function*(){const n=yield aN();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new iN(Qf(i),s,a))}).catch(i=>{e(new g0(Qf(i),i))}):e(new g0(Qf(t),t))}),cN=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(oN(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r))};function Kc(t,e,r,n,i,s){return Da(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,cN(e,n,i,s)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>lN(c,o,n))})})}function nh(t,e,r,n){return Da(this,void 0,void 0,function*(){return Kc(t,"GET",e,r,n)})}function Gi(t,e,r,n,i){return Da(this,void 0,void 0,function*(){return Kc(t,"POST",e,n,i,r)})}function y0(t,e,r,n,i){return Da(this,void 0,void 0,function*(){return Kc(t,"PUT",e,n,i,r)})}function uN(t,e,r,n){return Da(this,void 0,void 0,function*(){return Kc(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function s5(t,e,r,n,i){return Da(this,void 0,void 0,function*(){return Kc(t,"DELETE",e,n,i,r)})}var sn=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const dN={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class hN{constructor(e,r={},n,i){this.url=e,this.headers=r,this.bucketId=n,this.fetch=i5(i)}uploadOrUpdate(e,r,n,i){return sn(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},$1),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",a.cacheControl),c&&s.append("metadata",this.encodeMetadata(c))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,c&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const d=this._removeEmptyFolders(r),p=this._getFinalPath(d),m=yield(e=="PUT"?y0:Gi)(this.fetch,`${this.url}/object/${p}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:d,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(wr(s))return{data:null,error:s};throw s}})}upload(e,r,n){return sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return sn(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let c;const d=Object.assign({upsert:$1.upsert},i),p=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",d.cacheControl)):(c=n,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType);const m=yield y0(this.fetch,o.toString(),c,{headers:p});return{data:{path:s,fullPath:m.Key},error:null}}catch(c){if(wr(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,r){return sn(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Gi(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new Tm("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(wr(n))return{data:null,error:n};throw n}})}update(e,r,n){return sn(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return sn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(wr(i))return{data:null,error:i};throw i}})}copy(e,r,n){return sn(this,void 0,void 0,function*(){try{return{data:{path:(yield Gi(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(wr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return sn(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Gi(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(wr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return sn(this,void 0,void 0,function*(){try{const i=yield Gi(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(wr(i))return{data:null,error:i};throw i}})}download(e,r){return sn(this,void 0,void 0,function*(){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield nh(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(wr(o))return{data:null,error:o};throw o}})}info(e){return sn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield nh(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:v0(n),error:null}}catch(n){if(wr(n))return{data:null,error:n};throw n}})}exists(e){return sn(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield uN(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(wr(n)&&n instanceof g0){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&i.push(c);let d=i.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return sn(this,void 0,void 0,function*(){try{return{data:yield s5(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(wr(r))return{data:null,error:r};throw r}})}list(e,r,n){return sn(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},dN),r),{prefix:e||""});return{data:yield Gi(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(wr(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const fN="2.10.4",pN={"X-Client-Info":`storage-js/${fN}`};var fo=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class mN{constructor(e,r={},n,i){const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href,this.headers=Object.assign(Object.assign({},pN),r),this.fetch=i5(n)}listBuckets(){return fo(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(wr(e))return{data:null,error:e};throw e}})}getBucket(e){return fo(this,void 0,void 0,function*(){try{return{data:yield nh(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(wr(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return fo(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wr(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return fo(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(wr(n))return{data:null,error:n};throw n}})}emptyBucket(e){return fo(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(wr(r))return{data:null,error:r};throw r}})}deleteBucket(e){return fo(this,void 0,void 0,function*(){try{return{data:yield s5(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(wr(r))return{data:null,error:r};throw r}})}}class gN extends mN{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new hN(this.url,this.headers,e,this.fetch)}}const vN="2.54.0";let rc="";typeof Deno<"u"?rc="deno":typeof document<"u"?rc="web":typeof navigator<"u"&&navigator.product==="ReactNative"?rc="react-native":rc="node";const yN={"X-Client-Info":`supabase-js-${rc}/${vN}`},xN={headers:yN},wN={schema:"public"},bN={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},NN={};var _N=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};const SN=t=>{let e;return t?e=t:typeof fetch>"u"?e=Hy:e=fetch,(...r)=>e(...r)},jN=()=>typeof Headers>"u"?Wy:Headers,kN=(t,e,r)=>{const n=SN(r),i=jN();return(s,a)=>_N(void 0,void 0,void 0,function*(){var o;const c=(o=yield e())!==null&&o!==void 0?o:t;let d=new i(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",t),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),n(s,Object.assign(Object.assign({},a),{headers:d}))})};var AN=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};function LN(t){return t.endsWith("/")?t:t+"/"}function EN(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:c,auth:d,realtime:p,global:m}=e,y={db:Object.assign(Object.assign({},c),i),auth:Object.assign(Object.assign({},d),s),realtime:Object.assign(Object.assign({},p),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>AN(this,void 0,void 0,function*(){return""})};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}const a5="2.71.1",wo=30*1e3,x0=3,Zf=x0*wo,CN="http://localhost:9999",PN="supabase.auth.token",ON={"X-Client-Info":`gotrue-js/${a5}`},w0="X-Supabase-Api-Version",o5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},IN=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,DN=10*60*1e3;class Fm extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function it(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class RN extends Fm{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function TN(t){return it(t)&&t.name==="AuthApiError"}class l5 extends Fm{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Qs extends Fm{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Ns extends Qs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function FN(t){return it(t)&&t.name==="AuthSessionMissingError"}class sd extends Qs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ad extends Qs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class od extends Qs{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zN(t){return it(t)&&t.name==="AuthImplicitGrantRedirectError"}class H1 extends Qs{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class b0 extends Qs{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ep(t){return it(t)&&t.name==="AuthRetryableFetchError"}class W1 extends Qs{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class N0 extends Qs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ih="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),V1=` 	
\r=`.split(""),MN=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<V1.length;e+=1)t[V1[e].charCodeAt(0)]=-2;for(let e=0;e<ih.length;e+=1)t[ih[e].charCodeAt(0)]=e;return t})();function G1(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ih[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(ih[n]),e.queuedBits-=6}}function c5(t,e,r){const n=MN[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function J1(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{qN(a,n,r)};for(let a=0;a<t.length;a+=1)c5(t.charCodeAt(a),i,s);return e.join("")}function UN(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function BN(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}UN(n,e)}}function qN(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function $N(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)c5(t.charCodeAt(i),r,n);return new Uint8Array(e)}function HN(t){const e=[];return BN(t,r=>e.push(r)),new Uint8Array(e)}function WN(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>G1(i,r,n)),G1(null,r,n),e.join("")}function VN(t){return Math.round(Date.now()/1e3)+t}function GN(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const ti=()=>typeof window<"u"&&typeof document<"u",ha={tested:!1,writable:!1},u5=()=>{if(!ti())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ha.tested)return ha.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ha.tested=!0,ha.writable=!0}catch{ha.tested=!0,ha.writable=!1}return ha.writable};function JN(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const d5=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>Hs(()=>Promise.resolve().then(()=>ll),void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},KN=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",bo=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},fa=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ys=async(t,e)=>{await t.removeItem(e)};class Ph{constructor(){this.promise=new Ph.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}Ph.promiseConstructor=Promise;function tp(t){const e=t.split(".");if(e.length!==3)throw new N0("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!IN.test(e[n]))throw new N0("JWT not in base64url format");return{header:JSON.parse(J1(e[0])),payload:JSON.parse(J1(e[1])),signature:$N(e[2]),raw:{header:e[0],payload:e[1]}}}async function YN(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function XN(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function QN(t){return("0"+t.toString(16)).substr(-2)}function ZN(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,QN).join("")}async function e_(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function t_(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await e_(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function po(t,e,r=!1){const n=ZN();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await bo(t,`${e}-code-verifier`,i);const s=await t_(n);return[s,n===s?"plain":"s256"]}const r_=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function n_(t){const e=t.headers.get(w0);if(!e||!e.match(r_))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function i_(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function s_(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const a_=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function mo(t){if(!a_.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function rp(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function K1(t){return JSON.parse(JSON.stringify(t))}var o_=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};const ga=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),l_=[502,503,504];async function Y1(t){var e;if(!KN(t))throw new b0(ga(t),0);if(l_.includes(t.status))throw new b0(ga(t),t.status);let r;try{r=await t.json()}catch(s){throw new l5(ga(s),s)}let n;const i=n_(t);if(i&&i.getTime()>=o5["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new W1(ga(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Ns}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new W1(ga(r),t.status,r.weak_password.reasons);throw new RN(ga(r),t.status||500,n)}const c_=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function lt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[w0]||(s[w0]=o5["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await u_(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function u_(t,e,r,n,i,s){const a=c_(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(c){throw console.error(c),new b0(ga(c),0)}if(o.ok||await Y1(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(c){await Y1(c)}}function Hi(t){var e;let r=null;p_(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=VN(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function X1(t){const e=Hi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function As(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function d_(t){return{data:t,error:null}}function h_(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=o_(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},c=Object.assign({},a);return{data:{properties:o,user:c},error:null}}function f_(t){return t}function p_(t){return t.access_token&&t.refresh_token&&t.expires_in}const np=["global","local","others"];var m_=globalThis&&globalThis.__rest||function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class g_{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=d5(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=np[0]){if(np.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${np.join(", ")}`);try{return await lt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await lt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:As})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=m_(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await lt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:h_,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(it(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await lt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:As})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,c;try{const d={nextPage:null,lastPage:0,total:0},p=await lt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:f_});if(p.error)throw p.error;const m=await p.json(),y=(a=p.headers.get("x-total-count"))!==null&&a!==void 0?a:0,f=(c=(o=p.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&c!==void 0?c:[];return f.length>0&&(f.forEach(b=>{const _=parseInt(b.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(b.split(";")[1].split("=")[1]);d[`${j}Page`]=_}),d.total=parseInt(y)),{data:Object.assign(Object.assign({},m),d),error:null}}catch(d){if(it(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){mo(e);try{return await lt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:As})}catch(r){if(it(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){mo(e);try{return await lt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:As})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){mo(e);try{return await lt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:As})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){mo(e.userId);try{const{data:r,error:n}=await lt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(it(r))return{data:null,error:r};throw r}}async _deleteFactor(e){mo(e.userId),mo(e.id);try{return{data:await lt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}}function Q1(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function v_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const go={debug:!!(globalThis&&u5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class h5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class y_ extends h5{}async function x_(t,e,r){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),go.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){go.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{go.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw go.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new y_(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(go.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}v_();const w_={url:CN,storageKey:PN,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ON,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Z1(t,e,r){return await r()}const vo={};class Uc{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Uc.nextInstanceID,Uc.nextInstanceID+=1,this.instanceID>0&&ti()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const i=Object.assign(Object.assign({},w_),e);if(this.logDebugMessages=!!i.debug,typeof i.debug=="function"&&(this.logger=i.debug),this.persistSession=i.persistSession,this.storageKey=i.storageKey,this.autoRefreshToken=i.autoRefreshToken,this.admin=new g_({url:i.url,headers:i.headers,fetch:i.fetch}),this.url=i.url,this.headers=i.headers,this.fetch=d5(i.fetch),this.lock=i.lock||Z1,this.detectSessionInUrl=i.detectSessionInUrl,this.flowType=i.flowType,this.hasCustomAuthorizationHeader=i.hasCustomAuthorizationHeader,i.lock?this.lock=i.lock:ti()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=x_:this.lock=Z1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(i.storage?this.storage=i.storage:u5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Q1(this.memoryStorage)),i.userStorage&&(this.userStorage=i.userStorage)):(this.memoryStorage={},this.storage=Q1(this.memoryStorage)),ti()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=vo[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=vo[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vo[this.storageKey]=Object.assign(Object.assign({},vo[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${a5}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=JN(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),ti()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),zN(s)){const c=(e=s.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return it(r)?{error:r}:{error:new l5("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Hi}),{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(it(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:p,password:m,options:y}=e;let f=null,b=null;this.flowType==="pkce"&&([f,b]=await po(this.storage,this.storageKey)),s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:p,password:m,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:f,code_challenge_method:b},xform:Hi})}else if("phone"in e){const{phone:p,password:m,options:y}=e;s=await lt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:p,password:m,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:Hi})}else throw new ad("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return{data:{user:null,session:null},error:o};const c=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(s){if(it(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:X1})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await lt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:X1})}else throw new ad("You must provide either an email or phone number and a password");const{data:n,error:i}=r;return i?{data:{user:null,session:null},error:i}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new sd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,i,s,a,o,c,d,p,m,y,f;let b,_;if("message"in e)b=e.message,_=e.signature;else{const{chain:j,wallet:x,statement:w,options:S}=e;let F;if(ti())if(typeof x=="object")F=x;else{const H=window;if("solana"in H&&typeof H.solana=="object"&&("signIn"in H.solana&&typeof H.solana.signIn=="function"||"signMessage"in H.solana&&typeof H.solana.signMessage=="function"))F=H.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(S!=null&&S.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=x}const O=new URL((r=S==null?void 0:S.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in F&&F.signIn){const H=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},S==null?void 0:S.signInWithSolana),{version:"1",domain:O.host,uri:O.href}),w?{statement:w}:null));let z;if(Array.isArray(H)&&H[0]&&typeof H[0]=="object")z=H[0];else if(H&&typeof H=="object"&&"signedMessage"in H&&"signature"in H)z=H;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in z&&"signature"in z&&(typeof z.signedMessage=="string"||z.signedMessage instanceof Uint8Array)&&z.signature instanceof Uint8Array)b=typeof z.signedMessage=="string"?z.signedMessage:new TextDecoder().decode(z.signedMessage),_=z.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");b=[`${O.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${O.href}`,`Issued At: ${(i=(n=S==null?void 0:S.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=S==null?void 0:S.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${S.signInWithSolana.notBefore}`]:[],...!((a=S==null?void 0:S.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${S.signInWithSolana.expirationTime}`]:[],...!((o=S==null?void 0:S.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${S.signInWithSolana.chainId}`]:[],...!((c=S==null?void 0:S.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${S.signInWithSolana.nonce}`]:[],...!((d=S==null?void 0:S.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${S.signInWithSolana.requestId}`]:[],...!((m=(p=S==null?void 0:S.signInWithSolana)===null||p===void 0?void 0:p.resources)===null||m===void 0)&&m.length?["Resources",...S.signInWithSolana.resources.map(z=>`- ${z}`)]:[]].join(`
`);const H=await F.signMessage(new TextEncoder().encode(b),"utf8");if(!H||!(H instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=H}}try{const{data:j,error:x}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:b,signature:WN(_)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Hi});if(x)throw x;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new sd}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:x})}catch(j){if(it(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(e){const r=await fa(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await lt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Hi});if(await ys(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new sd}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(it(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await lt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Hi}),{data:c,error:d}=o;return d?{data:{user:null,session:null},error:d}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new sd}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:d})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:c}=e;let d=null,p=null;this.flowType==="pkce"&&([d,p]=await po(this.storage,this.storageKey));const{error:m}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:d,code_challenge_method:p},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:m}}if("phone"in e){const{phone:o,options:c}=e,{data:d,error:p}=await lt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=c==null?void 0:c.data)!==null&&i!==void 0?i:{},create_user:(s=c==null?void 0:c.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(a=c==null?void 0:c.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p}}throw new ad("You must provide either an email or phone number.")}catch(o){if(it(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Hi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const c=a.session,d=a.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:d,session:c},error:null}}catch(i){if(it(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithSSO(e){var r,n,i;try{let s=null,a=null;return this.flowType==="pkce"&&([s,a]=await po(this.storage,this.storageKey)),await lt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:a}),headers:this.headers,xform:d_})}catch(s){if(it(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Ns;const{error:i}=await lt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:i}})}catch(e){if(it(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await lt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new ad("You must provide either an email or phone number and a type")}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await fa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Zf:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await fa(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=rp()}if(this.storage.isServer&&e.user){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,d,p)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,d,p))})}return{data:{session:e},error:null}}const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{session:null},error:s}:{data:{session:i},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:As}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ns}:await lt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:As})})}catch(r){if(it(r))return FN(r)&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Ns;const a=i.session;let o=null,c=null;this.flowType==="pkce"&&e.email!=null&&([o,c]=await po(this.storage,this.storageKey));const{data:d,error:p}=await lt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:c}),jwt:a.access_token,xform:As});if(p)throw p;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(it(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ns;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=tp(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{session:o,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:c}=await this._getUser(e.access_token);if(c)throw c;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(r){if(it(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Ns;const{session:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?{data:{user:null,session:null},error:s}:i?{data:{user:i.user,session:i},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(it(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!ti())throw new od("No browser detected.");if(e.error||e.error_description||e.error_code)throw new od(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new H1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new od("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new H1("No code detected.");const{data:w,error:S}=await this._exchangeCodeForSession(e.code);if(S)throw S;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:c,token_type:d}=e;if(!s||!o||!a||!d)throw new od("No session defined in URL");const p=Math.round(Date.now()/1e3),m=parseInt(o);let y=p+m;c&&(y=parseInt(c));const f=y-p;f*1e3<=wo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${f}s, should have been closer to ${m}s`);const b=y-m;p-b>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",b,y,p):p-b<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",b,y,p);const{data:_,error:j}=await this._getUser(s);if(j)throw j;const x={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:y,refresh_token:a,token_type:d,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:e.type},error:null}}catch(n){if(it(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await fa(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{error:s};const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(TN(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await ys(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=GN(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await po(this.storage,this.storageKey,!0));try{return await lt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(it(s))return{data:null,error:s};throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(it(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,c,d,p;const{data:m,error:y}=s;if(y)throw y;const f=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await lt(this.fetch,"GET",f,{headers:this.headers,jwt:(p=(d=m.session)===null||d===void 0?void 0:d.access_token)!==null&&p!==void 0?p:void 0})});if(i)throw i;return ti()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(it(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await lt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await XN(async i=>(i>0&&await YN(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await lt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Hi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ep(s)&&Date.now()+a-n<wo})}catch(n){if(this._debug(r,"error",n),it(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),ti()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await fa(this.storage,this.storageKey);if(i&&this.userStorage){let a=await fa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await bo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:rp()}else if(i&&!i.user&&!i.user){const a=await fa(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ys(this.storage,this.storageKey+"-user"),await bo(this.storage,this.storageKey,i)):i.user=rp()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Zf;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${Zf}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ep(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Ns;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Ph;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Ns;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={session:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),it(s)){const a={session:null,error:s};return ep(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(c){s.push(c)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await bo(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=K1(i);await bo(this.storage,this.storageKey,s)}else{const i=K1(r);await bo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ys(this.storage,this.storageKey),await ys(this.storage,this.storageKey+"-code-verifier"),await ys(this.storage,this.storageKey+"-user"),this.userStorage&&await ys(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ti()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),wo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/wo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${wo}ms, refresh threshold is ${x0} ticks`),i<=x0&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof h5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ti()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await po(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await lt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:d}=await lt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((i=c==null?void 0:c.totp)===null||i===void 0)&&i.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(it(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return{data:null,error:s};const{data:a,error:o}=await lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(r){if(it(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?{data:null,error:s}:await lt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(it(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],i=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),s=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:i,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:i},error:s}=e;if(s)return{data:null,error:s};if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=tp(i.access_token);let o=null;a.aal&&(o=a.aal);let c=o;((n=(r=i.user.factors)===null||r===void 0?void 0:r.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const p=a.amr||[];return{data:{currentLevel:o,nextLevel:c,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+DN>i)return n;const{data:s,error:a}=await lt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:f,error:b}=await this.getSession();if(b||!f.session)return{data:null,error:b};n=f.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:c}}=tp(n);r!=null&&r.allowExpired||i_(s.exp);const d=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!d){const{error:f}=await this.getUser(n);if(f)throw f;return{data:{claims:s,header:i,signature:a},error:null}}const p=s_(i.alg),m=await crypto.subtle.importKey("jwk",d,p,!0,["verify"]);if(!await crypto.subtle.verify(p,m,a,HN(`${o}.${c}`)))throw new N0("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(it(n))return{data:null,error:n};throw n}}}Uc.nextInstanceID=0;const b_=Uc;class N_ extends b_{constructor(e){super(e)}}var __=globalThis&&globalThis.__awaiter||function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(p){try{d(n.next(p))}catch(m){a(m)}}function c(p){try{d(n.throw(p))}catch(m){a(m)}}function d(p){p.done?s(p.value):i(p.value).then(o,c)}d((n=n.apply(t,e||[])).next())})};class S_{constructor(e,r,n){var i,s,a;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const o=LN(e),c=new URL(o);this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,p={db:wN,realtime:NN,auth:Object.assign(Object.assign({},bN),{storageKey:d}),global:xN},m=EN(n??{},p);this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=m.global.headers)!==null&&s!==void 0?s:{},m.accessToken?(this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(y,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=m.auth)!==null&&a!==void 0?a:{},this.headers,m.global.fetch),this.fetch=kN(r,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.rest=new U3(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch}),this.storage=new gN(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new g3(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return __(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,storageKey:s,flowType:a,lock:o,debug:c},d,p){const m={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N_({url:this.authUrl.href,headers:Object.assign(Object.assign({},m),d),storageKey:s,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,flowType:a,lock:o,debug:c,fetch:p,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new nN(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const j_=(t,e,r)=>new S_(t,e,r);function k_(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}k_()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const A_="https://oxkdjossstzpiewqncni.supabase.co",f5="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im94a2Rqb3Nzc3R6cGlld3FuY25pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3NzE5MjAsImV4cCI6MjA3MDM0NzkyMH0.AaNByPLw37pgjBmOXx7_mIoPZ2KsCO3lCtoC1m8uExE",He=j_(A_,f5),ld=f5!=="placeholder-key";class pt{static async getCurrentOrganizationId(){try{const e=localStorage.getItem("authUser");if(console.log("SupabaseService: Raw user data from localStorage:",e),!e)return console.log("SupabaseService: No user data found in localStorage"),null;const r=JSON.parse(e);return console.log("SupabaseService: Parsed user object:",r),console.log("SupabaseService: User organizationId:",r.organizationId),r.organizationId||null}catch(e){return console.error("Error getting organization ID:",e),null}}static async getOrders(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await He.from("orders").select("*").eq("organization_id",e).order("created_at",{ascending:!1});if(n)throw n;return(r==null?void 0:r.map(i=>({id:i.id,organizationId:i.organization_id,jobName:i.job_name,jobNumber:i.job_number,orderNumber:i.order_number,purchaseOrder:i.purchase_order,designerId:i.designer_id,cost:i.cost,sourceId:i.source_id,destinationName:i.destination_name,status:i.status,priority:i.priority,pickupId:i.pickup_id,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading orders:",e),[]}}static async saveOrder(e){try{console.log("SupabaseService: Attempting to save order:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.error("SupabaseService: No organization ID found"),null;const n=new Date().toISOString(),i={organization_id:r,job_name:e.jobName,job_number:e.jobNumber,order_number:e.orderNumber,purchase_order:e.purchaseOrder,designer_id:e.designerId,cost:e.cost,source_id:e.sourceId,destination_name:e.destinationName,status:e.status,priority:e.priority,pickup_id:e.pickupId,created_at:n,updated_at:n};console.log("SupabaseService: Inserting order data:",i);const{data:s,error:a}=await He.from("orders").insert([i]).select().single();if(a)throw console.error("SupabaseService: Database error:",a),a;return console.log("SupabaseService: Order saved successfully:",s),s?{...s,organizationId:s.organization_id,jobName:s.job_name,jobNumber:s.job_number,orderNumber:s.order_number,purchaseOrder:s.purchase_order,designerId:s.designer_id,sourceId:s.source_id,destinationName:s.destination_name,pickupId:s.pickup_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("SupabaseService: Error saving order:",r),null}}static async updateOrder(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const s={updated_at:new Date().toISOString()};r.jobName!==void 0&&(s.job_name=r.jobName),r.jobNumber!==void 0&&(s.job_number=r.jobNumber),r.orderNumber!==void 0&&(s.order_number=r.orderNumber),r.purchaseOrder!==void 0&&(s.purchase_order=r.purchaseOrder),r.designerId!==void 0&&(s.designer_id=r.designerId),r.cost!==void 0&&(s.cost=r.cost),r.sourceId!==void 0&&(s.source_id=r.sourceId),r.destinationName!==void 0&&(s.destination_name=r.destinationName),r.status!==void 0&&(s.status=r.status),r.priority!==void 0&&(s.priority=r.priority),r.pickupId!==void 0&&(s.pickup_id=r.pickupId);const{data:a,error:o}=await He.from("orders").update(s).eq("id",e).eq("organization_id",n).select().single();if(o)throw o;return a?{...a,organizationId:a.organization_id,jobName:a.job_name,jobNumber:a.job_number,orderNumber:a.order_number,purchaseOrder:a.purchase_order,designerId:a.designer_id,sourceId:a.source_id,destinationName:a.destination_name,pickupId:a.pickup_id,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}:null}catch(n){return console.error("Error updating order:",n),null}}static async deleteOrder(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await He.from("orders").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting order:",r),!1}}static async getPickups(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await He.from("pickups").select("*").eq("organization_id",e).order("scheduled_date",{ascending:!0});if(n)throw n;return(r==null?void 0:r.map(i=>({id:i.id,organizationId:i.organization_id,name:i.name,orders:i.orders,driverId:i.driver_id,status:i.status,priority:i.priority,scheduledDate:new Date(i.scheduled_date),createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading pickups:",e),[]}}static async savePickup(e){try{const r=await this.getCurrentOrganizationId();if(!r)return null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,orders:e.orders,driver_id:e.driverId,status:e.status,priority:e.priority,scheduled_date:e.scheduledDate.toISOString(),created_at:n,updated_at:n},{data:s,error:a}=await He.from("pickups").insert([i]).select().single();if(a)throw a;return s?{id:s.id,organizationId:s.organization_id,name:s.name,orders:s.orders,driverId:s.driver_id,status:s.status,priority:s.priority,scheduledDate:new Date(s.scheduled_date),createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("Error saving pickup:",r),null}}static async updatePickup(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const s={updated_at:new Date().toISOString()};r.name!==void 0&&(s.name=r.name),r.orders!==void 0&&(s.orders=r.orders),r.driverId!==void 0&&(s.driver_id=r.driverId),r.status!==void 0&&(s.status=r.status),r.priority!==void 0&&(s.priority=r.priority),r.scheduledDate!==void 0&&(s.scheduled_date=r.scheduledDate.toISOString());const{data:a,error:o}=await He.from("pickups").update(s).eq("id",e).eq("organization_id",n).select().single();if(o)throw o;return a?{id:a.id,organizationId:a.organization_id,name:a.name,orders:a.orders,driverId:a.driver_id,status:a.status,priority:a.priority,scheduledDate:new Date(a.scheduled_date),createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}:null}catch(n){return console.error("Error updating pickup:",n),null}}static async deletePickup(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await He.from("pickups").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting pickup:",r),!1}}static async getSources(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await He.from("sources").select("*").eq("organization_id",e).order("name",{ascending:!0});if(n)throw n;return(r==null?void 0:r.map(i=>({id:i.id,organizationId:i.organization_id,name:i.name,address:i.address,phoneNumber:i.phone_number,mainContact:i.main_contact,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading sources:",e),[]}}static async saveSource(e){try{console.log("SupabaseService: Attempting to save source:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.error("SupabaseService: No organization ID found"),null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,address:e.address,phone_number:e.phoneNumber,main_contact:e.mainContact,created_at:n,updated_at:n};console.log("SupabaseService: Inserting source data:",i);const{data:s,error:a}=await He.from("sources").insert([i]).select().single();if(a)throw console.error("SupabaseService: Database error:",a),a;return console.log("SupabaseService: Source saved successfully:",s),s?{...s,organizationId:s.organization_id,phoneNumber:s.phone_number,mainContact:s.main_contact,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("Error saving source:",r),null}}static async updateSource(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const s={updated_at:new Date().toISOString()};r.name!==void 0&&(s.name=r.name),r.address!==void 0&&(s.address=r.address),r.phoneNumber!==void 0&&(s.phone_number=r.phoneNumber),r.mainContact!==void 0&&(s.main_contact=r.mainContact);const{data:a,error:o}=await He.from("sources").update(s).eq("id",e).eq("organization_id",n).select().single();if(o)throw o;return a?{...a,organizationId:a.organization_id,phoneNumber:a.phone_number,mainContact:a.main_contact,createdAt:new Date(a.created_at),updatedAt:new Date(a.updated_at)}:null}catch(n){return console.error("Error updating manufacturer:",n),null}}static async deleteSource(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await He.from("sources").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting manufacturer:",r),!1}}static async getDesigners(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await He.from("designers").select("*").eq("organization_id",e).order("name",{ascending:!0});if(n)throw n;return(r==null?void 0:r.map(i=>({...i,organizationId:i.organization_id,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading designers:",e),[]}}static async saveDesigner(e){try{console.log("SupabaseService: Attempting to save designer:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.error("SupabaseService: No organization ID found"),null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,email:e.email,phone:e.phone,created_at:n,updated_at:n};console.log("SupabaseService: Inserting designer data:",i);const{data:s,error:a}=await He.from("designers").insert([i]).select().single();if(a)throw console.error("SupabaseService: Database error:",a),a;return console.log("SupabaseService: Designer saved successfully:",s),s?{...s,organizationId:s.organization_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("Error saving designer:",r),null}}static async updateDesigner(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const i=new Date().toISOString(),{data:s,error:a}=await He.from("designers").update({...r,updated_at:i}).eq("id",e).eq("organization_id",n).select().single();if(a)throw a;return s?{...s,organizationId:s.organization_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(n){return console.error("Error updating designer:",n),null}}static async deleteDesigner(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await He.from("designers").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting designer:",r),!1}}static async getDrivers(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await He.from("drivers").select("*").eq("organization_id",e).order("name",{ascending:!0});if(n)throw n;return(r==null?void 0:r.map(i=>({...i,organizationId:i.organization_id,createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading drivers:",e),[]}}static async saveDriver(e){try{const r=await this.getCurrentOrganizationId();if(!r)return null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,email:e.email,phone:e.phone,vehicle:e.vehicle,created_at:n,updated_at:n},{data:s,error:a}=await He.from("drivers").insert([i]).select().single();if(a)throw a;return s?{...s,organizationId:s.organization_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(r){return console.error("Error saving driver:",r),null}}static async updateDriver(e,r){try{const n=await this.getCurrentOrganizationId();if(!n)return null;const i=new Date().toISOString(),{data:s,error:a}=await He.from("drivers").update({...r,updated_at:i}).eq("id",e).eq("organization_id",n).select().single();if(a)throw a;return s?{...s,organizationId:s.organization_id,createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)}:null}catch(n){return console.error("Error updating driver:",n),null}}static async deleteDriver(e){try{const r=await this.getCurrentOrganizationId();if(!r)return!1;const{error:n}=await He.from("drivers").delete().eq("id",e).eq("organization_id",r);if(n)throw n;return!0}catch(r){return console.error("Error deleting driver:",r),!1}}static async getOrganizationalSettings(){try{console.log("SupabaseService: Getting organizational settings...");const e=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID for settings:",e),!e)return console.log("SupabaseService: No organization ID, returning default settings"),{id:"",organizationId:"",companyName:"",companyAddress:"",companyPhone:"",logoUrl:void 0,mobileIconUrl:void 0};console.log("SupabaseService: Querying organizational_settings table...");const{data:r,error:n}=await He.from("organizational_settings").select("*").eq("organization_id",e).single();if(console.log("SupabaseService: Query result - data:",r,"error:",n),n)throw console.error("SupabaseService: Database error:",n),n;const i=r?{id:r.id,organizationId:r.organization_id,companyName:r.company_name,companyAddress:r.company_address,companyPhone:r.company_phone,logoUrl:r.logo_url,mobileIconUrl:r.mobile_icon_url}:{id:"",organizationId:e,companyName:"",companyAddress:"",companyPhone:"",logoUrl:void 0,mobileIconUrl:void 0};return console.log("SupabaseService: Returning settings:",i),i}catch(e){return console.error("Error loading organizational settings:",e),{id:"",organizationId:"",companyName:"",companyAddress:"",companyPhone:"",logoUrl:void 0,mobileIconUrl:void 0}}}static async saveOrganizationalSettings(e){try{console.log("SupabaseService: Saving organizational settings:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.log("SupabaseService: No organization ID found"),!1;const n=new Date().toISOString(),i={organization_id:r,company_name:e.companyName,company_address:e.companyAddress,company_phone:e.companyPhone,logo_url:e.logoUrl,mobile_icon_url:e.mobileIconUrl,created_at:n,updated_at:n};if(console.log("SupabaseService: Database settings:",i),i.logo_url&&i.logo_url.length>1e6)throw console.error("SupabaseService: Logo URL is too long:",i.logo_url.length,"characters"),new Error("Logo URL is too long. Please use a smaller image.");if(i.mobile_icon_url&&i.mobile_icon_url.length>5e5)throw console.error("SupabaseService: Mobile icon URL is too long:",i.mobile_icon_url.length,"characters"),new Error("Mobile icon URL is too long. Please use a smaller image.");const{data:s,error:a}=await He.from("organizational_settings").select("id").eq("organization_id",r).single();console.log("SupabaseService: Existing record check - data:",s,"error:",a);let o;if(s?(console.log("SupabaseService: Updating existing record with ID:",s.id),o=await He.from("organizational_settings").update({company_name:i.company_name,company_address:i.company_address,company_phone:i.company_phone,logo_url:i.logo_url,mobile_icon_url:i.mobile_icon_url,updated_at:i.updated_at}).eq("id",s.id).select()):(console.log("SupabaseService: Inserting new record"),o=await He.from("organizational_settings").insert([i]).select()),console.log("SupabaseService: Operation result - data:",o.data,"error:",o.error),o.error)throw console.error("SupabaseService: Database error details:",o.error),o.error;return console.log("SupabaseService: Settings saved successfully"),!0}catch(r){return console.error("Error saving organizational settings:",r),!1}}static async getReturns(){try{const e=await this.getCurrentOrganizationId();if(!e)return[];const{data:r,error:n}=await He.from("returns").select("*").eq("organization_id",e).order("created_at",{ascending:!1});if(n)throw n;return(r==null?void 0:r.map(i=>({id:i.id,organizationId:i.organization_id,name:i.name,orders:i.orders||[],driverId:i.driver_id,status:i.status,priority:i.priority,scheduledDate:new Date(i.scheduled_date),createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)})))||[]}catch(e){return console.error("Error loading returns:",e),[]}}static async saveReturn(e){try{console.log("SupabaseService: Attempting to save return:",e);const r=await this.getCurrentOrganizationId();if(console.log("SupabaseService: Organization ID:",r),!r)return console.error("SupabaseService: No organization ID found"),null;const n=new Date().toISOString(),i={organization_id:r,name:e.name,orders:e.orders,driver_id:e.driverId||null,status:e.status,priority:e.priority,scheduled_date:e.scheduledDate,created_at:n,updated_at:n};console.log("SupabaseService: Inserting return data:",i),console.log('SupabaseService: About to call supabase.from("returns").insert()');const{data:s,error:a}=await He.from("returns").insert([i]).select().single();if(console.log("SupabaseService: Supabase response - data:",s,"error:",a),a)throw console.error("SupabaseService: Database error:",a),a;console.log("SupabaseService: Return saved successfully:",s);const o={id:s.id,organizationId:s.organization_id,name:s.name,orders:s.orders||[],driverId:s.driver_id,status:s.status,priority:s.priority,scheduledDate:new Date(s.scheduled_date),createdAt:new Date(s.created_at),updatedAt:new Date(s.updated_at)};return console.log("SupabaseService: Mapped return object:",o),o}catch(r){return console.error("SupabaseService: Error saving return:",r),null}}static async updateReturn(e,r){try{console.log("SupabaseService: Updating return:",e,r);const n={updated_at:new Date().toISOString()};r.name!==void 0&&(n.name=r.name),r.orders!==void 0&&(n.orders=r.orders),r.driverId!==void 0&&(n.driver_id=r.driverId),r.status!==void 0&&(n.status=r.status),r.priority!==void 0&&(n.priority=r.priority),r.scheduledDate!==void 0&&(n.scheduled_date=r.scheduledDate);const{data:i,error:s}=await He.from("returns").update(n).eq("id",e).select().single();if(s)throw console.error("SupabaseService: Database error:",s),s;return console.log("SupabaseService: Return updated successfully:",i),{id:i.id,organizationId:i.organization_id,name:i.name,orders:i.orders||[],driverId:i.driver_id,status:i.status,priority:i.priority,scheduledDate:new Date(i.scheduled_date),createdAt:new Date(i.created_at),updatedAt:new Date(i.updated_at)}}catch(n){return console.error("Error updating return:",n),null}}static async deleteReturn(e){try{console.log("SupabaseService: Deleting return:",e);const{error:r}=await He.from("returns").delete().eq("id",e);if(r)throw console.error("SupabaseService: Database error:",r),r;return console.log("SupabaseService: Return deleted successfully"),!0}catch(r){return console.error("Error deleting return:",r),!1}}}class vc{static async getSubscriptionPlans(){try{console.log("SubscriptionService: Fetching subscription plans...");const{data:e,error:r}=await He.from("subscription_plans").select("*").eq("is_active",!0).order("price",{ascending:!0});if(console.log("SubscriptionService: Raw data from supabase:",e),console.log("SubscriptionService: Error from supabase:",r),r)throw r;const n=(e==null?void 0:e.map(i=>({id:i.id,name:i.name,price:i.price,currency:i.currency,interval:i.interval,features:i.features,isActive:i.is_active})))||[];if(console.log("SubscriptionService: Mapped plans:",n),n.length===0){console.log("SubscriptionService: No plans found in database, returning default plans");const i=[{id:"free-plan",name:"free",price:0,currency:"USD",interval:"month",features:{maxUsers:3,maxOrders:50,maxPickups:20,maxSources:5,maxDesigners:5,maxDrivers:3,advancedReporting:!1,apiAccess:!1,prioritySupport:!1,customBranding:!1},isActive:!0},{id:"pro-plan",name:"pro",price:29.99,currency:"USD",interval:"month",features:{maxUsers:25,maxOrders:1e3,maxPickups:500,maxSources:50,maxDesigners:50,maxDrivers:25,advancedReporting:!0,apiAccess:!0,prioritySupport:!1,customBranding:!1},isActive:!0},{id:"enterprise-plan",name:"enterprise",price:99.99,currency:"USD",interval:"month",features:{maxUsers:-1,maxOrders:-1,maxPickups:-1,maxSources:-1,maxDesigners:-1,maxDrivers:-1,advancedReporting:!0,apiAccess:!0,prioritySupport:!0,customBranding:!0},isActive:!0}];return console.log("SubscriptionService: Returning default plans:",i),i}return n}catch(e){return console.error("Error loading subscription plans:",e),console.log("SubscriptionService: Returning empty array due to error"),[]}}static async getUsageMetrics(){try{const e=localStorage.getItem("authUser");if(!e)return null;const n=JSON.parse(e).organizationId;if(!n)return null;const{data:i}=await He.from("organizations").select("plan").eq("id",n).single();if(!i)return null;const[s,a,o]=await Promise.all([this.getUsersCount(n),this.getOrdersCount(n),this.getPickupsCount(n)]),c=this.getPlanLimits(i.plan),d=new Date,p=new Date(d.getFullYear(),d.getMonth(),1),m=new Date(d.getFullYear(),d.getMonth()+1,0);return{organizationId:n,currentPeriod:{start:p,end:m},users:{total:s,active:s,limit:c.maxUsers},orders:{total:a,limit:c.maxOrders},pickups:{total:o,limit:c.maxPickups},storage:{used:0,limit:c.maxUsers*100},lastUpdated:d}}catch(e){return console.error("Error getting usage metrics:",e),null}}static async checkUsageLimit(e){try{const r=await this.getUsageMetrics();if(!r)return{allowed:!1,reason:"Unable to verify usage limits"};switch(e){case"create_user":if(r.users.total>=r.users.limit)return{allowed:!1,reason:`User limit reached (${r.users.total}/${r.users.limit}). Upgrade your plan to add more users.`};break;case"create_order":if(r.orders.total>=r.orders.limit)return{allowed:!1,reason:`Order limit reached (${r.orders.total}/${r.orders.limit}). Upgrade your plan to create more orders.`};break;case"create_pickup":if(r.pickups.total>=r.pickups.limit)return{allowed:!1,reason:`Pickup limit reached (${r.pickups.total}/${r.pickups.limit}). Upgrade your plan to create more pickups.`};break}return{allowed:!0}}catch(r){return console.error("Error checking usage limit:",r),{allowed:!1,reason:"Error checking usage limits"}}}static async upgradePlan(e){try{const r=localStorage.getItem("authUser");if(!r)return{success:!1,error:"Not authenticated"};const n=JSON.parse(r);if(!n.organizationId)return{success:!1,error:"Organization not found"};if(n.role!=="admin")return{success:!1,error:"Only administrators can upgrade plans"};const{error:s}=await He.from("organizations").update({plan:e,updated_at:new Date().toISOString()}).eq("id",n.organizationId);if(s)throw s;return{success:!0}}catch(r){return console.error("Error upgrading plan:",r),{success:!1,error:"Failed to upgrade plan"}}}static async getBillingHistory(){try{const e=localStorage.getItem("authUser");return e?JSON.parse(e).organizationId?[]:[]:[]}catch(e){return console.error("Error getting billing history:",e),[]}}static async getUsersCount(e){try{const{count:r,error:n}=await He.from("users").select("*",{count:"exact",head:!0}).eq("organization_id",e).eq("is_active",!0);if(n)throw n;return r||0}catch(r){return console.error("Error counting users:",r),0}}static async getOrdersCount(e){try{const{count:r,error:n}=await He.from("orders").select("*",{count:"exact",head:!0}).eq("organization_id",e);if(n)throw n;return r||0}catch(r){return console.error("Error counting orders:",r),0}}static async getPickupsCount(e){try{const{count:r,error:n}=await He.from("pickups").select("*",{count:"exact",head:!0}).eq("organization_id",e);if(n)throw n;return r||0}catch(r){return console.error("Error counting pickups:",r),0}}static getPlanLimits(e){switch(e){case"free":return{maxUsers:3,maxOrders:50,maxPickups:20,maxSources:5,maxDesigners:5,maxDrivers:3};case"pro":return{maxUsers:25,maxOrders:1e3,maxPickups:500,maxSources:50,maxDesigners:50,maxDrivers:25};case"enterprise":return{maxUsers:-1,maxOrders:-1,maxPickups:-1,maxSources:-1,maxDesigners:-1,maxDrivers:-1};default:return{maxUsers:3,maxOrders:50,maxPickups:20,maxSources:5,maxDesigners:5,maxDrivers:3}}}}const L_={orders:[],pickups:[],returns:[],sources:[],designers:[],drivers:[],organizationalSettings:{id:"",organizationId:"",companyName:"",companyAddress:"",companyPhone:"",logoUrl:void 0,mobileIconUrl:void 0},loading:!1,error:null},E_=(t,e)=>{switch(e.type){case"SET_LOADING":return{...t,loading:e.payload};case"SET_ERROR":return{...t,error:e.payload};case"SET_ORDERS":return{...t,orders:e.payload};case"ADD_ORDER":return{...t,orders:[e.payload,...t.orders]};case"UPDATE_ORDER":return{...t,orders:t.orders.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_ORDER":return{...t,orders:t.orders.filter(r=>r.id!==e.payload)};case"SET_PICKUPS":return{...t,pickups:e.payload};case"ADD_PICKUP":return{...t,pickups:[e.payload,...t.pickups]};case"UPDATE_PICKUP":return{...t,pickups:t.pickups.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_PICKUP":return{...t,pickups:t.pickups.filter(r=>r.id!==e.payload)};case"SET_SOURCES":return{...t,sources:e.payload};case"ADD_SOURCE":return{...t,sources:[e.payload,...t.sources]};case"UPDATE_SOURCE":return{...t,sources:t.sources.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_SOURCE":return{...t,sources:t.sources.filter(r=>r.id!==e.payload)};case"SET_DESIGNERS":return{...t,designers:e.payload};case"ADD_DESIGNER":return{...t,designers:[e.payload,...t.designers]};case"UPDATE_DESIGNER":return{...t,designers:t.designers.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_DESIGNER":return{...t,designers:t.designers.filter(r=>r.id!==e.payload)};case"SET_DRIVERS":return{...t,drivers:e.payload};case"ADD_DRIVER":return{...t,drivers:[e.payload,...t.drivers]};case"UPDATE_DRIVER":return{...t,drivers:t.drivers.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_DRIVER":return{...t,drivers:t.drivers.filter(r=>r.id!==e.payload)};case"SET_RETURNS":return{...t,returns:e.payload};case"ADD_RETURN":return{...t,returns:[e.payload,...t.returns]};case"UPDATE_RETURN":return{...t,returns:t.returns.map(r=>r.id===e.payload.id?e.payload:r)};case"DELETE_RETURN":return{...t,returns:t.returns.filter(r=>r.id!==e.payload)};case"SET_ORGANIZATIONAL_SETTINGS":return{...t,organizationalSettings:e.payload};default:return t}},p5=se.createContext(void 0),C_=({children:t})=>{const[e,r]=se.useReducer(E_,L_);se.useEffect(()=>{(async()=>{console.log("OrderContext: Starting to load data..."),r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});try{if(ld){console.log("OrderContext: Loading data from Supabase...");const[U,J,D,T,B,W,de]=await Promise.all([pt.getOrders(),pt.getPickups(),pt.getReturns(),pt.getSources(),pt.getDesigners(),pt.getDrivers(),pt.getOrganizationalSettings()]);console.log("OrderContext: Data loaded from Supabase:",{orders:U.length,pickups:J.length,returns:D.length,sources:T.length,designers:B.length,drivers:W.length}),r({type:"SET_ORDERS",payload:U}),r({type:"SET_PICKUPS",payload:J}),r({type:"SET_RETURNS",payload:D}),r({type:"SET_SOURCES",payload:T}),r({type:"SET_DESIGNERS",payload:B}),r({type:"SET_DRIVERS",payload:W}),r({type:"SET_ORGANIZATIONAL_SETTINGS",payload:de})}}catch(U){console.error("OrderContext: Error loading data:",U),r({type:"SET_ERROR",payload:"Failed to load data"})}finally{console.log("OrderContext: Finished loading data"),r({type:"SET_LOADING",payload:!1})}})()},[]);const z={...e,addOrder:async L=>{try{console.log("OrderContext: Attempting to add order:",L);const U=await vc.checkUsageLimit("create_order");if(!U.allowed)return r({type:"SET_ERROR",payload:U.reason||"Usage limit exceeded"}),null;const J=await pt.saveOrder(L);return console.log("OrderContext: Order creation result:",J),J&&(r({type:"ADD_ORDER",payload:J}),r({type:"SET_ERROR",payload:null})),J}catch(U){return console.error("OrderContext: Error adding order:",U),r({type:"SET_ERROR",payload:"Failed to add order"}),null}},updateOrder:async(L,U)=>{try{const J=await pt.updateOrder(L,U);return J&&(r({type:"UPDATE_ORDER",payload:J}),r({type:"SET_ERROR",payload:null})),J}catch(J){return console.error("Error updating order:",J),r({type:"SET_ERROR",payload:"Failed to update order"}),null}},deleteOrder:async L=>{try{const U=await pt.deleteOrder(L);return U&&(r({type:"DELETE_ORDER",payload:L}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error deleting order:",U),r({type:"SET_ERROR",payload:"Failed to delete order"}),!1}},addPickup:async L=>{try{const U=await vc.checkUsageLimit("create_pickup");if(!U.allowed)return r({type:"SET_ERROR",payload:U.reason||"Usage limit exceeded"}),null;const J=await pt.savePickup(L);return J&&(r({type:"ADD_PICKUP",payload:J}),r({type:"SET_ERROR",payload:null})),J}catch(U){return console.error("Error adding pickup:",U),r({type:"SET_ERROR",payload:"Failed to add pickup"}),null}},updatePickup:async(L,U)=>{try{const J=await pt.updatePickup(L,U);return J&&(r({type:"UPDATE_PICKUP",payload:J}),r({type:"SET_ERROR",payload:null})),J}catch(J){return console.error("Error updating pickup:",J),r({type:"SET_ERROR",payload:"Failed to update pickup"}),null}},deletePickup:async L=>{try{const U=await pt.deletePickup(L);return U&&(r({type:"DELETE_PICKUP",payload:L}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error deleting pickup:",U),r({type:"SET_ERROR",payload:"Failed to delete pickup"}),!1}},addReturn:async L=>{try{console.log("OrderContext: Attempting to add return:",L),console.log("OrderContext: isSupabaseConfigured:",ld),console.log("OrderContext: Calling SupabaseService.saveReturn");const U=await pt.saveReturn(L);return console.log("OrderContext: Return creation result:",U),U?(console.log("OrderContext: Dispatching ADD_RETURN action"),r({type:"ADD_RETURN",payload:U}),r({type:"SET_ERROR",payload:null})):console.log("OrderContext: SupabaseService.saveReturn returned null"),U}catch(U){return console.error("OrderContext: Error adding return:",U),r({type:"SET_ERROR",payload:"Failed to add return"}),null}},updateReturn:async(L,U)=>{try{const J=await pt.updateReturn(L,U);return J&&(r({type:"UPDATE_RETURN",payload:J}),r({type:"SET_ERROR",payload:null})),J}catch(J){return console.error("Error updating return:",J),r({type:"SET_ERROR",payload:"Failed to update return"}),null}},deleteReturn:async L=>{try{const U=await pt.deleteReturn(L);return U&&(r({type:"DELETE_RETURN",payload:L}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error deleting return:",U),r({type:"SET_ERROR",payload:"Failed to delete return"}),!1}},addSource:async L=>{try{const U=await pt.saveSource(L);return U&&(r({type:"ADD_SOURCE",payload:U}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error adding Source:",U),r({type:"SET_ERROR",payload:"Failed to add Source"}),null}},updateSource:async(L,U)=>{try{const J=await pt.updateSource(L,U);return J&&(r({type:"UPDATE_SOURCE",payload:J}),r({type:"SET_ERROR",payload:null})),J}catch(J){return console.error("Error updating Source:",J),r({type:"SET_ERROR",payload:"Failed to update Source"}),null}},deleteSource:async L=>{try{const U=await pt.deleteSource(L);return U&&(r({type:"DELETE_SOURCE",payload:L}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error deleting Source:",U),r({type:"SET_ERROR",payload:"Failed to delete Source"}),!1}},addDesigner:async L=>{try{const U=await pt.saveDesigner(L);return U&&(r({type:"ADD_DESIGNER",payload:U}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error adding designer:",U),r({type:"SET_ERROR",payload:"Failed to add designer"}),null}},updateDesigner:async(L,U)=>{try{const J=await pt.updateDesigner(L,U);return J&&(r({type:"UPDATE_DESIGNER",payload:J}),r({type:"SET_ERROR",payload:null})),J}catch(J){return console.error("Error updating designer:",J),r({type:"SET_ERROR",payload:"Failed to update designer"}),null}},deleteDesigner:async L=>{try{const U=await pt.deleteDesigner(L);return U&&(r({type:"DELETE_DESIGNER",payload:L}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error deleting designer:",U),r({type:"SET_ERROR",payload:"Failed to delete designer"}),!1}},addDriver:async L=>{try{const U=await pt.saveDriver(L);return U&&(r({type:"ADD_DRIVER",payload:U}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error adding driver:",U),r({type:"SET_ERROR",payload:"Failed to add driver"}),null}},updateDriver:async(L,U)=>{try{const J=await pt.updateDriver(L,U);return J&&(r({type:"UPDATE_DRIVER",payload:J}),r({type:"SET_ERROR",payload:null})),J}catch(J){return console.error("Error updating driver:",J),r({type:"SET_ERROR",payload:"Failed to update driver"}),null}},deleteDriver:async L=>{try{const U=await pt.deleteDriver(L);return U&&(r({type:"DELETE_DRIVER",payload:L}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error deleting driver:",U),r({type:"SET_ERROR",payload:"Failed to delete driver"}),!1}},updateOrganizationalSettings:async L=>{try{const U=await pt.saveOrganizationalSettings(L);return U&&(r({type:"SET_ORGANIZATIONAL_SETTINGS",payload:L}),r({type:"SET_ERROR",payload:null})),U}catch(U){return console.error("Error updating organizational settings:",U),r({type:"SET_ERROR",payload:"Failed to update organizational settings"}),!1}},refreshData:async()=>{await(async()=>{r({type:"SET_LOADING",payload:!0}),r({type:"SET_ERROR",payload:null});try{console.log("OrderContext: Loading data...");const[U,J,D,T,B,W,de]=await Promise.all([pt.getOrders(),pt.getPickups(),pt.getReturns(),pt.getSources(),pt.getDesigners(),pt.getDrivers(),pt.getOrganizationalSettings()]);console.log("OrderContext: Data loaded - orgSettings:",de),r({type:"SET_ORDERS",payload:U}),r({type:"SET_PICKUPS",payload:J}),r({type:"SET_RETURNS",payload:D}),r({type:"SET_SOURCES",payload:T}),r({type:"SET_DESIGNERS",payload:B}),r({type:"SET_DRIVERS",payload:W}),r({type:"SET_ORGANIZATIONAL_SETTINGS",payload:de})}catch(U){console.error("Error refreshing data:",U),r({type:"SET_ERROR",payload:"Failed to refresh data"})}finally{r({type:"SET_LOADING",payload:!1})}})()}};return u.jsx(p5.Provider,{value:z,children:t})},dr=()=>{const t=se.useContext(p5);if(t===void 0)throw new Error("useOrder must be used within an OrderProvider");return t},m5=se.createContext(void 0),Xr=()=>{const t=se.useContext(m5);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},P_=({children:t})=>{const[e,r]=se.useState(null),[n,i]=se.useState(!0);se.useEffect(()=>{s()},[]);const s=async()=>{try{const f=localStorage.getItem("authUser");if(console.log("checkUser: storedUser exists?",!!f),f){const b=JSON.parse(f);console.log("checkUser: setting user",b),r(b),await m()}else console.log("checkUser: no stored user, setting null"),r(null)}catch(f){console.error("Error checking user:",f),r(null)}finally{i(!1)}},a=async f=>{try{const{data:b,error:_}=await He.from("organizations").select("id").eq("slug",f.organizationSlug).eq("is_active",!0).single();if(_||!b)return{success:!1,error:"Organization not found"};const{data:j,error:x}=await He.from("users").select("*").eq("email",f.email).eq("organization_id",b.id).eq("is_active",!0).single();if(x||!j)return{success:!1,error:"Invalid credentials"};if(j.password_hash!==f.password)return{success:!1,error:"Invalid credentials"};const w={id:j.id,organizationId:j.organization_id,email:j.email,username:j.username,firstName:j.first_name,lastName:j.last_name,role:j.role,permissions:{canManageUsers:!0,canManageBilling:!0,canViewReports:!0,canManageSettings:!0},organization:{id:b.id,name:"",slug:f.organizationSlug,plan:"free",isActive:!0,createdAt:new Date,updatedAt:new Date}};return localStorage.setItem("authUser",JSON.stringify(w)),console.log("login: setting user in state",w),r(w),await He.from("users").update({last_login:new Date().toISOString()}).eq("id",j.id),await m(),{success:!0}}catch(b){return console.error("Login error:",b),{success:!1,error:"An unexpected error occurred"}}},o=async f=>{try{const{data:b}=await He.from("organizations").select("id").eq("slug",f.organizationSlug).single();if(b)return{success:!1,error:"Organization slug already exists"};const{data:_,error:j}=await He.from("organizations").insert({name:f.organizationName,slug:f.organizationSlug,plan:"free",is_active:!0}).select().single();if(j||!_)return console.error("Organization creation error:",j),{success:!1,error:`Failed to create organization: ${(j==null?void 0:j.message)||"Unknown error"}`};const{data:x,error:w}=await He.from("users").insert({organization_id:_.id,email:f.email,username:f.username,password_hash:f.password,first_name:f.firstName,last_name:f.lastName,role:"admin",is_active:!0,email_verified:!0}).select().single();if(w||!x)return console.error("User creation error:",w),{success:!1,error:`Failed to create user: ${(w==null?void 0:w.message)||"Unknown error"}`};const{error:S}=await He.from("organizational_settings").insert({organization_id:_.id,company_name:f.organizationName,company_address:"",company_phone:""});S&&console.error("Organizational settings creation error:",S);const F={id:x.id,organizationId:x.organization_id,email:x.email,username:x.username,firstName:x.first_name,lastName:x.last_name,role:x.role,permissions:{canManageUsers:!0,canManageBilling:!0,canViewReports:!0,canManageSettings:!0},organization:{id:_.id,name:f.organizationName,slug:f.organizationSlug,plan:"free",isActive:!0,createdAt:new Date,updatedAt:new Date}};return localStorage.setItem("authUser",JSON.stringify(F)),r(F),{success:!0}}catch(b){return console.error("Signup error:",b),{success:!1,error:"An unexpected error occurred"}}},c=async()=>{localStorage.removeItem("authUser"),r(null)},d=async f=>{try{const{data:b}=await He.from("organizations").select("id").eq("slug",f.organizationSlug).single();if(!b)return{success:!1,error:"Organization not found"};const{data:_}=await He.from("users").select("id").eq("email",f.email).eq("organization_id",b.id).single();if(!_)return{success:!1,error:"User not found"};const j=Math.random().toString(36).substring(2)+Date.now().toString(36),x=new Date(Date.now()+24*60*60*1e3);return await He.from("password_reset_tokens").insert({user_id:_.id,token:j,expires_at:x.toISOString()}),console.log("Password reset token:",j),console.log("In production, send email with reset link"),{success:!0}}catch(b){return console.error("Password reset request error:",b),{success:!1,error:"An unexpected error occurred"}}},p=async f=>{try{const{data:b}=await He.from("password_reset_tokens").select("user_id, expires_at").eq("token",f.token).eq("used",!1).single();return b?new Date(b.expires_at)<new Date?{success:!1,error:"Token has expired"}:(await He.from("users").update({password_hash:f.password}).eq("id",b.user_id),await He.from("password_reset_tokens").update({used:!0}).eq("token",f.token),{success:!0}):{success:!1,error:"Invalid or expired token"}}catch(b){return console.error("Password reset error:",b),{success:!1,error:"An unexpected error occurred"}}},m=async()=>{try{const f=localStorage.getItem("authUser");if(!f){r(null);return}const b=JSON.parse(f),{data:_}=await He.from("organizations").select("*").eq("id",b.organizationId).single();if(_){const j={...b,organization:{id:_.id,name:_.name,slug:_.slug,plan:_.plan,isActive:_.is_active,createdAt:new Date(_.created_at),updatedAt:new Date(_.updated_at)}};localStorage.setItem("authUser",JSON.stringify(j)),r(j)}}catch(f){console.error("Error refreshing user:",f),r(null)}},y={user:e,loading:n,login:a,signup:o,logout:c,requestPasswordReset:d,resetPassword:p,refreshUser:m};return u.jsx(m5.Provider,{value:y,children:t})},O_=()=>{var f,b;const t=ol(),e=Gc(),{organizationalSettings:r}=dr(),{user:n,logout:i}=Xr(),[s,a]=se.useState(!1),[o,c]=se.useState(!1),d=se.useRef(null),p=se.useRef(null),m=async()=>{await i(),e("/login")};if(se.useEffect(()=>{const _=j=>{d.current&&!d.current.contains(j.target)&&c(!1),p.current&&!p.current.contains(j.target)&&a(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]),!n)return null;const y=t.pathname==="/settings"||t.pathname==="/subscription"||n.role==="admin"&&t.pathname==="/users";return u.jsx("header",{className:"bg-white shadow-sm border-b border-gray-200",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex justify-between items-center h-16",children:[u.jsxs(ki,{to:"/",className:"flex items-center space-x-2 hover:opacity-80 transition-opacity",children:[r.mobileIconUrl&&u.jsx("img",{src:r.mobileIconUrl,alt:r.companyName||"Company Icon",className:"h-8 w-8 object-contain block md:hidden",style:{maxWidth:"32px",maxHeight:"32px"}}),r.logoUrl?u.jsx("img",{src:r.logoUrl,alt:r.companyName||"Company Logo",className:`h-8 w-auto object-contain ${r.mobileIconUrl?"hidden md:block":"block"}`,style:{maxWidth:"192px",maxHeight:"32px"}}):u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Pa,{className:"h-8 w-8 text-indigo-600"}),u.jsx("h1",{className:"text-xl font-bold text-gray-900",children:r.companyName||n.organization.name||"CabinetTrack"})]})]}),u.jsxs("nav",{className:"flex items-center ml-auto",style:{gap:"16px"},children:[u.jsx(ki,{to:"/",className:`inline-flex items-center p-2 rounded-md text-sm font-medium transition-colors ${t.pathname==="/"?"text-indigo-600 bg-indigo-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:u.jsx(i3,{className:"h-5 w-5"})}),u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{onClick:()=>c(!o),className:`inline-flex items-center p-2 rounded-md text-sm font-medium transition-colors ${y?"text-indigo-600 bg-indigo-50":"text-gray-500 hover:text-gray-700 hover:bg-gray-100"}`,children:[u.jsx(R1,{className:"h-5 w-5"}),u.jsx(u0,{className:"h-4 w-4 ml-1"})]}),o&&u.jsxs("div",{className:"absolute left-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[u.jsxs(ki,{to:"/settings",className:`block px-4 py-2 text-sm hover:bg-gray-100 ${t.pathname==="/settings"?"text-indigo-600 bg-indigo-50":"text-gray-700"}`,onClick:()=>c(!1),children:[u.jsx(R1,{className:"h-4 w-4 mr-2 inline"}),"General Settings"]}),u.jsxs(ki,{to:"/subscription",className:`block px-4 py-2 text-sm hover:bg-gray-100 ${t.pathname==="/subscription"?"text-indigo-600 bg-indigo-50":"text-gray-700"}`,onClick:()=>c(!1),children:[u.jsx(n3,{className:"h-4 w-4 mr-2 inline"}),"Billing"]}),n.role==="admin"&&u.jsxs(ki,{to:"/users",className:`block px-4 py-2 text-sm hover:bg-gray-100 ${t.pathname==="/users"?"text-indigo-600 bg-indigo-50":"text-gray-700"}`,onClick:()=>c(!1),children:[u.jsx(c3,{className:"h-4 w-4 mr-2 inline"}),"Users"]})]})]})]}),u.jsxs("div",{className:"relative",ref:p,children:[u.jsxs("button",{onClick:()=>a(!s),className:"flex items-center space-x-2 text-sm text-gray-700 hover:text-gray-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 rounded-md p-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-indigo-100 flex items-center justify-center",children:u.jsxs("span",{className:"text-indigo-800 font-medium text-sm",children:[(f=n.firstName)==null?void 0:f[0],(b=n.lastName)==null?void 0:b[0]]})}),u.jsxs("span",{className:"hidden md:block",children:[n.firstName," ",n.lastName]}),u.jsx(u0,{className:"h-4 w-4"})]}),s&&u.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg py-1 z-50",children:[u.jsxs("div",{className:"px-4 py-2 text-sm text-gray-700 border-b border-gray-100",children:[u.jsxs("div",{className:"font-medium",children:[n.firstName," ",n.lastName]}),u.jsxs("div",{className:"text-gray-500",children:["@",n.username]}),u.jsx("div",{className:"text-gray-500",children:n.organization.name})]}),u.jsxs("button",{onClick:m,className:"w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 flex items-center",children:[u.jsx(s3,{className:"h-4 w-4 mr-2"}),"Sign out"]})]})]})]})})})};var Yt=(t=>(t.PENDING="pending",t.IN_PROGRESS="in_progress",t.READY_FOR_PICKUP="ready_for_pickup",t.PICKED_UP="picked_up",t.IN_TRANSIT="in_transit",t.DELIVERED="delivered",t.CANCELLED="cancelled",t))(Yt||{}),er=(t=>(t.SCHEDULED="scheduled",t.IN_PROGRESS="in_progress",t.COMPLETED="completed",t.CANCELLED="cancelled",t.ARCHIVED="archived",t))(er||{}),Ar=(t=>(t.SCHEDULED="scheduled",t.IN_PROGRESS="in_progress",t.COMPLETED="completed",t.CANCELLED="cancelled",t.ARCHIVED="archived",t))(Ar||{}),Rt=(t=>(t.LOW="low",t.STANDARD="standard",t.HIGH="high",t.URGENT="urgent",t))(Rt||{}),Gr=(t=>(t.LOW="low",t.STANDARD="standard",t.HIGH="high",t.URGENT="urgent",t))(Gr||{});const I_=({order:t,isOpen:e,onClose:r,mode:n})=>{const{addOrder:i,updateOrder:s,designers:a,sources:o}=dr(),{user:c}=Xr(),[d,p]=se.useState({jobName:"",jobNumber:"",orderNumber:"",purchaseOrder:"",designerId:"",cost:"",sourceId:"",destinationName:"",status:Yt.PENDING,priority:Gr.STANDARD});se.useEffect(()=>{p(t&&n==="edit"?{jobName:t.jobName,jobNumber:t.jobNumber,orderNumber:t.orderNumber,purchaseOrder:t.purchaseOrder,designerId:t.designerId,cost:t.cost.toString(),sourceId:t.SourceId,destinationName:t.destinationName,status:t.status,priority:t.priority}:{jobName:"",jobNumber:"",orderNumber:"",purchaseOrder:"",designerId:"",cost:"",sourceId:"",destinationName:"",status:Yt.PENDING,priority:Gr.STANDARD})},[t,n]);const m=async b=>{b.preventDefault();try{if(n==="create"){const _={organizationId:(c==null?void 0:c.organizationId)||"",id:Date.now().toString(),...d,cost:parseFloat(d.cost),createdAt:new Date,updatedAt:new Date};if(!await i(_)){alert("Failed to create order. Please try again.");return}}else if(t&&!await s(t.id,{jobName:d.jobName,jobNumber:d.jobNumber,orderNumber:d.orderNumber,purchaseOrder:d.purchaseOrder,designerId:d.designerId,cost:parseFloat(d.cost),sourceId:d.SourceId,destinationName:d.destinationName,status:d.status,priority:d.priority})){alert("Failed to update order. Please try again.");return}r()}catch(_){console.error("Error saving order:",_),alert("Failed to save order. Please try again.")}},y=b=>{const{name:_,value:j}=b.target;p(x=>({...x,[_]:j}))};if(!e)return null;const f=n==="create"?"Create New Order":"Edit Order";return u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[85vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:f}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-5 w-5"})})]}),u.jsxs("form",{onSubmit:m,className:"p-4 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Name *"}),u.jsx("input",{type:"text",name:"jobName",value:d.jobName,onChange:y,required:!0,className:"input",placeholder:"Enter job name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Number *"}),u.jsx("input",{type:"text",name:"jobNumber",value:d.jobNumber,onChange:y,required:!0,className:"input",placeholder:"Enter job number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number"}),u.jsx("input",{type:"text",name:"orderNumber",value:d.orderNumber,onChange:y,className:"input",placeholder:"Enter order number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Order"}),u.jsx("input",{type:"text",name:"purchaseOrder",value:d.purchaseOrder,onChange:y,className:"input",placeholder:"Enter purchase order"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designer *"}),u.jsxs("select",{name:"designerId",value:d.designerId,onChange:y,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select designer"}),a.map(b=>u.jsx("option",{value:b.id,children:b.name},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost *"}),u.jsx("input",{type:"number",name:"cost",value:d.cost,onChange:y,required:!0,step:"0.01",min:"0",className:"input",placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source *"}),u.jsxs("select",{name:"sourceId",value:d.sourceId,onChange:y,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select Source"}),o.map(b=>u.jsx("option",{value:b.id,children:b.name},b.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination"}),u.jsx("input",{type:"text",name:"destinationName",value:d.destinationName,onChange:y,className:"input",placeholder:"Enter destination"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsx("select",{name:"status",value:d.status,onChange:y,className:"input",children:Object.values(Yt).map(b=>u.jsx("option",{value:b,children:b.replace("_"," ").replace(/\b\w/g,_=>_.toUpperCase())},b))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),u.jsx("select",{name:"priority",value:d.priority,onChange:y,className:"input",children:Object.values(Gr).map(b=>u.jsx("option",{value:b,children:b.charAt(0).toUpperCase()+b.slice(1)},b))})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",children:n==="create"?"Create Order":"Update Order"})]})]})]})})};function Nt(t){"@babel/helpers - typeof";return Nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nt(t)}var Br=Uint8Array,wn=Uint16Array,zm=Int32Array,Oh=new Br([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Ih=new Br([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),_0=new Br([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),g5=function(t,e){for(var r=new wn(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new zm(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},v5=g5(Oh,2),y5=v5.b,S0=v5.r;y5[28]=258,S0[258]=28;var x5=g5(Ih,0),D_=x5.b,e2=x5.r,j0=new wn(32768);for(var Tt=0;Tt<32768;++Tt){var xs=(Tt&43690)>>1|(Tt&21845)<<1;xs=(xs&52428)>>2|(xs&13107)<<2,xs=(xs&61680)>>4|(xs&3855)<<4,j0[Tt]=((xs&65280)>>8|(xs&255)<<8)>>1}var Ci=function(t,e,r){for(var n=t.length,i=0,s=new wn(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new wn(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new wn(1<<e);var c=15-e;for(i=0;i<n;++i)if(t[i])for(var d=i<<4|t[i],p=e-t[i],m=a[t[i]-1]++<<p,y=m|(1<<p)-1;m<=y;++m)o[j0[m]>>c]=d}else for(o=new wn(n),i=0;i<n;++i)t[i]&&(o[i]=j0[a[t[i]-1]++]>>15-t[i]);return o},Ws=new Br(288);for(var Tt=0;Tt<144;++Tt)Ws[Tt]=8;for(var Tt=144;Tt<256;++Tt)Ws[Tt]=9;for(var Tt=256;Tt<280;++Tt)Ws[Tt]=7;for(var Tt=280;Tt<288;++Tt)Ws[Tt]=8;var Bc=new Br(32);for(var Tt=0;Tt<32;++Tt)Bc[Tt]=5;var R_=Ci(Ws,9,0),T_=Ci(Ws,9,1),F_=Ci(Bc,5,0),z_=Ci(Bc,5,1),ip=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Zn=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},sp=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},Mm=function(t){return(t+7)/8|0},w5=function(t,e,r){return(e==null||e<0)&&(e=0),(r==null||r>t.length)&&(r=t.length),new Br(t.subarray(e,r))},M_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ni=function(t,e,r){var n=new Error(e||M_[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ni),!r)throw n;return n},U_=function(t,e,r,n){var i=t.length,s=n?n.length:0;if(!i||e.f&&!e.l)return r||new Br(0);var a=!r,o=a||e.i!=2,c=e.i;a&&(r=new Br(i*3));var d=function(ke){var Ie=r.length;if(ke>Ie){var Ce=new Br(Math.max(Ie*2,ke));Ce.set(r),r=Ce}},p=e.f||0,m=e.p||0,y=e.b||0,f=e.l,b=e.d,_=e.m,j=e.n,x=i*8;do{if(!f){p=Zn(t,m,1);var w=Zn(t,m+1,3);if(m+=3,w)if(w==1)f=T_,b=z_,_=9,j=5;else if(w==2){var H=Zn(t,m,31)+257,z=Zn(t,m+10,15)+4,L=H+Zn(t,m+5,31)+1;m+=14;for(var U=new Br(L),J=new Br(19),D=0;D<z;++D)J[_0[D]]=Zn(t,m+D*3,7);m+=z*3;for(var T=ip(J),B=(1<<T)-1,W=Ci(J,T,1),D=0;D<L;){var de=W[Zn(t,m,B)];m+=de&15;var S=de>>4;if(S<16)U[D++]=S;else{var ue=0,pe=0;for(S==16?(pe=3+Zn(t,m,3),m+=2,ue=U[D-1]):S==17?(pe=3+Zn(t,m,7),m+=3):S==18&&(pe=11+Zn(t,m,127),m+=7);pe--;)U[D++]=ue}}var K=U.subarray(0,H),ie=U.subarray(H);_=ip(K),j=ip(ie),f=Ci(K,_,1),b=Ci(ie,j,1)}else ni(1);else{var S=Mm(m)+4,F=t[S-4]|t[S-3]<<8,O=S+F;if(O>i){c&&ni(0);break}o&&d(y+F),r.set(t.subarray(S,O),y),e.b=y+=F,e.p=m=O*8,e.f=p;continue}if(m>x){c&&ni(0);break}}o&&d(y+131072);for(var le=(1<<_)-1,_e=(1<<j)-1,E=m;;E=m){var ue=f[sp(t,m)&le],q=ue>>4;if(m+=ue&15,m>x){c&&ni(0);break}if(ue||ni(2),q<256)r[y++]=q;else if(q==256){E=m,f=null;break}else{var V=q-254;if(q>264){var D=q-257,X=Oh[D];V=Zn(t,m,(1<<X)-1)+y5[D],m+=X}var te=b[sp(t,m)&_e],ce=te>>4;te||ni(3),m+=te&15;var ie=D_[ce];if(ce>3){var X=Ih[ce];ie+=sp(t,m)&(1<<X)-1,m+=X}if(m>x){c&&ni(0);break}o&&d(y+131072);var he=y+V;if(y<ie){var fe=s-ie,Ae=Math.min(ie,he);for(fe+y<0&&ni(3);y<Ae;++y)r[y]=n[fe+y]}for(;y<he;++y)r[y]=r[y-ie]}}e.l=f,e.p=E,e.b=y,e.f=p,f&&(p=1,e.m=_,e.d=b,e.n=j)}while(!p);return y!=r.length&&a?w5(r,0,y):r.subarray(0,y)},$i=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Kl=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},ap=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:N5,l:0};if(i==1){var a=new Br(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(O,H){return O.f-H.f}),r.push({s:-1,f:25001});var o=r[0],c=r[1],d=0,p=1,m=2;for(r[0]={s:-1,f:o.f+c.f,l:o,r:c};p!=i-1;)o=r[r[d].f<r[m].f?d++:m++],c=r[d!=p&&r[d].f<r[m].f?d++:m++],r[p++]={s:-1,f:o.f+c.f,l:o,r:c};for(var y=s[0].s,n=1;n<i;++n)s[n].s>y&&(y=s[n].s);var f=new wn(y+1),b=k0(r[p-1],f,0);if(b>e){var n=0,_=0,j=b-e,x=1<<j;for(s.sort(function(H,z){return f[z.s]-f[H.s]||H.f-z.f});n<i;++n){var w=s[n].s;if(f[w]>e)_+=x-(1<<b-f[w]),f[w]=e;else break}for(_>>=j;_>0;){var S=s[n].s;f[S]<e?_-=1<<e-f[S]++-1:++n}for(;n>=0&&_;--n){var F=s[n].s;f[F]==e&&(--f[F],++_)}b=e}return{t:new Br(f),l:b}},k0=function(t,e,r){return t.s==-1?Math.max(k0(t.l,e,r+1),k0(t.r,e,r+1)):e[t.s]=r},t2=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new wn(++e),n=0,i=t[0],s=1,a=function(c){r[n++]=c},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Yl=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},b5=function(t,e,r){var n=r.length,i=Mm(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},r2=function(t,e,r,n,i,s,a,o,c,d,p){$i(e,p++,r),++i[256];for(var m=ap(i,15),y=m.t,f=m.l,b=ap(s,15),_=b.t,j=b.l,x=t2(y),w=x.c,S=x.n,F=t2(_),O=F.c,H=F.n,z=new wn(19),L=0;L<w.length;++L)++z[w[L]&31];for(var L=0;L<O.length;++L)++z[O[L]&31];for(var U=ap(z,7),J=U.t,D=U.l,T=19;T>4&&!J[_0[T-1]];--T);var B=d+5<<3,W=Yl(i,Ws)+Yl(s,Bc)+a,de=Yl(i,y)+Yl(s,_)+a+14+3*T+Yl(z,J)+2*z[16]+3*z[17]+7*z[18];if(c>=0&&B<=W&&B<=de)return b5(e,p,t.subarray(c,c+d));var ue,pe,K,ie;if($i(e,p,1+(de<W)),p+=2,de<W){ue=Ci(y,f,0),pe=y,K=Ci(_,j,0),ie=_;var le=Ci(J,D,0);$i(e,p,S-257),$i(e,p+5,H-1),$i(e,p+10,T-4),p+=14;for(var L=0;L<T;++L)$i(e,p+3*L,J[_0[L]]);p+=3*T;for(var _e=[w,O],E=0;E<2;++E)for(var q=_e[E],L=0;L<q.length;++L){var V=q[L]&31;$i(e,p,le[V]),p+=J[V],V>15&&($i(e,p,q[L]>>5&127),p+=q[L]>>12)}}else ue=R_,pe=Ws,K=F_,ie=Bc;for(var L=0;L<o;++L){var X=n[L];if(X>255){var V=X>>18&31;Kl(e,p,ue[V+257]),p+=pe[V+257],V>7&&($i(e,p,X>>23&31),p+=Oh[V]);var te=X&31;Kl(e,p,K[te]),p+=ie[te],te>3&&(Kl(e,p,X>>5&8191),p+=Ih[te])}else Kl(e,p,ue[X]),p+=pe[X]}return Kl(e,p,ue[256]),p+pe[256]},B_=new zm([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),N5=new Br(0),q_=function(t,e,r,n,i,s){var a=s.z||t.length,o=new Br(n+a+5*(1+Math.ceil(a/7e3))+i),c=o.subarray(n,o.length-i),d=s.l,p=(s.r||0)&7;if(e){p&&(c[0]=s.r>>3);for(var m=B_[e-1],y=m>>13,f=m&8191,b=(1<<r)-1,_=s.p||new wn(32768),j=s.h||new wn(b+1),x=Math.ceil(r/3),w=2*x,S=function(Ge){return(t[Ge]^t[Ge+1]<<x^t[Ge+2]<<w)&b},F=new zm(25e3),O=new wn(288),H=new wn(32),z=0,L=0,U=s.i||0,J=0,D=s.w||0,T=0;U+2<a;++U){var B=S(U),W=U&32767,de=j[B];if(_[W]=de,j[B]=W,D<=U){var ue=a-U;if((z>7e3||J>24576)&&(ue>423||!d)){p=r2(t,c,0,F,O,H,L,J,T,U-T,p),J=z=L=0,T=U;for(var pe=0;pe<286;++pe)O[pe]=0;for(var pe=0;pe<30;++pe)H[pe]=0}var K=2,ie=0,le=f,_e=W-de&32767;if(ue>2&&B==S(U-_e))for(var E=Math.min(y,ue)-1,q=Math.min(32767,U),V=Math.min(258,ue);_e<=q&&--le&&W!=de;){if(t[U+K]==t[U+K-_e]){for(var X=0;X<V&&t[U+X]==t[U+X-_e];++X);if(X>K){if(K=X,ie=_e,X>E)break;for(var te=Math.min(_e,X-2),ce=0,pe=0;pe<te;++pe){var he=U-_e+pe&32767,fe=_[he],Ae=he-fe&32767;Ae>ce&&(ce=Ae,de=he)}}}W=de,de=_[W],_e+=W-de&32767}if(ie){F[J++]=268435456|S0[K]<<18|e2[ie];var ke=S0[K]&31,Ie=e2[ie]&31;L+=Oh[ke]+Ih[Ie],++O[257+ke],++H[Ie],D=U+K,++z}else F[J++]=t[U],++O[t[U]]}}for(U=Math.max(U,D);U<a;++U)F[J++]=t[U],++O[t[U]];p=r2(t,c,d,F,O,H,L,J,T,U-T,p),d||(s.r=p&7|c[p/8|0]<<3,p-=7,s.h=j,s.p=_,s.i=U,s.w=D)}else{for(var U=s.w||0;U<a+d;U+=65535){var Ce=U+65535;Ce>=a&&(c[p/8|0]=d,Ce=a),p=b5(c,p+1,t.subarray(U,Ce))}s.i=a}return w5(o,0,n+Mm(p)+i)},_5=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},$_=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Br(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return q_(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},S5=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},H_=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=_5();i.p(e.dictionary),S5(t,2,i.d())}},W_=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ni(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&ni(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function A0(t,e){e||(e={});var r=_5();r.p(t);var n=$_(t,e,e.dictionary?6:2,4);return H_(n,e),S5(n,n.length-4,r.d()),n}function V_(t,e){return U_(t.subarray(W_(t,e&&e.dictionary),-4),{i:2},e&&e.out,e&&e.dictionary)}var G_=typeof TextDecoder<"u"&&new TextDecoder,J_=0;try{G_.decode(N5,{stream:!0}),J_=1}catch{}var Je=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function op(){Je.console&&typeof Je.console.log=="function"&&Je.console.log.apply(Je.console,arguments)}var Et={log:op,warn:function(t){Je.console&&(typeof Je.console.warn=="function"?Je.console.warn.apply(Je.console,arguments):op.call(null,arguments))},error:function(t){Je.console&&(typeof Je.console.error=="function"?Je.console.error.apply(Je.console,arguments):op(t))}};function lp(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){va(n.response,e,r)},n.onerror=function(){Et.error("could not download file")},n.send()}function n2(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function cd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var yc,L0,va=Je.saveAs||((typeof window>"u"?"undefined":Nt(window))!=="object"||window!==Je?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Je.URL||Je.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?n2(i.href)?lp(t,e,r):cd(i,i.target="_blank"):cd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){cd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(n2(t))lp(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){cd(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Nt(s)!=="object"&&(Et.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob([String.fromCharCode(65279),i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return lp(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Je.HTMLElement)||Je.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Nt(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var p=o.result;p=a?p:p.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=p:location=p,n=null},o.readAsDataURL(t)}else{var c=Je.URL||Je.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function j5(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return o.length==1&&(o="0"+o),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+o+c+d}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function cp(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=Tr(r,n,i,s,e[0],7,-680876936),s=Tr(s,r,n,i,e[1],12,-389564586),i=Tr(i,s,r,n,e[2],17,606105819),n=Tr(n,i,s,r,e[3],22,-1044525330),r=Tr(r,n,i,s,e[4],7,-176418897),s=Tr(s,r,n,i,e[5],12,1200080426),i=Tr(i,s,r,n,e[6],17,-1473231341),n=Tr(n,i,s,r,e[7],22,-45705983),r=Tr(r,n,i,s,e[8],7,1770035416),s=Tr(s,r,n,i,e[9],12,-1958414417),i=Tr(i,s,r,n,e[10],17,-42063),n=Tr(n,i,s,r,e[11],22,-1990404162),r=Tr(r,n,i,s,e[12],7,1804603682),s=Tr(s,r,n,i,e[13],12,-40341101),i=Tr(i,s,r,n,e[14],17,-1502002290),r=Fr(r,n=Tr(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Fr(s,r,n,i,e[6],9,-1069501632),i=Fr(i,s,r,n,e[11],14,643717713),n=Fr(n,i,s,r,e[0],20,-373897302),r=Fr(r,n,i,s,e[5],5,-701558691),s=Fr(s,r,n,i,e[10],9,38016083),i=Fr(i,s,r,n,e[15],14,-660478335),n=Fr(n,i,s,r,e[4],20,-405537848),r=Fr(r,n,i,s,e[9],5,568446438),s=Fr(s,r,n,i,e[14],9,-1019803690),i=Fr(i,s,r,n,e[3],14,-187363961),n=Fr(n,i,s,r,e[8],20,1163531501),r=Fr(r,n,i,s,e[13],5,-1444681467),s=Fr(s,r,n,i,e[2],9,-51403784),i=Fr(i,s,r,n,e[7],14,1735328473),r=zr(r,n=Fr(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=zr(s,r,n,i,e[8],11,-2022574463),i=zr(i,s,r,n,e[11],16,1839030562),n=zr(n,i,s,r,e[14],23,-35309556),r=zr(r,n,i,s,e[1],4,-1530992060),s=zr(s,r,n,i,e[4],11,1272893353),i=zr(i,s,r,n,e[7],16,-155497632),n=zr(n,i,s,r,e[10],23,-1094730640),r=zr(r,n,i,s,e[13],4,681279174),s=zr(s,r,n,i,e[0],11,-358537222),i=zr(i,s,r,n,e[3],16,-722521979),n=zr(n,i,s,r,e[6],23,76029189),r=zr(r,n,i,s,e[9],4,-640364487),s=zr(s,r,n,i,e[12],11,-421815835),i=zr(i,s,r,n,e[15],16,530742520),r=Mr(r,n=zr(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Mr(s,r,n,i,e[7],10,1126891415),i=Mr(i,s,r,n,e[14],15,-1416354905),n=Mr(n,i,s,r,e[5],21,-57434055),r=Mr(r,n,i,s,e[12],6,1700485571),s=Mr(s,r,n,i,e[3],10,-1894986606),i=Mr(i,s,r,n,e[10],15,-1051523),n=Mr(n,i,s,r,e[1],21,-2054922799),r=Mr(r,n,i,s,e[8],6,1873313359),s=Mr(s,r,n,i,e[15],10,-30611744),i=Mr(i,s,r,n,e[6],15,-1560198380),n=Mr(n,i,s,r,e[13],21,1309151649),r=Mr(r,n,i,s,e[4],6,-145523070),s=Mr(s,r,n,i,e[11],10,-1120210379),i=Mr(i,s,r,n,e[2],15,718787259),n=Mr(n,i,s,r,e[9],21,-343485551),t[0]=Ps(r,t[0]),t[1]=Ps(n,t[1]),t[2]=Ps(i,t[2]),t[3]=Ps(s,t[3])}function Dh(t,e,r,n,i,s){return e=Ps(Ps(e,t),Ps(n,s)),Ps(e<<i|e>>>32-i,r)}function Tr(t,e,r,n,i,s,a){return Dh(e&r|~e&n,t,e,i,s,a)}function Fr(t,e,r,n,i,s,a){return Dh(e&n|r&~n,t,e,i,s,a)}function zr(t,e,r,n,i,s,a){return Dh(e^r^n,t,e,i,s,a)}function Mr(t,e,r,n,i,s,a){return Dh(r^(e|~n),t,e,i,s,a)}function k5(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)cp(n,K_(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(cp(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,cp(n,i),n}function K_(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}yc=Je.atob.bind(Je),L0=Je.btoa.bind(Je);var i2="0123456789abcdef".split("");function Y_(t){for(var e="",r=0;r<4;r++)e+=i2[t>>8*r+4&15]+i2[t>>8*r&15];return e}function X_(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function E0(t){return k5(t).map(X_).join("")}var Q_=function(t){for(var e=0;e<t.length;e++)t[e]=Y_(t[e]);return t.join("")}(k5("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ps(t,e){if(Q_){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function C0(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],c=0;c<256;c++)o[c]=c;var d=0;for(c=0;c<256;c++){var p=o[c];d=(d+p+a.charCodeAt(c))%256,o[c]=o[d],o[d]=p}r=t,n=o}else o=n;var m=e.length,y=0,f=0,b="";for(c=0;c<m;c++)f=(f+(p=o[y=(y+1)%256]))%256,o[y]=o[f],o[f]=p,a=o[(o[y]+o[f])%256],b+=String.fromCharCode(e.charCodeAt(c)^a);return b}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var s2={print:4,modify:8,copy:16,"annot-forms":32};function No(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(s2.perm!==void 0)throw new Error("Invalid permission: "+o);i+=s2[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=E0(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=C0(this.encryptionKey,this.padding)}function _o(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function a2(t){if(Nt(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Je.console&&Et.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function sh(t){if(!(this instanceof sh))return new sh(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function A5(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function xa(t,e,r,n,i){if(!(this instanceof xa))return new xa(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,A5.call(this,n,i)}function To(t,e,r,n,i){if(!(this instanceof To))return new To(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,A5.call(this,n,i)}function We(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,c=16,d="S",p=null;Nt(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(p=t.encryption||null)!==null&&(p.userPassword=p.userPassword||"",p.ownerPassword=p.ownerPassword||"",p.userPermissions=p.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,y={},f={internal:{},__private__:{}};f.__private__.PubSub=a2;var b="1.3",_=f.__private__.getPdfVersion=function(){return b};f.__private__.setPdfVersion=function(g){b=g};var j={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return j};var x=f.__private__.getPageFormat=function(g){return j[g]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},S=w.COMPAT;function F(){this.saveGraphicsState(),G(new Ve(Re,0,0,-Re,0,ss()*Re).toString()+" cm"),this.setFontSize(this.getFontSize()/Re),d="n",S=w.ADVANCED}function O(){this.restoreGraphicsState(),d="S",S=w.COMPAT}var H=f.__private__.combineFontStyleAndFontWeight=function(g,A){if(g=="bold"&&A=="normal"||g=="bold"&&A==400||g=="normal"&&A=="italic"||g=="bold"&&A=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return A&&(g=A==400||A==="normal"?g==="italic"?"italic":"normal":A!=700&&A!=="bold"||g!=="normal"?(A==700?"bold":A)+""+g:"bold"),g};f.advancedAPI=function(g){var A=S===w.COMPAT;return A&&F.call(this),typeof g!="function"||(g(this),A&&O.call(this)),this},f.compatAPI=function(g){var A=S===w.ADVANCED;return A&&O.call(this),typeof g!="function"||(g(this),A&&F.call(this)),this},f.isAdvancedAPI=function(){return S===w.ADVANCED};var z,L=function(g){if(S!==w.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},U=f.roundToPrecision=f.__private__.roundToPrecision=function(g,A){var $=e||A;if(isNaN(g)||isNaN($))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed($).replace(/0+$/,"")};z=f.hpf=f.__private__.hpf=typeof c=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return U(g,c)}:c==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return U(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return U(g,16)};var J=f.f2=f.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return U(g,2)},D=f.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return U(g,3)},T=f.scale=f.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return S===w.COMPAT?g*Re:S===w.ADVANCED?g:void 0},B=function(g){return S===w.COMPAT?ss()-g:S===w.ADVANCED?g:void 0},W=function(g){return T(B(g))};f.__private__.setPrecision=f.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var de,ue="00000000000000000000000000000000",pe=f.__private__.getFileId=function(){return ue},K=f.__private__.setFileId=function(g){return ue=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),p!==null&&(Or=new No(p.userPermissions,p.userPassword,p.ownerPassword,ue)),ue};f.setFileId=function(g){return K(g),this},f.getFileId=function(){return pe()};var ie=f.__private__.convertDateToPDFDate=function(g){var A=g.getTimezoneOffset(),$=A<0?"+":"-",Y=Math.floor(Math.abs(A/60)),ne=Math.abs(A%60),ge=[$,V(Y),"'",V(ne),"'"].join("");return["D:",g.getFullYear(),V(g.getMonth()+1),V(g.getDate()),V(g.getHours()),V(g.getMinutes()),V(g.getSeconds()),ge].join("")},le=f.__private__.convertPDFDateToDate=function(g){var A=parseInt(g.substr(2,4),10),$=parseInt(g.substr(6,2),10)-1,Y=parseInt(g.substr(8,2),10),ne=parseInt(g.substr(10,2),10),ge=parseInt(g.substr(12,2),10),Ne=parseInt(g.substr(14,2),10);return new Date(A,$,Y,ne,ge,Ne,0)},_e=f.__private__.setCreationDate=function(g){var A;if(g===void 0&&(g=new Date),g instanceof Date)A=ie(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");A=g}return de=A},E=f.__private__.getCreationDate=function(g){var A=de;return g==="jsDate"&&(A=le(de)),A};f.setCreationDate=function(g){return _e(g),this},f.getCreationDate=function(g){return E(g)};var q,V=f.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},X=f.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},te=0,ce=[],he=[],fe=0,Ae=[],ke=[],Ie=!1,Ce=he,Ge=function(){te=0,fe=0,he=[],ce=[],Ae=[],Ii=ar(),Hn=ar()};f.__private__.setCustomOutputDestination=function(g){Ie=!0,Ce=g};var ve=function(g){Ie||(Ce=g)};f.__private__.resetCustomOutputDestination=function(){Ie=!1,Ce=he};var G=f.__private__.out=function(g){return g=g.toString(),fe+=g.length+1,Ce.push(g),Ce},tt=f.__private__.write=function(g){return G(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Ue=f.__private__.getArrayBuffer=function(g){for(var A=g.length,$=new ArrayBuffer(A),Y=new Uint8Array($);A--;)Y[A]=g.charCodeAt(A);return $},Se=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Se};var Le=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(g){return Le=S===w.ADVANCED?g/Re:g,this};var De,Oe=f.__private__.getFontSize=f.getFontSize=function(){return S===w.COMPAT?Le:Le*Re},Be=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(g){return Be=g,this},f.__private__.getR2L=f.getR2L=function(){return Be};var Xe,st=f.__private__.setZoomMode=function(g){var A=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))De=g;else if(isNaN(g)){if(A.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');De=g}else De=parseInt(g,10)};f.__private__.getZoomMode=function(){return De};var at,ht=f.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');Xe=g};f.__private__.getPageMode=function(){return Xe};var jt=f.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');at=g};f.__private__.getLayoutMode=function(){return at},f.__private__.setDisplayMode=f.setDisplayMode=function(g,A,$){return st(g),jt(A),ht($),this};var Ke={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(g){if(Object.keys(Ke).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ke[g]},f.__private__.getDocumentProperties=function(){return Ke},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(g){for(var A in Ke)Ke.hasOwnProperty(A)&&g[A]&&(Ke[A]=g[A]);return this},f.__private__.setDocumentProperty=function(g,A){if(Object.keys(Ke).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ke[g]=A};var ot,Re,Pr,gt,Bn,At={},zt={},hi=[],yt={},Zs={},Ht={},qn={},Oi=null,Wt=0,Qe=[],xt=new a2(f),ea=t.hotfixes||[],Sr={},fi={},pi=[],Ve=function g(A,$,Y,ne,ge,Ne){if(!(this instanceof g))return new g(A,$,Y,ne,ge,Ne);isNaN(A)&&(A=1),isNaN($)&&($=0),isNaN(Y)&&(Y=0),isNaN(ne)&&(ne=1),isNaN(ge)&&(ge=0),isNaN(Ne)&&(Ne=0),this._matrix=[A,$,Y,ne,ge,Ne]};Object.defineProperty(Ve.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ve.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ve.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ve.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ve.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ve.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ve.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ve.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ve.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ve.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ve.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ve.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ve.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ve.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ve.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ve.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ve.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(z).join(g)},Ve.prototype.multiply=function(g){var A=g.sx*this.sx+g.shy*this.shx,$=g.sx*this.shy+g.shy*this.sy,Y=g.shx*this.sx+g.sy*this.shx,ne=g.shx*this.shy+g.sy*this.sy,ge=g.tx*this.sx+g.ty*this.shx+this.tx,Ne=g.tx*this.shy+g.ty*this.sy+this.ty;return new Ve(A,$,Y,ne,ge,Ne)},Ve.prototype.decompose=function(){var g=this.sx,A=this.shy,$=this.shx,Y=this.sy,ne=this.tx,ge=this.ty,Ne=Math.sqrt(g*g+A*A),Te=(g/=Ne)*$+(A/=Ne)*Y;$-=g*Te,Y-=A*Te;var qe=Math.sqrt($*$+Y*Y);return Te/=qe,g*(Y/=qe)<A*($/=qe)&&(g=-g,A=-A,Te=-Te,Ne=-Ne),{scale:new Ve(Ne,0,0,qe,0,0),translate:new Ve(1,0,0,1,ne,ge),rotate:new Ve(g,A,-A,g,0,0),skew:new Ve(1,0,Te,1,0,0)}},Ve.prototype.toString=function(g){return this.join(" ")},Ve.prototype.inversed=function(){var g=this.sx,A=this.shy,$=this.shx,Y=this.sy,ne=this.tx,ge=this.ty,Ne=1/(g*Y-A*$),Te=Y*Ne,qe=-A*Ne,rt=-$*Ne,Ze=g*Ne;return new Ve(Te,qe,rt,Ze,-Te*ne-rt*ge,-qe*ne-Ze*ge)},Ve.prototype.applyToPoint=function(g){var A=g.x*this.sx+g.y*this.shx+this.tx,$=g.x*this.shy+g.y*this.sy+this.ty;return new Ka(A,$)},Ve.prototype.applyToRectangle=function(g){var A=this.applyToPoint(g),$=this.applyToPoint(new Ka(g.x+g.w,g.y+g.h));return new wl(A.x,A.y,$.x-A.x,$.y-A.y)},Ve.prototype.clone=function(){var g=this.sx,A=this.shy,$=this.shx,Y=this.sy,ne=this.tx,ge=this.ty;return new Ve(g,A,$,Y,ne,ge)},f.Matrix=Ve;var $n=f.matrixMult=function(g,A){return A.multiply(g)},mi=new Ve(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=mi;var Qr=function(g,A){if(!Zs[g]){var $=(A instanceof xa?"Sh":"P")+(Object.keys(yt).length+1).toString(10);A.id=$,Zs[g]=$,yt[$]=A,xt.publish("addPattern",A)}};f.ShadingPattern=xa,f.TilingPattern=To,f.addShadingPattern=function(g,A){return L("addShadingPattern()"),Qr(g,A),this},f.beginTilingPattern=function(g){L("beginTilingPattern()"),pu(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},f.endTilingPattern=function(g,A){L("endTilingPattern()"),A.stream=ke[q].join(`
`),Qr(g,A),xt.publish("endTilingPattern",A),pi.pop().restore()};var hr=f.__private__.newObject=function(){var g=ar();return fn(g,!0),g},ar=f.__private__.newObjectDeferred=function(){return te++,ce[te]=function(){return fe},te},fn=function(g,A){return A=typeof A=="boolean"&&A,ce[g]=fe,A&&G(g+" 0 obj"),g},Ta=f.__private__.newAdditionalObject=function(){var g={objId:ar(),content:""};return Ae.push(g),g},Ii=ar(),Hn=ar(),Wn=f.__private__.decodeColorString=function(g){var A=g.split(" ");if(A.length!==2||A[1]!=="g"&&A[1]!=="G")A.length===5&&(A[4]==="k"||A[4]==="K")&&(A=[(1-A[0])*(1-A[3]),(1-A[1])*(1-A[3]),(1-A[2])*(1-A[3]),"r"]);else{var $=parseFloat(A[0]);A=[$,$,$,"r"]}for(var Y="#",ne=0;ne<3;ne++)Y+=("0"+Math.floor(255*parseFloat(A[ne])).toString(16)).slice(-2);return Y},Vn=f.__private__.encodeColorString=function(g){var A;typeof g=="string"&&(g={ch1:g});var $=g.ch1,Y=g.ch2,ne=g.ch3,ge=g.ch4,Ne=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof $=="string"&&$.charAt(0)!=="#"){var Te=new j5($);if(Te.ok)$=Te.toHex();else if(!/^\d*\.?\d*$/.test($))throw new Error('Invalid color "'+$+'" passed to jsPDF.encodeColorString.')}if(typeof $=="string"&&/^#[0-9A-Fa-f]{3}$/.test($)&&($="#"+$[1]+$[1]+$[2]+$[2]+$[3]+$[3]),typeof $=="string"&&/^#[0-9A-Fa-f]{6}$/.test($)){var qe=parseInt($.substr(1),16);$=qe>>16&255,Y=qe>>8&255,ne=255&qe}if(Y===void 0||ge===void 0&&$===Y&&Y===ne)if(typeof $=="string")A=$+" "+Ne[0];else switch(g.precision){case 2:A=J($/255)+" "+Ne[0];break;case 3:default:A=D($/255)+" "+Ne[0]}else if(ge===void 0||Nt(ge)==="object"){if(ge&&!isNaN(ge.a)&&ge.a===0)return A=["1.","1.","1.",Ne[1]].join(" ");if(typeof $=="string")A=[$,Y,ne,Ne[1]].join(" ");else switch(g.precision){case 2:A=[J($/255),J(Y/255),J(ne/255),Ne[1]].join(" ");break;default:case 3:A=[D($/255),D(Y/255),D(ne/255),Ne[1]].join(" ")}}else if(typeof $=="string")A=[$,Y,ne,ge,Ne[2]].join(" ");else switch(g.precision){case 2:A=[J($),J(Y),J(ne),J(ge),Ne[2]].join(" ");break;case 3:default:A=[D($),D(Y),D(ne),D(ge),Ne[2]].join(" ")}return A},gi=f.__private__.getFilters=function(){return a},jn=f.__private__.putStream=function(g){var A=(g=g||{}).data||"",$=g.filters||gi(),Y=g.alreadyAppliedFilters||[],ne=g.addLength1||!1,ge=A.length,Ne=g.objectId,Te=function(Ir){return Ir};if(p!==null&&Ne===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");p!==null&&(Te=Or.encryptor(Ne,0));var qe={};$===!0&&($=["FlateEncode"]);var rt=g.additionalKeyValues||[],Ze=(qe=We.API.processDataByFilters!==void 0?We.API.processDataByFilters(A,$):{data:A,reverseChain:[]}).reverseChain+(Array.isArray(Y)?Y.join(" "):Y.toString());if(qe.data.length!==0&&(rt.push({key:"Length",value:qe.data.length}),ne===!0&&rt.push({key:"Length1",value:ge})),Ze.length!=0)if(Ze.split("/").length-1==1)rt.push({key:"Filter",value:Ze});else{rt.push({key:"Filter",value:"["+Ze+"]"});for(var dt=0;dt<rt.length;dt+=1)if(rt[dt].key==="DecodeParms"){for(var Ut=[],Vt=0;Vt<qe.reverseChain.split("/").length-1;Vt+=1)Ut.push("null");Ut.push(rt[dt].value),rt[dt].value="["+Ut.join(" ")+"]"}}G("<<");for(var or=0;or<rt.length;or++)G("/"+rt[or].key+" "+rt[or].value);G(">>"),qe.data.length!==0&&(G("stream"),G(Te(qe.data)),G("endstream"))},vi=f.__private__.putPage=function(g){var A=g.number,$=g.data,Y=g.objId,ne=g.contentsObjId;fn(Y,!0),G("<</Type /Page"),G("/Parent "+g.rootDictionaryObjId+" 0 R"),G("/Resources "+g.resourceDictionaryObjId+" 0 R"),G("/MediaBox ["+parseFloat(z(g.mediaBox.bottomLeftX))+" "+parseFloat(z(g.mediaBox.bottomLeftY))+" "+z(g.mediaBox.topRightX)+" "+z(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&G("/CropBox ["+z(g.cropBox.bottomLeftX)+" "+z(g.cropBox.bottomLeftY)+" "+z(g.cropBox.topRightX)+" "+z(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&G("/BleedBox ["+z(g.bleedBox.bottomLeftX)+" "+z(g.bleedBox.bottomLeftY)+" "+z(g.bleedBox.topRightX)+" "+z(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&G("/TrimBox ["+z(g.trimBox.bottomLeftX)+" "+z(g.trimBox.bottomLeftY)+" "+z(g.trimBox.topRightX)+" "+z(g.trimBox.topRightY)+"]"),g.artBox!==null&&G("/ArtBox ["+z(g.artBox.bottomLeftX)+" "+z(g.artBox.bottomLeftY)+" "+z(g.artBox.topRightX)+" "+z(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&G("/UserUnit "+g.userUnit),xt.publish("putPage",{objId:Y,pageContext:Qe[A],pageNumber:A,page:$}),G("/Contents "+ne+" 0 R"),G(">>"),G("endobj");var ge=$.join(`
`);return S===w.ADVANCED&&(ge+=`
Q`),fn(ne,!0),jn({data:ge,filters:gi(),objectId:ne}),G("endobj"),Y},ta=f.__private__.putPages=function(){var g,A,$=[];for(g=1;g<=Wt;g++)Qe[g].objId=ar(),Qe[g].contentsObjId=ar();for(g=1;g<=Wt;g++)$.push(vi({number:g,data:ke[g],objId:Qe[g].objId,contentsObjId:Qe[g].contentsObjId,mediaBox:Qe[g].mediaBox,cropBox:Qe[g].cropBox,bleedBox:Qe[g].bleedBox,trimBox:Qe[g].trimBox,artBox:Qe[g].artBox,userUnit:Qe[g].userUnit,rootDictionaryObjId:Ii,resourceDictionaryObjId:Hn}));fn(Ii,!0),G("<</Type /Pages");var Y="/Kids [";for(A=0;A<Wt;A++)Y+=$[A]+" 0 R ";G(Y+"]"),G("/Count "+Wt),G(">>"),G("endobj"),xt.publish("postPutPages")},Fa=function(g){xt.publish("putFont",{font:g,out:G,newObject:hr,putStream:jn}),g.isAlreadyPutted!==!0&&(g.objectNumber=hr(),G("<<"),G("/Type /Font"),G("/BaseFont /"+_o(g.postScriptName)),G("/Subtype /Type1"),typeof g.encoding=="string"&&G("/Encoding /"+g.encoding),G("/FirstChar 32"),G("/LastChar 255"),G(">>"),G("endobj"))},za=function(){for(var g in At)At.hasOwnProperty(g)&&(m===!1||m===!0&&y.hasOwnProperty(g))&&Fa(At[g])},Ma=function(g){g.objectNumber=hr();var A=[];A.push({key:"Type",value:"/XObject"}),A.push({key:"Subtype",value:"/Form"}),A.push({key:"BBox",value:"["+[z(g.x),z(g.y),z(g.x+g.width),z(g.y+g.height)].join(" ")+"]"}),A.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var $=g.pages[1].join(`
`);jn({data:$,additionalKeyValues:A,objectId:g.objectNumber}),G("endobj")},Ua=function(){for(var g in Sr)Sr.hasOwnProperty(g)&&Ma(Sr[g])},Yc=function(g,A){var $,Y=[],ne=1/(A-1);for($=0;$<1;$+=ne)Y.push($);if(Y.push(1),g[0].offset!=0){var ge={offset:0,color:g[0].color};g.unshift(ge)}if(g[g.length-1].offset!=1){var Ne={offset:1,color:g[g.length-1].color};g.push(Ne)}for(var Te="",qe=0,rt=0;rt<Y.length;rt++){for($=Y[rt];$>g[qe+1].offset;)qe++;var Ze=g[qe].offset,dt=($-Ze)/(g[qe+1].offset-Ze),Ut=g[qe].color,Vt=g[qe+1].color;Te+=X(Math.round((1-dt)*Ut[0]+dt*Vt[0]).toString(16))+X(Math.round((1-dt)*Ut[1]+dt*Vt[1]).toString(16))+X(Math.round((1-dt)*Ut[2]+dt*Vt[2]).toString(16))}return Te.trim()},Rh=function(g,A){A||(A=21);var $=hr(),Y=Yc(g.colors,A),ne=[];ne.push({key:"FunctionType",value:"0"}),ne.push({key:"Domain",value:"[0.0 1.0]"}),ne.push({key:"Size",value:"["+A+"]"}),ne.push({key:"BitsPerSample",value:"8"}),ne.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ne.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),jn({data:Y,additionalKeyValues:ne,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:$}),G("endobj"),g.objectNumber=hr(),G("<< /ShadingType "+g.type),G("/ColorSpace /DeviceRGB");var ge="/Coords ["+z(parseFloat(g.coords[0]))+" "+z(parseFloat(g.coords[1]))+" ";g.type===2?ge+=z(parseFloat(g.coords[2]))+" "+z(parseFloat(g.coords[3])):ge+=z(parseFloat(g.coords[2]))+" "+z(parseFloat(g.coords[3]))+" "+z(parseFloat(g.coords[4]))+" "+z(parseFloat(g.coords[5])),G(ge+="]"),g.matrix&&G("/Matrix ["+g.matrix.toString()+"]"),G("/Function "+$+" 0 R"),G("/Extend [true true]"),G(">>"),G("endobj")},Th=function(g,A){var $=ar(),Y=hr();A.push({resourcesOid:$,objectOid:Y}),g.objectNumber=Y;var ne=[];ne.push({key:"Type",value:"/Pattern"}),ne.push({key:"PatternType",value:"1"}),ne.push({key:"PaintType",value:"1"}),ne.push({key:"TilingType",value:"1"}),ne.push({key:"BBox",value:"["+g.boundingBox.map(z).join(" ")+"]"}),ne.push({key:"XStep",value:z(g.xStep)}),ne.push({key:"YStep",value:z(g.yStep)}),ne.push({key:"Resources",value:$+" 0 R"}),g.matrix&&ne.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),jn({data:g.stream,additionalKeyValues:ne,objectId:g.objectNumber}),G("endobj")},Ba=function(g){var A;for(A in yt)yt.hasOwnProperty(A)&&(yt[A]instanceof xa?Rh(yt[A]):yt[A]instanceof To&&Th(yt[A],g))},Xc=function(g){for(var A in g.objectNumber=hr(),G("<<"),g)switch(A){case"opacity":G("/ca "+J(g[A]));break;case"stroke-opacity":G("/CA "+J(g[A]))}G(">>"),G("endobj")},Fh=function(){var g;for(g in Ht)Ht.hasOwnProperty(g)&&Xc(Ht[g])},ul=function(){for(var g in G("/XObject <<"),Sr)Sr.hasOwnProperty(g)&&Sr[g].objectNumber>=0&&G("/"+g+" "+Sr[g].objectNumber+" 0 R");xt.publish("putXobjectDict"),G(">>")},zh=function(){Or.oid=hr(),G("<<"),G("/Filter /Standard"),G("/V "+Or.v),G("/R "+Or.r),G("/U <"+Or.toHexString(Or.U)+">"),G("/O <"+Or.toHexString(Or.O)+">"),G("/P "+Or.P),G(">>"),G("endobj")},Qc=function(){for(var g in G("/Font <<"),At)At.hasOwnProperty(g)&&(m===!1||m===!0&&y.hasOwnProperty(g))&&G("/"+g+" "+At[g].objectNumber+" 0 R");G(">>")},Mh=function(){if(Object.keys(yt).length>0){for(var g in G("/Shading <<"),yt)yt.hasOwnProperty(g)&&yt[g]instanceof xa&&yt[g].objectNumber>=0&&G("/"+g+" "+yt[g].objectNumber+" 0 R");xt.publish("putShadingPatternDict"),G(">>")}},qa=function(g){if(Object.keys(yt).length>0){for(var A in G("/Pattern <<"),yt)yt.hasOwnProperty(A)&&yt[A]instanceof f.TilingPattern&&yt[A].objectNumber>=0&&yt[A].objectNumber<g&&G("/"+A+" "+yt[A].objectNumber+" 0 R");xt.publish("putTilingPatternDict"),G(">>")}},Uh=function(){if(Object.keys(Ht).length>0){var g;for(g in G("/ExtGState <<"),Ht)Ht.hasOwnProperty(g)&&Ht[g].objectNumber>=0&&G("/"+g+" "+Ht[g].objectNumber+" 0 R");xt.publish("putGStateDict"),G(">>")}},Xt=function(g){fn(g.resourcesOid,!0),G("<<"),G("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Qc(),Mh(),qa(g.objectOid),Uh(),ul(),G(">>"),G("endobj")},Zc=function(){var g=[];za(),Fh(),Ua(),Ba(g),xt.publish("putResources"),g.forEach(Xt),Xt({resourcesOid:Hn,objectOid:Number.MAX_SAFE_INTEGER}),xt.publish("postPutResources")},eu=function(){xt.publish("putAdditionalObjects");for(var g=0;g<Ae.length;g++){var A=Ae[g];fn(A.objId,!0),G(A.content),G("endobj")}xt.publish("postPutAdditionalObjects")},tu=function(g){zt[g.fontName]=zt[g.fontName]||{},zt[g.fontName][g.fontStyle]=g.id},dl=function(g,A,$,Y,ne){var ge={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:g,fontName:A,fontStyle:$,encoding:Y,isStandardFont:ne||!1,metadata:{}};return xt.publish("addFont",{font:ge,instance:this}),At[ge.id]=ge,tu(ge),ge.id},Bh=function(g){for(var A=0,$=Se.length;A<$;A++){var Y=dl.call(this,g[A][0],g[A][1],g[A][2],Se[A][3],!0);m===!1&&(y[Y]=!0);var ne=g[A][0].split("-");tu({id:Y,fontName:ne[0],fontStyle:ne[1]||""})}xt.publish("addFonts",{fonts:At,dictionary:zt})},Gn=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(Y){var A=Y.stack||"";~A.indexOf(" at ")&&(A=A.split(" at ")[1]);var $="Error in function "+A.split(`
`)[0].split("<")[0]+": "+Y.message;if(!Je.console)throw new Error($);Je.console.error($,Y),Je.alert&&alert($)}},g.foo.bar=g,g.foo},$a=function(g,A){var $,Y,ne,ge,Ne,Te,qe,rt,Ze;if(ne=(A=A||{}).sourceEncoding||"Unicode",Ne=A.outputEncoding,(A.autoencode||Ne)&&At[ot].metadata&&At[ot].metadata[ne]&&At[ot].metadata[ne].encoding&&(ge=At[ot].metadata[ne].encoding,!Ne&&At[ot].encoding&&(Ne=At[ot].encoding),!Ne&&ge.codePages&&(Ne=ge.codePages[0]),typeof Ne=="string"&&(Ne=ge[Ne]),Ne)){for(qe=!1,Te=[],$=0,Y=g.length;$<Y;$++)(rt=Ne[g.charCodeAt($)])?Te.push(String.fromCharCode(rt)):Te.push(g[$]),Te[$].charCodeAt(0)>>8&&(qe=!0);g=Te.join("")}for($=g.length;qe===void 0&&$!==0;)g.charCodeAt($-1)>>8&&(qe=!0),$--;if(!qe)return g;for(Te=A.noBOM?[]:[254,255],$=0,Y=g.length;$<Y;$++){if((Ze=(rt=g.charCodeAt($))>>8)>>8)throw new Error("Character at position "+$+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Te.push(Ze),Te.push(rt-(Ze<<8))}return String.fromCharCode.apply(void 0,Te)},Zr=f.__private__.pdfEscape=f.pdfEscape=function(g,A){return $a(g,A).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hl=f.__private__.beginPage=function(g){ke[++Wt]=[],Qe[Wt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},nu(Wt),ve(ke[q])},ru=function(g,A){var $,Y,ne;switch(r=A||r,typeof g=="string"&&($=x(g.toLowerCase()),Array.isArray($)&&(Y=$[0],ne=$[1])),Array.isArray(g)&&(Y=g[0]*Re,ne=g[1]*Re),isNaN(Y)&&(Y=i[0],ne=i[1]),(Y>14400||ne>14400)&&(Et.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Y=Math.min(14400,Y),ne=Math.min(14400,ne)),i=[Y,ne],r.substr(0,1)){case"l":ne>Y&&(i=[ne,Y]);break;case"p":Y>ne&&(i=[ne,Y])}hl(i),cu(gl),G(Jn),yl!==0&&G(yl+" J"),xl!==0&&G(xl+" j"),xt.publish("addPage",{pageNumber:Wt})},qh=function(g){g>0&&g<=Wt&&(ke.splice(g,1),Qe.splice(g,1),Wt--,q>Wt&&(q=Wt),this.setPage(q))},nu=function(g){g>0&&g<=Wt&&(q=g)},$h=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return ke.length-1},iu=function(g,A,$){var Y,ne=void 0;return $=$||{},g=g!==void 0?g:At[ot].fontName,A=A!==void 0?A:At[ot].fontStyle,Y=g.toLowerCase(),zt[Y]!==void 0&&zt[Y][A]!==void 0?ne=zt[Y][A]:zt[g]!==void 0&&zt[g][A]!==void 0?ne=zt[g][A]:$.disableWarning===!1&&Et.warn("Unable to look up font label for font '"+g+"', '"+A+"'. Refer to getFontList() for available fonts."),ne||$.noFallback||(ne=zt.times[A])==null&&(ne=zt.times.normal),ne},Hh=f.__private__.putInfo=function(){var g=hr(),A=function(Y){return Y};for(var $ in p!==null&&(A=Or.encryptor(g,0)),G("<<"),G("/Producer ("+Zr(A("jsPDF "+We.version))+")"),Ke)Ke.hasOwnProperty($)&&Ke[$]&&G("/"+$.substr(0,1).toUpperCase()+$.substr(1)+" ("+Zr(A(Ke[$]))+")");G("/CreationDate ("+Zr(A(de))+")"),G(">>"),G("endobj")},fl=f.__private__.putCatalog=function(g){var A=(g=g||{}).rootDictionaryObjId||Ii;switch(hr(),G("<<"),G("/Type /Catalog"),G("/Pages "+A+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":G("/OpenAction [3 0 R /FitH null]");break;case"fullheight":G("/OpenAction [3 0 R /FitV null]");break;case"fullpage":G("/OpenAction [3 0 R /Fit]");break;case"original":G("/OpenAction [3 0 R /XYZ null null 1]");break;default:var $=""+De;$.substr($.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&G("/OpenAction [3 0 R /XYZ null null "+J(De)+"]")}switch(at||(at="continuous"),at){case"continuous":G("/PageLayout /OneColumn");break;case"single":G("/PageLayout /SinglePage");break;case"two":case"twoleft":G("/PageLayout /TwoColumnLeft");break;case"tworight":G("/PageLayout /TwoColumnRight")}Xe&&G("/PageMode /"+Xe),xt.publish("putCatalog"),G(">>"),G("endobj")},Wh=f.__private__.putTrailer=function(){G("trailer"),G("<<"),G("/Size "+(te+1)),G("/Root "+te+" 0 R"),G("/Info "+(te-1)+" 0 R"),p!==null&&G("/Encrypt "+Or.oid+" 0 R"),G("/ID [ <"+ue+"> <"+ue+"> ]"),G(">>")},Vh=f.__private__.putHeader=function(){G("%PDF-"+b),G("%")},Gh=f.__private__.putXRef=function(){var g="0000000000";G("xref"),G("0 "+(te+1)),G("0000000000 65535 f ");for(var A=1;A<=te;A++)typeof ce[A]=="function"?G((g+ce[A]()).slice(-10)+" 00000 n "):ce[A]!==void 0?G((g+ce[A]).slice(-10)+" 00000 n "):G("0000000000 00000 n ")},Di=f.__private__.buildDocument=function(){Ge(),ve(he),xt.publish("buildDocument"),Vh(),ta(),eu(),Zc(),p!==null&&zh(),Hh(),fl();var g=fe;return Gh(),Wh(),G("startxref"),G(""+g),G("%%EOF"),ve(ke[q]),he.join(`
`)},Ha=f.__private__.getBlob=function(g){return new Blob([Ue(g)],{type:"application/pdf"})},Wa=f.output=f.__private__.output=Gn(function(g,A){switch(typeof(A=A||{})=="string"?A={filename:A}:A.filename=A.filename||"generated.pdf",g){case void 0:return Di();case"save":f.save(A.filename);break;case"arraybuffer":return Ue(Di());case"blob":return Ha(Di());case"bloburi":case"bloburl":if(Je.URL!==void 0&&typeof Je.URL.createObjectURL=="function")return Je.URL&&Je.URL.createObjectURL(Ha(Di()))||void 0;Et.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var $="",Y=Di();try{$=L0(Y)}catch{$=L0(unescape(encodeURIComponent(Y)))}return"data:application/pdf;filename="+A.filename+";base64,"+$;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Je)==="[object Window]"){var ne="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ge=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';A.pdfObjectUrl&&(ne=A.pdfObjectUrl,ge="");var Ne='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ne+'"'+ge+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(A)+");<\/script></body></html>",Te=Je.open();return Te!==null&&Te.document.write(Ne),Te}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Je)==="[object Window]"){var qe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(A.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+A.filename+'" width="500px" height="400px" /></body></html>',rt=Je.open();if(rt!==null){rt.document.write(qe);var Ze=this;rt.document.documentElement.querySelector("#pdfViewer").onload=function(){rt.document.title=A.filename,rt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Ze.output("bloburl"))}}return rt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Je)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var dt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",A)+'"></iframe></body></html>',Ut=Je.open();if(Ut!==null&&(Ut.document.write(dt),Ut.document.title=A.filename),Ut||typeof safari>"u")return Ut;break;case"datauri":case"dataurl":return Je.document.location.href=this.output("datauristring",A);default:return null}}),su=function(g){return Array.isArray(ea)===!0&&ea.indexOf(g)>-1};switch(n){case"pt":Re=1;break;case"mm":Re=72/25.4;break;case"cm":Re=72/2.54;break;case"in":Re=72;break;case"px":Re=su("px_scaling")==1?.75:96/72;break;case"pc":case"em":Re=12;break;case"ex":Re=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);Re=n}var Or=null;_e(),K();var Jh=function(g){return p!==null?Or.encryptor(g,0):function(A){return A}},au=f.__private__.getPageInfo=f.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Qe[g].objId,pageNumber:g,pageContext:Qe[g]}},Ye=f.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var A in Qe)if(Qe[A].objId===g)break;return au(A)},Kh=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Qe[q].objId,pageNumber:q,pageContext:Qe[q]}};f.addPage=function(){return ru.apply(this,arguments),this},f.setPage=function(){return nu.apply(this,arguments),ve.call(this,ke[q]),this},f.insertPage=function(g){return this.addPage(),this.movePage(q,g),this},f.movePage=function(g,A){var $,Y;if(g>A){$=ke[g],Y=Qe[g];for(var ne=g;ne>A;ne--)ke[ne]=ke[ne-1],Qe[ne]=Qe[ne-1];ke[A]=$,Qe[A]=Y,this.setPage(A)}else if(g<A){$=ke[g],Y=Qe[g];for(var ge=g;ge<A;ge++)ke[ge]=ke[ge+1],Qe[ge]=Qe[ge+1];ke[A]=$,Qe[A]=Y,this.setPage(A)}return this},f.deletePage=function(){return qh.apply(this,arguments),this},f.__private__.text=f.text=function(g,A,$,Y,ne){var ge,Ne,Te,qe,rt,Ze,dt,Ut,Vt,or=(Y=Y||{}).scope||this;if(typeof g=="number"&&typeof A=="number"&&(typeof $=="string"||Array.isArray($))){var Ir=$;$=A,A=g,g=Ir}if(arguments[3]instanceof Ve?(L("The transform parameter of text() with a Matrix value"),Vt=ne):(Te=arguments[4],qe=arguments[5],Nt(dt=arguments[3])==="object"&&dt!==null||(typeof Te=="string"&&(qe=Te,Te=null),typeof dt=="string"&&(qe=dt,dt=null),typeof dt=="number"&&(Te=dt,dt=null),Y={flags:dt,angle:Te,align:qe})),isNaN(A)||isNaN($)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return or;var vr="",Kn=!1,pn=typeof Y.lineHeightFactor=="number"?Y.lineHeightFactor:na,wi=or.internal.scaleFactor;function mu(Ct){return Ct=Ct.split("	").join(Array(Y.TabLen||9).join(" ")),Zr(Ct,dt)}function Sl(Ct){for(var Pt,Zt=Ct.concat(),fr=[],Mi=Zt.length;Mi--;)typeof(Pt=Zt.shift())=="string"?fr.push(Pt):Array.isArray(Ct)&&(Pt.length===1||Pt[1]===void 0&&Pt[2]===void 0)?fr.push(Pt[0]):fr.push([Pt[0],Pt[1],Pt[2]]);return fr}function jl(Ct,Pt){var Zt;if(typeof Ct=="string")Zt=Pt(Ct)[0];else if(Array.isArray(Ct)){for(var fr,Mi,Il=Ct.concat(),ao=[],wu=Il.length;wu--;)typeof(fr=Il.shift())=="string"?ao.push(Pt(fr)[0]):Array.isArray(fr)&&typeof fr[0]=="string"&&(Mi=Pt(fr[0],fr[1],fr[2]),ao.push([Mi[0],Mi[1],Mi[2]]));Zt=ao}return Zt}var Xa=!1,kl=!0;if(typeof g=="string")Xa=!0;else if(Array.isArray(g)){var Al=g.concat();Ne=[];for(var Qa,jr=Al.length;jr--;)(typeof(Qa=Al.shift())!="string"||Array.isArray(Qa)&&typeof Qa[0]!="string")&&(kl=!1);Xa=kl}if(Xa===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var Za=Le/or.internal.scaleFactor,eo=Za*(pn-1);switch(Y.baseline){case"bottom":$-=eo;break;case"top":$+=Za-eo;break;case"hanging":$+=Za-2*eo;break;case"middle":$+=Za/2-eo}if((Ze=Y.maxWidth||0)>0&&(typeof g=="string"?g=or.splitTextToSize(g,Ze):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Ct,Pt){return Ct.concat(or.splitTextToSize(Pt,Ze))},[]))),ge={text:g,x:A,y:$,options:Y,mutex:{pdfEscape:Zr,activeFontKey:ot,fonts:At,activeFontSize:Le}},xt.publish("preProcessText",ge),g=ge.text,Te=(Y=ge.options).angle,!(Vt instanceof Ve)&&Te&&typeof Te=="number"){Te*=Math.PI/180,Y.rotationDirection===0&&(Te=-Te),S===w.ADVANCED&&(Te=-Te);var to=Math.cos(Te),Ll=Math.sin(Te);Vt=new Ve(to,Ll,-Ll,to,0,0)}else Te&&Te instanceof Ve&&(Vt=Te);S!==w.ADVANCED||Vt||(Vt=mi),(rt=Y.charSpace||Ja)!==void 0&&(vr+=z(T(rt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ut=Y.horizontalScale)!==void 0&&(vr+=z(100*Ut)+` Tz
`),Y.lang;var en=-1,af=Y.renderingMode!==void 0?Y.renderingMode:Y.stroke,El=or.internal.getCurrentPageInfo().pageContext;switch(af){case 0:case!1:case"fill":en=0;break;case 1:case!0:case"stroke":en=1;break;case 2:case"fillThenStroke":en=2;break;case 3:case"invisible":en=3;break;case 4:case"fillAndAddForClipping":en=4;break;case 5:case"strokeAndAddPathForClipping":en=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":en=6;break;case 7:case"addToPathForClipping":en=7}var gu=El.usedRenderingMode!==void 0?El.usedRenderingMode:-1;en!==-1?vr+=en+` Tr
`:gu!==-1&&(vr+=`0 Tr
`),en!==-1&&(El.usedRenderingMode=en),qe=Y.align||"left";var kn,ro=Le*pn,vu=or.internal.pageSize.getWidth(),yu=At[ot];rt=Y.charSpace||Ja,Ze=Y.maxWidth||0,dt=Object.assign({autoencode:!0,noBOM:!0},Y.flags);var as=[],aa=function(Ct){return or.getStringUnitWidth(Ct,{font:yu,charSpace:rt,fontSize:Le,doKerning:!1})*Le/wi};if(Object.prototype.toString.call(g)==="[object Array]"){var tn;Ne=Sl(g),qe!=="left"&&(kn=Ne.map(aa));var $r,os=0;if(qe==="right"){A-=kn[0],g=[],jr=Ne.length;for(var Ti=0;Ti<jr;Ti++)Ti===0?($r=xi(A),tn=Ri($)):($r=T(os-kn[Ti]),tn=-ro),g.push([Ne[Ti],$r,tn]),os=kn[Ti]}else if(qe==="center"){A-=kn[0]/2,g=[],jr=Ne.length;for(var Fi=0;Fi<jr;Fi++)Fi===0?($r=xi(A),tn=Ri($)):($r=T((os-kn[Fi])/2),tn=-ro),g.push([Ne[Fi],$r,tn]),os=kn[Fi]}else if(qe==="left"){g=[],jr=Ne.length;for(var no=0;no<jr;no++)g.push(Ne[no])}else if(qe==="justify"&&yu.encoding==="Identity-H"){g=[],jr=Ne.length,Ze=Ze!==0?Ze:vu;for(var zi=0,Qt=0;Qt<jr;Qt++)if(tn=Qt===0?Ri($):-ro,$r=Qt===0?xi(A):zi,Qt<jr-1){var Cl=T((Ze-kn[Qt])/(Ne[Qt].split(" ").length-1)),Hr=Ne[Qt].split(" ");g.push([Hr[0]+" ",$r,tn]),zi=0;for(var An=1;An<Hr.length;An++){var io=(aa(Hr[An-1]+" "+Hr[An])-aa(Hr[An]))*wi+Cl;An==Hr.length-1?g.push([Hr[An],io,0]):g.push([Hr[An]+" ",io,0]),zi-=io}}else g.push([Ne[Qt],$r,tn]);g.push(["",zi,0])}else{if(qe!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],jr=Ne.length,Ze=Ze!==0?Ze:vu,Qt=0;Qt<jr;Qt++)tn=Qt===0?Ri($):-ro,$r=Qt===0?xi(A):0,Qt<jr-1?as.push(z(T((Ze-kn[Qt])/(Ne[Qt].split(" ").length-1)))):as.push(0),g.push([Ne[Qt],$r,tn])}}var xu=typeof Y.R2L=="boolean"?Y.R2L:Be;xu===!0&&(g=jl(g,function(Ct,Pt,Zt){return[Ct.split("").reverse().join(""),Pt,Zt]})),ge={text:g,x:A,y:$,options:Y,mutex:{pdfEscape:Zr,activeFontKey:ot,fonts:At,activeFontSize:Le}},xt.publish("postProcessText",ge),g=ge.text,Kn=ge.mutex.isHex||!1;var Pl=At[ot].encoding;Pl!=="WinAnsiEncoding"&&Pl!=="StandardEncoding"||(g=jl(g,function(Ct,Pt,Zt){return[mu(Ct),Pt,Zt]})),Ne=Sl(g),g=[];for(var oa,la,ls,ca=0,so=1,ua=Array.isArray(Ne[0])?so:ca,cs="",Ol=function(Ct,Pt,Zt){var fr="";return Zt instanceof Ve?(Zt=typeof Y.angle=="number"?$n(Zt,new Ve(1,0,0,1,Ct,Pt)):$n(new Ve(1,0,0,1,Ct,Pt),Zt),S===w.ADVANCED&&(Zt=$n(new Ve(1,0,0,-1,0,0),Zt)),fr=Zt.join(" ")+` Tm
`):fr=z(Ct)+" "+z(Pt)+` Td
`,fr},Ln=0;Ln<Ne.length;Ln++){switch(cs="",ua){case so:ls=(Kn?"<":"(")+Ne[Ln][0]+(Kn?">":")"),oa=parseFloat(Ne[Ln][1]),la=parseFloat(Ne[Ln][2]);break;case ca:ls=(Kn?"<":"(")+Ne[Ln]+(Kn?">":")"),oa=xi(A),la=Ri($)}as!==void 0&&as[Ln]!==void 0&&(cs=as[Ln]+` Tw
`),Ln===0?g.push(cs+Ol(oa,la,Vt)+ls):ua===ca?g.push(cs+ls):ua===so&&g.push(cs+Ol(oa,la,Vt)+ls)}g=ua===ca?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var En=`BT
/`;return En+=ot+" "+Le+` Tf
`,En+=z(Le*pn)+` TL
`,En+=ia+`
`,En+=vr,En+=g,G(En+="ET"),y[ot]=!0,or};var Yh=f.__private__.clip=f.clip=function(g){return G(g==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return Yh("evenodd")},f.__private__.discardPath=f.discardPath=function(){return G("n"),this};var yi=f.__private__.isValidStyle=function(g){var A=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(A=!0),A};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(g){return yi(g)&&(d=g),this};var ou=f.__private__.getStyle=f.getStyle=function(g){var A=d;switch(g){case"D":case"S":A="S";break;case"F":A="f";break;case"FD":case"DF":A="B";break;case"f":case"f*":case"B":case"B*":A=g}return A},lu=f.close=function(){return G("h"),this};f.stroke=function(){return G("S"),this},f.fill=function(g){return Va("f",g),this},f.fillEvenOdd=function(g){return Va("f*",g),this},f.fillStroke=function(g){return Va("B",g),this},f.fillStrokeEvenOdd=function(g){return Va("B*",g),this};var Va=function(g,A){Nt(A)==="object"?Qh(A,g):G(g)},pl=function(g){g===null||S===w.ADVANCED&&g===void 0||(g=ou(g),G(g))};function Xh(g,A,$,Y,ne){var ge=new To(A||this.boundingBox,$||this.xStep,Y||this.yStep,this.gState,ne||this.matrix);ge.stream=this.stream;var Ne=g+"$$"+this.cloneIndex+++"$$";return Qr(Ne,ge),ge}var Qh=function(g,A){var $=Zs[g.key],Y=yt[$];if(Y instanceof xa)G("q"),G(Zh(A)),Y.gState&&f.setGState(Y.gState),G(g.matrix.toString()+" cm"),G("/"+$+" sh"),G("Q");else if(Y instanceof To){var ne=new Ve(1,0,0,-1,0,ss());g.matrix&&(ne=ne.multiply(g.matrix||mi),$=Xh.call(Y,g.key,g.boundingBox,g.xStep,g.yStep,ne).id),G("q"),G("/Pattern cs"),G("/"+$+" scn"),Y.gState&&f.setGState(Y.gState),G(A),G("Q")}},Zh=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ml=f.moveTo=function(g,A){return G(z(T(g))+" "+z(W(A))+" m"),this},ra=f.lineTo=function(g,A){return G(z(T(g))+" "+z(W(A))+" l"),this},ns=f.curveTo=function(g,A,$,Y,ne,ge){return G([z(T(g)),z(W(A)),z(T($)),z(W(Y)),z(T(ne)),z(W(ge)),"c"].join(" ")),this};f.__private__.line=f.line=function(g,A,$,Y,ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(Y)||!yi(ne))throw new Error("Invalid arguments passed to jsPDF.line");return S===w.COMPAT?this.lines([[$-g,Y-A]],g,A,[1,1],ne||"S"):this.lines([[$-g,Y-A]],g,A,[1,1]).stroke()},f.__private__.lines=f.lines=function(g,A,$,Y,ne,ge){var Ne,Te,qe,rt,Ze,dt,Ut,Vt,or,Ir,vr,Kn;if(typeof g=="number"&&(Kn=$,$=A,A=g,g=Kn),Y=Y||[1,1],ge=ge||!1,isNaN(A)||isNaN($)||!Array.isArray(g)||!Array.isArray(Y)||!yi(ne)||typeof ge!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ml(A,$),Ne=Y[0],Te=Y[1],rt=g.length,Ir=A,vr=$,qe=0;qe<rt;qe++)(Ze=g[qe]).length===2?(Ir=Ze[0]*Ne+Ir,vr=Ze[1]*Te+vr,ra(Ir,vr)):(dt=Ze[0]*Ne+Ir,Ut=Ze[1]*Te+vr,Vt=Ze[2]*Ne+Ir,or=Ze[3]*Te+vr,Ir=Ze[4]*Ne+Ir,vr=Ze[5]*Te+vr,ns(dt,Ut,Vt,or,Ir,vr));return ge&&lu(),pl(ne),this},f.path=function(g){for(var A=0;A<g.length;A++){var $=g[A],Y=$.c;switch($.op){case"m":ml(Y[0],Y[1]);break;case"l":ra(Y[0],Y[1]);break;case"c":ns.apply(this,Y);break;case"h":lu()}}return this},f.__private__.rect=f.rect=function(g,A,$,Y,ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(Y)||!yi(ne))throw new Error("Invalid arguments passed to jsPDF.rect");return S===w.COMPAT&&(Y=-Y),G([z(T(g)),z(W(A)),z(T($)),z(T(Y)),"re"].join(" ")),pl(ne),this},f.__private__.triangle=f.triangle=function(g,A,$,Y,ne,ge,Ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(Y)||isNaN(ne)||isNaN(ge)||!yi(Ne))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[$-g,Y-A],[ne-$,ge-Y],[g-ne,A-ge]],g,A,[1,1],Ne,!0),this},f.__private__.roundedRect=f.roundedRect=function(g,A,$,Y,ne,ge,Ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(Y)||isNaN(ne)||isNaN(ge)||!yi(Ne))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Te=4/3*(Math.SQRT2-1);return ne=Math.min(ne,.5*$),ge=Math.min(ge,.5*Y),this.lines([[$-2*ne,0],[ne*Te,0,ne,ge-ge*Te,ne,ge],[0,Y-2*ge],[0,ge*Te,-ne*Te,ge,-ne,ge],[2*ne-$,0],[-ne*Te,0,-ne,-ge*Te,-ne,-ge],[0,2*ge-Y],[0,-ge*Te,ne*Te,-ge,ne,-ge]],g+ne,A,[1,1],Ne,!0),this},f.__private__.ellipse=f.ellipse=function(g,A,$,Y,ne){if(isNaN(g)||isNaN(A)||isNaN($)||isNaN(Y)||!yi(ne))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ge=4/3*(Math.SQRT2-1)*$,Ne=4/3*(Math.SQRT2-1)*Y;return ml(g+$,A),ns(g+$,A-Ne,g+ge,A-Y,g,A-Y),ns(g-ge,A-Y,g-$,A-Ne,g-$,A),ns(g-$,A+Ne,g-ge,A+Y,g,A+Y),ns(g+ge,A+Y,g+$,A+Ne,g+$,A),pl(ne),this},f.__private__.circle=f.circle=function(g,A,$,Y){if(isNaN(g)||isNaN(A)||isNaN($)||!yi(Y))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,A,$,$,Y)},f.setFont=function(g,A,$){return $&&(A=H(A,$)),ot=iu(g,A,{disableWarning:!1}),this};var ef=f.__private__.getFont=f.getFont=function(){return At[iu.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var g,A,$={};for(g in zt)if(zt.hasOwnProperty(g))for(A in $[g]=[],zt[g])zt[g].hasOwnProperty(A)&&$[g].push(A);return $},f.addFont=function(g,A,$,Y,ne){var ge=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ge.indexOf(arguments[3])!==-1?ne=arguments[3]:arguments[3]&&ge.indexOf(arguments[3])==-1&&($=H($,Y)),ne=ne||"Identity-H",dl.call(this,g,A,$,ne)};var na,gl=t.lineWidth||.200025,Ga=f.__private__.getLineWidth=f.getLineWidth=function(){return gl},cu=f.__private__.setLineWidth=f.setLineWidth=function(g){return gl=g,G(z(T(g))+" w"),this};f.__private__.setLineDash=We.API.setLineDash=We.API.setLineDashPattern=function(g,A){if(g=g||[],A=A||0,isNaN(A)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function($){return z(T($))}).join(" "),A=z(T(A)),G("["+g+"] "+A+" d"),this};var uu=f.__private__.getLineHeight=f.getLineHeight=function(){return Le*na};f.__private__.getLineHeight=f.getLineHeight=function(){return Le*na};var du=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(na=g),this},hu=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return na};du(t.lineHeight);var xi=f.__private__.getHorizontalCoordinate=function(g){return T(g)},Ri=f.__private__.getVerticalCoordinate=function(g){return S===w.ADVANCED?g:Qe[q].mediaBox.topRightY-Qe[q].mediaBox.bottomLeftY-T(g)},tf=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(g){return z(xi(g))},is=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(g){return z(Ri(g))},Jn=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Wn(Jn)},f.__private__.setStrokeColor=f.setDrawColor=function(g,A,$,Y){return Jn=Vn({ch1:g,ch2:A,ch3:$,ch4:Y,pdfColorType:"draw",precision:2}),G(Jn),this};var vl=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Wn(vl)},f.__private__.setFillColor=f.setFillColor=function(g,A,$,Y){return vl=Vn({ch1:g,ch2:A,ch3:$,ch4:Y,pdfColorType:"fill",precision:2}),G(vl),this};var ia=t.textColor||"0 g",rf=f.__private__.getTextColor=f.getTextColor=function(){return Wn(ia)};f.__private__.setTextColor=f.setTextColor=function(g,A,$,Y){return ia=Vn({ch1:g,ch2:A,ch3:$,ch4:Y,pdfColorType:"text",precision:3}),this};var Ja=t.charSpace,nf=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(Ja||0)};f.__private__.setCharSpace=f.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ja=g,this};var yl=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(g){var A=f.CapJoinStyles[g];if(A===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return yl=A,G(A+" J"),this};var xl=0;f.__private__.setLineJoin=f.setLineJoin=function(g){var A=f.CapJoinStyles[g];if(A===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xl=A,G(A+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return G(z(T(g))+" M"),this},f.GState=sh,f.setGState=function(g){(g=typeof g=="string"?Ht[qn[g]]:fu(null,g)).equals(Oi)||(G("/"+g.id+" gs"),Oi=g)};var fu=function(g,A){if(!g||!qn[g]){var $=!1;for(var Y in Ht)if(Ht.hasOwnProperty(Y)&&Ht[Y].equals(A)){$=!0;break}if($)A=Ht[Y];else{var ne="GS"+(Object.keys(Ht).length+1).toString(10);Ht[ne]=A,A.id=ne}return g&&(qn[g]=A.id),xt.publish("addGState",A),A}};f.addGState=function(g,A){return fu(g,A),this},f.saveGraphicsState=function(){return G("q"),hi.push({key:ot,size:Le,color:ia}),this},f.restoreGraphicsState=function(){G("Q");var g=hi.pop();return ot=g.key,Le=g.size,ia=g.color,Oi=null,this},f.setCurrentTransformationMatrix=function(g){return G(g.toString()+" cm"),this},f.comment=function(g){return G("#"+g),this};var Ka=function(g,A){var $=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return $},set:function(ge){isNaN(ge)||($=parseFloat(ge))}});var Y=A||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Y},set:function(ge){isNaN(ge)||(Y=parseFloat(ge))}});var ne="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ne},set:function(ge){ne=ge.toString()}}),this},wl=function(g,A,$,Y){Ka.call(this,g,A),this.type="rect";var ne=$||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ne},set:function(Ne){isNaN(Ne)||(ne=parseFloat(Ne))}});var ge=Y||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ge},set:function(Ne){isNaN(Ne)||(ge=parseFloat(Ne))}}),this},bl=function(){this.page=Wt,this.currentPage=q,this.pages=ke.slice(0),this.pagesContext=Qe.slice(0),this.x=Pr,this.y=gt,this.matrix=Bn,this.width=sa(q),this.height=ss(q),this.outputDestination=Ce,this.id="",this.objectNumber=-1};bl.prototype.restore=function(){Wt=this.page,q=this.currentPage,Qe=this.pagesContext,ke=this.pages,Pr=this.x,gt=this.y,Bn=this.matrix,Nl(q,this.width),_l(q,this.height),Ce=this.outputDestination};var pu=function(g,A,$,Y,ne){pi.push(new bl),Wt=q=0,ke=[],Pr=g,gt=A,Bn=ne,hl([$,Y])},sf=function(g){if(fi[g])pi.pop().restore();else{var A=new bl,$="Xo"+(Object.keys(Sr).length+1).toString(10);A.id=$,fi[g]=$,Sr[$]=A,xt.publish("addFormObject",A),pi.pop().restore()}};for(var Ya in f.beginFormObject=function(g,A,$,Y,ne){return pu(g,A,$,Y,ne),this},f.endFormObject=function(g){return sf(g),this},f.doFormObject=function(g,A){var $=Sr[fi[g]];return G("q"),G(A.toString()+" cm"),G("/"+$.id+" Do"),G("Q"),this},f.getFormObject=function(g){var A=Sr[fi[g]];return{x:A.x,y:A.y,width:A.width,height:A.height,matrix:A.matrix}},f.save=function(g,A){return g=g||"generated.pdf",(A=A||{}).returnPromise=A.returnPromise||!1,A.returnPromise===!1?(va(Ha(Di()),g),typeof va.unload=="function"&&Je.setTimeout&&setTimeout(va.unload,911),this):new Promise(function($,Y){try{var ne=va(Ha(Di()),g);typeof va.unload=="function"&&Je.setTimeout&&setTimeout(va.unload,911),$(ne)}catch(ge){Y(ge.message)}})},We.API)We.API.hasOwnProperty(Ya)&&(Ya==="events"&&We.API.events.length?function(g,A){var $,Y,ne;for(ne=A.length-1;ne!==-1;ne--)$=A[ne][0],Y=A[ne][1],g.subscribe.apply(g,[$].concat(typeof Y=="function"?[Y]:Y))}(xt,We.API.events):f[Ya]=We.API[Ya]);var sa=f.getPageWidth=function(g){return(Qe[g=g||q].mediaBox.topRightX-Qe[g].mediaBox.bottomLeftX)/Re},Nl=f.setPageWidth=function(g,A){Qe[g].mediaBox.topRightX=A*Re+Qe[g].mediaBox.bottomLeftX},ss=f.getPageHeight=function(g){return(Qe[g=g||q].mediaBox.topRightY-Qe[g].mediaBox.bottomLeftY)/Re},_l=f.setPageHeight=function(g,A){Qe[g].mediaBox.topRightY=A*Re+Qe[g].mediaBox.bottomLeftY};return f.internal={pdfEscape:Zr,getStyle:ou,getFont:ef,getFontSize:Oe,getCharSpace:nf,getTextColor:rf,getLineHeight:uu,getLineHeightFactor:hu,getLineWidth:Ga,write:tt,getHorizontalCoordinate:xi,getVerticalCoordinate:Ri,getCoordinateString:tf,getVerticalCoordinateString:is,collections:{},newObject:hr,newAdditionalObject:Ta,newObjectDeferred:ar,newObjectDeferredBegin:fn,getFilters:gi,putStream:jn,events:xt,scaleFactor:Re,pageSize:{getWidth:function(){return sa(q)},setWidth:function(g){Nl(q,g)},getHeight:function(){return ss(q)},setHeight:function(g){_l(q,g)}},encryptionOptions:p,encryption:Or,getEncryptor:Jh,output:Wa,getNumberOfPages:$h,pages:ke,out:G,f2:J,f3:D,getPageInfo:au,getPageInfoByObjId:Ye,getCurrentPageInfo:Kh,getPDFVersion:_,Point:Ka,Rectangle:wl,Matrix:Ve,hasHotfix:su},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return sa(q)},set:function(g){Nl(q,g)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return ss(q)},set:function(g){_l(q,g)},enumerable:!0,configurable:!0}),Bh.call(f,Se),ot="F1",ru(i,r),xt.publish("initialized"),f}No.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},No.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},No.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},No.prototype.processOwnerPassword=function(t,e){return C0(E0(e).substr(0,5),t)},No.prototype.encryptor=function(t,e){var r=E0(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return C0(r,n)}},sh.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Nt(t)!==Nt(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},We.API={events:[]},We.version="2.5.2";var Jt=We.API,Um=1,Ra=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},yo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},et=function(t){return t.toFixed(2)},ws=function(t){return t.toFixed(5)};Jt.__acroform__={};var hn=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},o2=function(t){return t*Um},_i=function(t){var e=new E5,r=Me.internal.getHeight(t)||0,n=Me.internal.getWidth(t)||0;return e.BBox=[0,0,Number(et(n)),Number(et(r))],e},Z_=Jt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},eS=Jt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},tS=Jt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},rr=Jt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return tS(t,e-1)},nr=Jt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Z_(t,e-1)},ir=Jt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return eS(t,e-1)},rS=Jt.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],c={};return c.lowerLeft_X=r(i)||0,c.lowerLeft_Y=n(s+o)||0,c.upperRight_X=r(i+a)||0,c.upperRight_Y=n(s)||0,[Number(et(c.lowerLeft_X)),Number(et(c.lowerLeft_Y)),Number(et(c.upperRight_X)),Number(et(c.upperRight_Y))]},nS=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=P0(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+et(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=_i(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},P0=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(D){return D.split(`
`)}):i.map(function(D){return[D]});var s=r,a=Me.internal.getHeight(t)||0;a=a<0?-a:a;var o=Me.internal.getWidth(t)||0;o=o<0?-o:o;var c=function(D,T,B){if(D+1<i.length){var W=T+" "+i[D+1][0];return ud(W,t,B).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var d,p,m=ud("3",t,s).height,y=t.multiline?a-s:(a-m)/2,f=y+=2,b=0,_=0,j=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+ud(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var x="",w=0,S=0;S<i.length;S++)if(i.hasOwnProperty(S)){var F=!1;if(i[S].length!==1&&j!==i[S].length-1){if((m+2)*(w+2)+2>a)continue e;x+=i[S][j],F=!0,_=S,S--}else{x=(x+=i[S][j]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var O=parseInt(S),H=c(O,x,s),z=S>=i.length-1;if(H&&!z){x+=" ",j=0;continue}if(H||z){if(z)_=O;else if(t.multiline&&(m+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(m+2)*(w+2)+2>a)continue e;_=O}}for(var L="",U=b;U<=_;U++){var J=i[U];if(t.multiline){if(U===_){L+=J[j]+" ",j=(j+1)%J.length;continue}if(U===b){L+=J[J.length-1]+" ";continue}}L+=J[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,p=ud(L,t,s).width,t.textAlign){case"right":d=o-p-2;break;case"center":d=(o-p)/2;break;case"left":default:d=2}e+=et(d)+" "+et(f)+` Td
`,e+="("+Ra(L)+`) Tj
`,e+=-et(d)+` 0 Td
`,f=-(s+2),p=0,b=F?_:_+1,w++,x=""}break}return n.text=e,n.fontSize=s,n},ud=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},iS={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},sS=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},aS=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),Nt(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},oS=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(ui.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(iS)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Um=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new C5,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&sS(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],c=[],d=o.Rect;if(o.Rect&&(o.Rect=rS(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Me.createDefaultAppearanceStream(o),Nt(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(c=o.getKeyValueListForStream()),o.Rect=d,o.hasAppearanceStream&&!o.appearanceStreamContent){var p=nS(o);c.push({key:"AP",value:"<</N "+p+">>"}),i.internal.acroformPlugin.xForms.push(p)}if(o.appearanceStreamContent){var m="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var f=o.appearanceStreamContent[y];if(m+="/"+y+" ",m+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var a in f)if(f.hasOwnProperty(a)){var b=f[a];typeof b=="function"&&(b=b.call(i,o)),m+="/"+a+" "+b+" ",i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b)}}else typeof(b=f)=="function"&&(b=b.call(i,o)),m+="/"+a+" "+b,i.internal.acroformPlugin.xForms.indexOf(b)>=0||i.internal.acroformPlugin.xForms.push(b);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:o.objId}),i.internal.out("endobj")}s&&aS(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},L5=Jt.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Nt(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+Ra(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},up=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Ra(n(t))+")"},Ai=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ai.prototype.toString=function(){return this.objId+" 0 R"},Ai.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ai.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:L5(i,this.objId,this.scope)}):i instanceof Ai?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var E5=function(){Ai.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};hn(E5,Ai);var C5=function(){Ai.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Ra(r(t))+")"}},set:function(r){t=r}})};hn(C5,Ai);var ui=function t(){Ai.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!rr(e,3)},set:function(x){x?this.F=nr(e,3):this.F=ir(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof ah)return;s="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+Ra(x(s))+")"},set:function(x){s=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(x){s=x}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(x){a=x}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(x){o=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/Um:d},set:function(x){d=x}});var p="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return p},set:function(x){p=x}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof ah||this instanceof ja))return up(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=x}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof Nr?y:up(y,this.objId,this.scope)},set:function(x){x=x.toString(),y=this instanceof Nr?x:x.substr(0,1)==="("?yo(x.substr(1,x.length-2)):yo(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nr?yo(y.substr(1,y.length-1)):y},set:function(x){x=x.toString(),y=this instanceof Nr?"/"+x:x}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof Nr?f:up(f,this.objId,this.scope)},set:function(x){x=x.toString(),f=this instanceof Nr?x:x.substr(0,1)==="("?yo(x.substr(1,x.length-2)):yo(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Nr?yo(f.substr(1,f.length-1)):f},set:function(x){x=x.toString(),f=this instanceof Nr?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var b,_=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return _},set:function(x){x=!!x,_=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(b)return b},set:function(x){b=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,1)},set:function(x){x?this.Ff=nr(this.Ff,1):this.Ff=ir(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,2)},set:function(x){x?this.Ff=nr(this.Ff,2):this.Ff=ir(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,3)},set:function(x){x?this.Ff=nr(this.Ff,3):this.Ff=ir(this.Ff,3)}});var j=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(j!==null)return j},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');j=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(j){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:j=2;break;case"center":case 1:j=1;break;case"left":case 0:default:j=0}}})};hn(ui,Ai);var Ho=function(){ui.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return L5(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var c,d=[];c=a.exec(s);)d.push(c[o]);return d}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,18)},set:function(r){r?this.Ff=nr(this.Ff,18):this.Ff=ir(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=nr(this.Ff,19):this.Ff=ir(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,20)},set:function(r){r?(this.Ff=nr(this.Ff,20),e.sort()):this.Ff=ir(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,22)},set:function(r){r?this.Ff=nr(this.Ff,22):this.Ff=ir(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,23)},set:function(r){r?this.Ff=nr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,27)},set:function(r){r?this.Ff=nr(this.Ff,27):this.Ff=ir(this.Ff,27)}}),this.hasAppearanceStream=!1};hn(Ho,ui);var Wo=function(){Ho.call(this),this.fontName="helvetica",this.combo=!1};hn(Wo,Ho);var Vo=function(){Wo.call(this),this.combo=!0};hn(Vo,Wo);var kd=function(){Vo.call(this),this.edit=!0};hn(kd,Vo);var Nr=function(){ui.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,15)},set:function(r){r?this.Ff=nr(this.Ff,15):this.Ff=ir(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,16)},set:function(r){r?this.Ff=nr(this.Ff,16):this.Ff=ir(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,17)},set:function(r){r?this.Ff=nr(this.Ff,17):this.Ff=ir(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,26)},set:function(r){r?this.Ff=nr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+Ra(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){Nt(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};hn(Nr,ui);var Ad=function(){Nr.call(this),this.pushButton=!0};hn(Ad,Nr);var Go=function(){Nr.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};hn(Go,Nr);var ah=function(){var t,e;ui.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+Ra(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Nt(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Me.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};hn(ah,ui),Go.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Go.prototype.createOption=function(t){var e=new ah;return e.Parent=this,e.optionName=t,this.Kids.push(e),lS.call(this.scope,e),e};var Ld=function(){Nr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Me.CheckBox.createAppearanceStream()};hn(Ld,Nr);var ja=function(){ui.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,13)},set:function(e){e?this.Ff=nr(this.Ff,13):this.Ff=ir(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,21)},set:function(e){e?this.Ff=nr(this.Ff,21):this.Ff=ir(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,23)},set:function(e){e?this.Ff=nr(this.Ff,23):this.Ff=ir(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,24)},set:function(e){e?this.Ff=nr(this.Ff,24):this.Ff=ir(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,25)},set:function(e){e?this.Ff=nr(this.Ff,25):this.Ff=ir(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,26)},set:function(e){e?this.Ff=nr(this.Ff,26):this.Ff=ir(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};hn(ja,ui);var Ed=function(){ja.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!rr(this.Ff,14)},set:function(t){t?this.Ff=nr(this.Ff,14):this.Ff=ir(this.Ff,14)}}),this.password=!0};hn(Ed,ja);var Me={CheckBox:{createAppearanceStream:function(){return{N:{On:Me.CheckBox.YesNormal},D:{On:Me.CheckBox.YesPushDown,Off:Me.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=_i(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=P0(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+et(Me.internal.getWidth(t))+" "+et(Me.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+et(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=_i(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=Me.internal.getHeight(t),a=Me.internal.getWidth(t),o=P0(t,t.caption);return i.push("1 g"),i.push("0 0 "+et(a)+" "+et(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+et(a-1)+" "+et(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+et(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=_i(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+et(Me.internal.getWidth(t))+" "+et(Me.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Me.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Me.RadioButton.Circle.YesNormal,e.D[t]=Me.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=_i(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Me.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+ws(Me.internal.getWidth(t)/2)+" "+ws(Me.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=_i(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Me.internal.Bezier_C).toFixed(5)),a=Number((n*Me.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ws(Me.internal.getWidth(t)/2)+" "+ws(Me.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+ws(Me.internal.getWidth(t)/2)+" "+ws(Me.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=_i(t);e.scope=t.scope;var r=[],n=Me.internal.getWidth(t)<=Me.internal.getHeight(t)?Me.internal.getWidth(t)/4:Me.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*Me.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+ws(Me.internal.getWidth(t)/2)+" "+ws(Me.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Me.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Me.RadioButton.Cross.YesNormal,e.D[t]=Me.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=_i(t);e.scope=t.scope;var r=[],n=Me.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+et(Me.internal.getWidth(t)-2)+" "+et(Me.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(et(n.x1.x)+" "+et(n.x1.y)+" m"),r.push(et(n.x2.x)+" "+et(n.x2.y)+" l"),r.push(et(n.x4.x)+" "+et(n.x4.y)+" m"),r.push(et(n.x3.x)+" "+et(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=_i(t);e.scope=t.scope;var r=Me.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+et(Me.internal.getWidth(t))+" "+et(Me.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+et(Me.internal.getWidth(t)-2)+" "+et(Me.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(et(r.x1.x)+" "+et(r.x1.y)+" m"),n.push(et(r.x2.x)+" "+et(r.x2.y)+" l"),n.push(et(r.x4.x)+" "+et(r.x4.y)+" m"),n.push(et(r.x3.x)+" "+et(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=_i(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+et(Me.internal.getWidth(t))+" "+et(Me.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Me.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Me.internal.getWidth(t),r=Me.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Me.internal.getWidth=function(t){var e=0;return Nt(t)==="object"&&(e=o2(t.Rect[2])),e},Me.internal.getHeight=function(t){var e=0;return Nt(t)==="object"&&(e=o2(t.Rect[3])),e};var lS=Jt.addField=function(t){if(oS(this,t),!(t instanceof ui))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Jt.AcroFormChoiceField=Ho,Jt.AcroFormListBox=Wo,Jt.AcroFormComboBox=Vo,Jt.AcroFormEditBox=kd,Jt.AcroFormButton=Nr,Jt.AcroFormPushButton=Ad,Jt.AcroFormRadioButton=Go,Jt.AcroFormCheckBox=Ld,Jt.AcroFormTextField=ja,Jt.AcroFormPasswordField=Ed,Jt.AcroFormAppearance=Me,Jt.AcroForm={ChoiceField:Ho,ListBox:Wo,ComboBox:Vo,EditBox:kd,Button:Nr,PushButton:Ad,RadioButton:Go,CheckBox:Ld,TextField:ja,PasswordField:Ed,Appearance:Me},We.AcroForm={ChoiceField:Ho,ListBox:Wo,ComboBox:Vo,EditBox:kd,Button:Nr,PushButton:Ad,RadioButton:Go,CheckBox:Ld,TextField:ja,PasswordField:Ed,Appearance:Me};function P5(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(D,T){var B,W,de,ue,pe,K=e;if((T=T||e)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(H(D))for(pe in r)for(de=r[pe],B=0;B<de.length;B+=1){for(ue=!0,W=0;W<de[B].length;W+=1)if(de[B][W]!==void 0&&de[B][W]!==D[W]){ue=!1;break}if(ue===!0){K=pe;break}}else for(pe in r)for(de=r[pe],B=0;B<de.length;B+=1){for(ue=!0,W=0;W<de[B].length;W+=1)if(de[B][W]!==void 0&&de[B][W]!==D.charCodeAt(W)){ue=!1;break}if(ue===!0){K=pe;break}}return K===e&&T!==e&&(K=T),K},i=function D(T){for(var B=this.internal.write,W=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);T.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:T.width}),ue.push({key:"Height",value:T.height}),T.colorSpace===j.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(T.palette.length/3-1)+" "+("sMask"in T&&T.sMask!==void 0?T.objectId+2:T.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+T.colorSpace}),T.colorSpace===j.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:T.bitsPerComponent}),"decodeParameters"in T&&T.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+T.decodeParameters+">>"}),"transparency"in T&&Array.isArray(T.transparency)){for(var pe="",K=0,ie=T.transparency.length;K<ie;K++)pe+=T.transparency[K]+" "+T.transparency[K]+" ";ue.push({key:"Mask",value:"["+pe+"]"})}T.sMask!==void 0&&ue.push({key:"SMask",value:T.objectId+1+" 0 R"});var le=T.filter!==void 0?["/"+T.filter]:void 0;if(W({data:T.data,additionalKeyValues:ue,alreadyAppliedFilters:le,objectId:T.objectId}),B("endobj"),"sMask"in T&&T.sMask!==void 0){var _e="/Predictor "+T.predictor+" /Colors 1 /BitsPerComponent "+T.bitsPerComponent+" /Columns "+T.width,E={width:T.width,height:T.height,colorSpace:"DeviceGray",bitsPerComponent:T.bitsPerComponent,decodeParameters:_e,data:T.sMask};"filter"in T&&(E.filter=T.filter),D.call(this,E)}if(T.colorSpace===j.INDEXED){var q=this.internal.newObject();W({data:L(new Uint8Array(T.palette)),objectId:q}),B("endobj")}},s=function(){var D=this.internal.collections.addImage_images;for(var T in D)i.call(this,D[T])},a=function(){var D,T=this.internal.collections.addImage_images,B=this.internal.write;for(var W in T)B("/I"+(D=T[W]).index,D.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},c=function(){var D=this.internal.collections.addImage_images;return o.call(this),D},d=function(){return Object.keys(this.internal.collections.addImage_images).length},p=function(D){return typeof t["process"+D.toUpperCase()]=="function"},m=function(D){return Nt(D)==="object"&&D.nodeType===1},y=function(D,T){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var B=""+D.getAttribute("src");if(B.indexOf("data:image/")===0)return yc(unescape(B).split("base64,").pop());var W=t.loadFile(B,!0);if(W!==void 0)return W}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var de;switch(T){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return yc(D.toDataURL(de,1).split("base64,").pop())}},f=function(D){var T=this.internal.collections.addImage_images;if(T){for(var B in T)if(D===T[B].alias)return T[B]}},b=function(D,T,B){return D||T||(D=-96,T=-96),D<0&&(D=-1*B.width*72/D/this.internal.scaleFactor),T<0&&(T=-1*B.height*72/T/this.internal.scaleFactor),D===0&&(D=T*B.width/B.height),T===0&&(T=D*B.height/B.width),[D,T]},_=function(D,T,B,W,de,ue){var pe=b.call(this,B,W,de),K=this.internal.getCoordinateString,ie=this.internal.getVerticalCoordinateString,le=c.call(this);if(B=pe[0],W=pe[1],le[de.index]=de,ue){ue*=Math.PI/180;var _e=Math.cos(ue),E=Math.sin(ue),q=function(X){return X.toFixed(4)},V=[q(_e),q(E),q(-1*E),q(_e),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,K(D),ie(T+W),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([K(B),"0","0",K(W),"0","0","cm"].join(" "))):this.internal.write([K(B),"0","0",K(W),K(D),ie(T+W),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},j=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(D){var T,B,W=0;if(typeof D=="string")for(B=D.length,T=0;T<B;T++)W=(W<<5)-W+D.charCodeAt(T),W|=0;else if(H(D))for(B=D.byteLength/2,T=0;T<B;T++)W=(W<<5)-W+D[T],W|=0;return W},S=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var T=!0;return D.length===0&&(T=!1),D.length%4!=0&&(T=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(T=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(T=!1),T},F=t.__addimage__.extractImageFromDataUrl=function(D){var T=(D=D||"").split("base64,"),B=null;if(T.length===2){var W=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(T[0]);Array.isArray(W)&&(B={mimeType:W[1],charset:W[2],data:T[1]})}return B},O=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(D){return O()&&D instanceof ArrayBuffer};var H=t.__addimage__.isArrayBufferView=function(D){return O()&&typeof Uint32Array<"u"&&(D instanceof Int8Array||D instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array)},z=t.__addimage__.binaryStringToUint8Array=function(D){for(var T=D.length,B=new Uint8Array(T),W=0;W<T;W++)B[W]=D.charCodeAt(W);return B},L=t.__addimage__.arrayBufferToBinaryString=function(D){for(var T="",B=H(D)?D:new Uint8Array(D),W=0;W<B.length;W+=8192)T+=String.fromCharCode.apply(null,B.subarray(W,W+8192));return T};t.addImage=function(){var D,T,B,W,de,ue,pe,K,ie;if(typeof arguments[1]=="number"?(T=e,B=arguments[1],W=arguments[2],de=arguments[3],ue=arguments[4],pe=arguments[5],K=arguments[6],ie=arguments[7]):(T=arguments[1],B=arguments[2],W=arguments[3],de=arguments[4],ue=arguments[5],pe=arguments[6],K=arguments[7],ie=arguments[8]),Nt(D=arguments[0])==="object"&&!m(D)&&"imageData"in D){var le=D;D=le.imageData,T=le.format||T||e,B=le.x||B||0,W=le.y||W||0,de=le.w||le.width||de,ue=le.h||le.height||ue,pe=le.alias||pe,K=le.compression||K,ie=le.rotation||le.angle||ie}var _e=this.internal.getFilters();if(K===void 0&&_e.indexOf("FlateEncode")!==-1&&(K="SLOW"),isNaN(B)||isNaN(W))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var E=U.call(this,D,T,pe,K);return _.call(this,B,W,de,ue,E,ie),this};var U=function(D,T,B,W){var de,ue,pe;if(typeof D=="string"&&n(D)===e){D=unescape(D);var K=J(D,!1);(K!==""||(K=t.loadFile(D,!0))!==void 0)&&(D=K)}if(m(D)&&(D=y(D,T)),T=n(D,T),!p(T))throw new Error("addImage does not support files of type '"+T+"', please ensure that a plugin for '"+T+"' support is added.");if(((pe=B)==null||pe.length===0)&&(B=function(ie){return typeof ie=="string"||H(ie)?w(ie):H(ie.data)?w(ie.data):null}(D)),(de=f.call(this,B))||(O()&&(D instanceof Uint8Array||T==="RGBA"||(ue=D,D=z(D))),de=this["process"+T.toUpperCase()](D,d.call(this),B,function(ie){return ie&&typeof ie=="string"&&(ie=ie.toUpperCase()),ie in t.image_compression?ie:x.NONE}(W),ue)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},J=t.__addimage__.convertBase64ToBinaryString=function(D,T){var B;T=typeof T!="boolean"||T;var W,de="";if(typeof D=="string"){W=(B=F(D))!==null?B.data:D;try{de=yc(W)}catch(ue){if(T)throw S(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};t.getImageProperties=function(D){var T,B,W="";if(m(D)&&(D=y(D)),typeof D=="string"&&n(D)===e&&((W=J(D,!1))===""&&(W=t.loadFile(D)||""),D=W),B=n(D),!p(B))throw new Error("addImage does not support files of type '"+B+"', please ensure that a plugin for '"+B+"' support is added.");if(!O()||D instanceof Uint8Array||(D=z(D)),!(T=this["process"+B.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return T.fileType=B,T}})(We.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};We.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,p=!1,m=0;m<d.length&&!p;m++)switch((n=d[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(p=!0);break;case"reference":case"text":case"freetext":p=!0}if(p!=0){this.internal.write("/Annots [");for(var y=0;y<d.length;y++){n=d[y];var f=this.internal.pdfEscape,b=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var _=this.internal.newAdditionalObject(),j=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(_.objId),w=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+f(x(n.contents))+")",s+=" /Popup "+j.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+f(x(w))+") >>",_.content=s;var S=_.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",j.content=s,this.internal.write(_.objId,"0 R",j.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var F=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(b(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+F+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var O=this.annotations._nameMap[n.options.name];n.options.pageNumber=O.page,n.options.top=O.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(b(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var H=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+H+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+i),h:d(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var p=this.splitTextToSize(r,o).length;a=Math.ceil(d*p)}else o=c,a=d;return this.text(r,n,i,s),i+=.2*d,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,i-d,o,a,s),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(We.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(_){return e[_.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(_){return typeof _=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(_)},o=t.__arabicParser__.isArabicEndLetter=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(_){return a(_)&&i.indexOf(_.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length>=3};var p=t.__arabicParser__.arabicLetterHasMedialForm=function(_){return a(_)&&s(_)&&e[_.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(_){var j=0,x=r,w="",S=0;for(j=0;j<_.length;j+=1)x[_.charCodeAt(j)]!==void 0?(S++,typeof(x=x[_.charCodeAt(j)])=="number"&&(w+=String.fromCharCode(x),x=r,S=0),j===_.length-1&&(x=r,w+=_.charAt(j-(S-1)),j-=S-1,S=0)):(x=r,w+=_.charAt(j-S),j-=S,S=0);return w};t.__arabicParser__.isArabicDiacritic=function(_){return _!==void 0&&n[_.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(_,j,x){return a(_)?s(_)===!1?-1:!d(_)||!a(j)&&!a(x)||!a(x)&&o(j)||o(_)&&!a(j)||o(_)&&c(j)||o(_)&&o(j)?0:p(_)&&a(j)&&!o(j)&&a(x)&&d(x)?3:o(_)||!a(x)?1:2:-1},f=function(_){var j=0,x=0,w=0,S="",F="",O="",H=(_=_||"").split("\\s+"),z=[];for(j=0;j<H.length;j+=1){for(z.push(""),x=0;x<H[j].length;x+=1)S=H[j][x],F=H[j][x-1],O=H[j][x+1],a(S)?(w=y(S,F,O),z[j]+=w!==-1?String.fromCharCode(e[S.charCodeAt(0)][w]):S):z[j]+=S;z[j]=m(z[j])}return z.join(" ")},b=t.__arabicParser__.processArabic=t.processArabic=function(){var _,j=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(j)){var w=0;for(x=[],w=0;w<j.length;w+=1)Array.isArray(j[w])?x.push([f(j[w][0]),j[w][1],j[w][2]]):x.push([f(j[w])]);_=x}else _=f(j);return typeof arguments[0]=="string"?_:(arguments[0].text=_,arguments[0])};t.events.push(["preProcessText",b])}(We.API),We.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(We.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(_){c=_}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(_){d=_}});var p=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return p},set:function(_){p=_}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(_){m=_}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(_){y=_}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(_){f=_}});var b=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return b},set:function(_){b=_}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var p=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),y=d.scaleFactor||this.internal.scaleFactor,f=0,b=0,_=0,j=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=d.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,F){return S.concat(j.splitTextToSize(F,x))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)f<(_=this.getStringUnitWidth(c[w],{font:m})*p)&&(f=_);return f!==0&&(b=c.length),{w:f/=y,h:Math.max((b*p*this.getLineHeightFactor()-p*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,p=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,f&&y&&(this.printHeaderRow(c.lineNumber,!0),c.y+=y[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-p,c.y+p,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+p,{align:"center",baseline:"top",maxWidth:c.width-p-p}):this.text(c.text,c.x+p,c.y+p,{align:"left",baseline:"top",maxWidth:c.width-p-p})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,p,m,y){if(n.call(this),!p)throw new Error("No data for PDF table.");var f,b,_,j,x=[],w=[],S=[],F={},O={},H=[],z=[],L=(y=y||{}).autoSize||!1,U=y.printHeaders!==!1,J=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,D=y.margins||Object.assign({width:this.getPageWidth()},e),T=typeof y.padding=="number"?y.padding:3,B=y.headerBackgroundColor||"#c8c8c8",W=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=U,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=J,this.internal.__cell__.padding=T,this.internal.__cell__.headerBackgroundColor=B,this.internal.__cell__.headerTextColor=W,this.setFontSize(J),m==null)w=x=Object.keys(p[0]),S=x.map(function(){return"left"});else if(Array.isArray(m)&&Nt(m[0])==="object")for(x=m.map(function(le){return le.name}),w=m.map(function(le){return le.prompt||le.name||""}),S=m.map(function(le){return le.align||"left"}),f=0;f<m.length;f+=1)O[m[f].name]=m[f].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(w=x=m,S=x.map(function(){return"left"}));if(L||Array.isArray(m)&&typeof m[0]=="string")for(f=0;f<x.length;f+=1){for(F[j=x[f]]=p.map(function(le){return le[j]}),this.setFont(void 0,"bold"),H.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),b=F[j],this.setFont(void 0,"normal"),_=0;_<b.length;_+=1)H.push(this.getTextDimensions(b[_],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);O[j]=Math.max.apply(null,H)+T+T,H=[]}if(U){var de={};for(f=0;f<x.length;f+=1)de[x[f]]={},de[x[f]].text=w[f],de[x[f]].align=S[f];var ue=o.call(this,de,O);z=x.map(function(le){return new s(c,d,O[le],ue,de[le].text,void 0,de[le].align)}),this.setTableHeaderRow(z),this.printHeaderRow(1,!1)}var pe=m.reduce(function(le,_e){return le[_e.name]=_e.align,le},{});for(f=0;f<p.length;f+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:f,data:p[f]},this);var K=o.call(this,p[f],O);for(_=0;_<x.length;_+=1){var ie=p[f][x[_]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:f,col:_,data:ie},this),a.call(this,new s(c,d,O[x[_]],K,ie,f+2,pe[x[_]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var o=function(c,d){var p=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(c).map(function(f){var b=c[f];return this.splitTextToSize(b.hasOwnProperty("text")?b.text:b,d[f]-p-p)},this).map(function(f){return this.getLineHeightFactor()*f.length*m/y+p+p},this).reduce(function(f,b){return Math.max(f,b)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var p;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){p=this.internal.__cell__.tableHeaderRow[f].clone(),d&&(p.y=this.internal.__cell__.margins.top||0,y.push(p)),p.lineNumber=c;var b=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,p),this.setTextColor(b)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),r=!1}}(We.API);var O5={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},I5=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],O0=P5(I5),D5=[100,200,300,400,500,600,700,800,900],cS=P5(D5);function I0(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return O5[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof O0[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function l2(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var uS={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},c2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function u2(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function dS(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},uS,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=I0(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+u2(s)+"' and default family '"+n+"'.");if(a=function(c,d){if(d[c])return d[c];var p=O0[c],m=p<=O0.normal?-1:1,y=l2(d,I5,p,m);if(!y)throw new Error("Could not find a matching font-stretch value for "+c);return y}(s.stretch,a),a=function(c,d){if(d[c])return d[c];for(var p=O5[c],m=0;m<p.length;++m)if(d[p[m]])return d[p[m]];throw new Error("Could not find a matching font-style for "+c)}(s.style,a),!(a=function(c,d){if(d[c])return d[c];if(c===400&&d[500])return d[500];if(c===500&&d[400])return d[400];var p=cS[c],m=l2(d,D5,p,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+u2(s)+"'.");return a}function d2(t){return t.trimLeft()}function hS(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function fS(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var dd,h2,f2,dp=["times"];(function(t){var e,r,n,i,s,a,o,c,d,p=function(E){return E=E||{},this.isStrokeTransparent=E.isStrokeTransparent||!1,this.strokeOpacity=E.strokeOpacity||1,this.strokeStyle=E.strokeStyle||"#000000",this.fillStyle=E.fillStyle||"#000000",this.isFillTransparent=E.isFillTransparent||!1,this.fillOpacity=E.fillOpacity||1,this.font=E.font||"10px sans-serif",this.textBaseline=E.textBaseline||"alphabetic",this.textAlign=E.textAlign||"left",this.lineWidth=E.lineWidth||1,this.lineJoin=E.lineJoin||"miter",this.lineCap=E.lineCap||"butt",this.path=E.path||[],this.transform=E.transform!==void 0?E.transform.clone():new c,this.globalCompositeOperation=E.globalCompositeOperation||"normal",this.globalAlpha=E.globalAlpha||1,this.clip_path=E.clip_path||[],this.currentPoint=E.currentPoint||new a,this.miterLimit=E.miterLimit||10,this.lastPoint=E.lastPoint||new a,this.lineDashOffset=E.lineDashOffset||0,this.lineDash=E.lineDash||[],this.margin=E.margin||[0,0,0,0],this.prevPageLastElemOffset=E.prevPageLastElemOffset||0,this.ignoreClearRect=typeof E.ignoreClearRect!="boolean"||E.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,c=this.internal.Matrix,d=new p}]);var m=function(E){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=E;Object.defineProperty(this,"pdf",{get:function(){return q}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(ve){V=!!ve}});var X=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return X},set:function(ve){X=!!ve}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(ve){isNaN(ve)||(te=ve)}});var ce=0;Object.defineProperty(this,"posY",{get:function(){return ce},set:function(ve){isNaN(ve)||(ce=ve)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(ve){var G;typeof ve=="number"?G=[ve,ve,ve,ve]:((G=new Array(4))[0]=ve[0],G[1]=ve.length>=2?ve[1]:G[0],G[2]=ve.length>=3?ve[2]:G[0],G[3]=ve.length>=4?ve[3]:G[1]),d.margin=G}});var he=!1;Object.defineProperty(this,"autoPaging",{get:function(){return he},set:function(ve){he=ve}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(ve){fe=ve}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(ve){Ae=ve}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(ve){ve instanceof p&&(d=ve)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(ve){d.path=ve}});var ke=[];Object.defineProperty(this,"ctxStack",{get:function(){return ke},set:function(ve){ke=ve}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ve){var G;G=y(ve),this.ctx.fillStyle=G.style,this.ctx.isFillTransparent=G.a===0,this.ctx.fillOpacity=G.a,this.pdf.setFillColor(G.r,G.g,G.b,{a:G.a}),this.pdf.setTextColor(G.r,G.g,G.b,{a:G.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ve){var G=y(ve);this.ctx.strokeStyle=G.style,this.ctx.isStrokeTransparent=G.a===0,this.ctx.strokeOpacity=G.a,G.a===0?this.pdf.setDrawColor(255,255,255):(G.a,this.pdf.setDrawColor(G.r,G.g,G.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ve){["butt","round","square"].indexOf(ve)!==-1&&(this.ctx.lineCap=ve,this.pdf.setLineCap(ve))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ve){isNaN(ve)||(this.ctx.lineWidth=ve,this.pdf.setLineWidth(ve))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ve){["bevel","round","miter"].indexOf(ve)!==-1&&(this.ctx.lineJoin=ve,this.pdf.setLineJoin(ve))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ve){isNaN(ve)||(this.ctx.miterLimit=ve,this.pdf.setMiterLimit(ve))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ve){this.ctx.textBaseline=ve}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ve){["right","end","center","left","start"].indexOf(ve)!==-1&&(this.ctx.textAlign=ve)}});var Ie=null;function Ce(ve,G){if(Ie===null){var tt=function(Ue){var Se=[];return Object.keys(Ue).forEach(function(Le){Ue[Le].forEach(function(De){var Oe=null;switch(De){case"bold":Oe={family:Le,weight:"bold"};break;case"italic":Oe={family:Le,style:"italic"};break;case"bolditalic":Oe={family:Le,weight:"bold",style:"italic"};break;case"":case"normal":Oe={family:Le}}Oe!==null&&(Oe.ref={name:Le,style:De},Se.push(Oe))})}),Se}(ve.getFontList());Ie=function(Ue){for(var Se={},Le=0;Le<Ue.length;++Le){var De=I0(Ue[Le]),Oe=De.family,Be=De.stretch,Xe=De.style,st=De.weight;Se[Oe]=Se[Oe]||{},Se[Oe][Be]=Se[Oe][Be]||{},Se[Oe][Be][Xe]=Se[Oe][Be][Xe]||{},Se[Oe][Be][Xe][st]=De}return Se}(tt.concat(G))}return Ie}var Ge=null;Object.defineProperty(this,"fontFaces",{get:function(){return Ge},set:function(ve){Ie=null,Ge=ve}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ve){var G;if(this.ctx.font=ve,(G=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ve))!==null){var tt=G[1],Ue=(G[2],G[3]),Se=G[4],Le=(G[5],G[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Se)[2];Se=Math.floor(De==="px"?parseFloat(Se)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(Se)*this.pdf.getFontSize():parseFloat(Se)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Se);var Oe=function(Ke){var ot,Re,Pr=[],gt=Ke.trim();if(gt==="")return dp;if(gt in c2)return[c2[gt]];for(;gt!=="";){switch(Re=null,ot=(gt=d2(gt)).charAt(0)){case'"':case"'":Re=hS(gt.substring(1),ot);break;default:Re=fS(gt)}if(Re===null||(Pr.push(Re[0]),(gt=d2(Re[1]))!==""&&gt.charAt(0)!==","))return dp;gt=gt.replace(/^,/,"")}return Pr}(Le);if(this.fontFaces){var Be=dS(Ce(this.pdf,this.fontFaces),Oe.map(function(Ke){return{family:Ke,stretch:"normal",weight:Ue,style:tt}}));this.pdf.setFont(Be.ref.name,Be.ref.style)}else{var Xe="";(Ue==="bold"||parseInt(Ue,10)>=700||tt==="bold")&&(Xe="bold"),tt==="italic"&&(Xe+="italic"),Xe.length===0&&(Xe="normal");for(var st="",at={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ht=0;ht<Oe.length;ht++){if(this.pdf.internal.getFont(Oe[ht],Xe,{noFallback:!0,disableWarning:!0})!==void 0){st=Oe[ht];break}if(Xe==="bolditalic"&&this.pdf.internal.getFont(Oe[ht],"bold",{noFallback:!0,disableWarning:!0})!==void 0)st=Oe[ht],Xe="bold";else if(this.pdf.internal.getFont(Oe[ht],"normal",{noFallback:!0,disableWarning:!0})!==void 0){st=Oe[ht],Xe="normal";break}}if(st===""){for(var jt=0;jt<Oe.length;jt++)if(at[Oe[jt]]){st=at[Oe[jt]];break}}st=st===""?"Times":st,this.pdf.setFont(st,Xe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ve){this.ctx.globalCompositeOperation=ve}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ve){this.ctx.globalAlpha=ve}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ve){this.ctx.lineDashOffset=ve,_e.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ve){this.ctx.lineDash=ve,_e.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ve){this.ctx.ignoreClearRect=!!ve}})};m.prototype.setLineDash=function(E){this.lineDash=E},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){F.call(this,"fill",!1)},m.prototype.stroke=function(){F.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(E,q){if(isNaN(E)||isNaN(q))throw Et.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(E,q));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(E,q)},m.prototype.closePath=function(){var E=new a(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Nt(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){E=new a(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(E.x,E.y)},m.prototype.lineTo=function(E,q){if(isNaN(E)||isNaN(q))throw Et.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(E,q));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),F.call(this,null,!0)},m.prototype.quadraticCurveTo=function(E,q,V,X){if(isNaN(V)||isNaN(X)||isNaN(E)||isNaN(q))throw Et.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(V,X)),ce=this.ctx.transform.applyToPoint(new a(E,q));this.path.push({type:"qct",x1:ce.x,y1:ce.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},m.prototype.bezierCurveTo=function(E,q,V,X,te,ce){if(isNaN(te)||isNaN(ce)||isNaN(E)||isNaN(q)||isNaN(V)||isNaN(X))throw Et.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var he=this.ctx.transform.applyToPoint(new a(te,ce)),fe=this.ctx.transform.applyToPoint(new a(E,q)),Ae=this.ctx.transform.applyToPoint(new a(V,X));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ae.x,y2:Ae.y,x:he.x,y:he.y}),this.ctx.lastPoint=new a(he.x,he.y)},m.prototype.arc=function(E,q,V,X,te,ce){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(X)||isNaN(te))throw Et.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ce=!!ce,!this.ctx.transform.isIdentity){var he=this.ctx.transform.applyToPoint(new a(E,q));E=he.x,q=he.y;var fe=this.ctx.transform.applyToPoint(new a(0,V)),Ae=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(fe.x-Ae.x,2)+Math.pow(fe.y-Ae.y,2))}Math.abs(te-X)>=2*Math.PI&&(X=0,te=2*Math.PI),this.path.push({type:"arc",x:E,y:q,radius:V,startAngle:X,endAngle:te,counterclockwise:ce})},m.prototype.arcTo=function(E,q,V,X,te){throw new Error("arcTo not implemented.")},m.prototype.rect=function(E,q,V,X){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(X))throw Et.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(E,q),this.lineTo(E+V,q),this.lineTo(E+V,q+X),this.lineTo(E,q+X),this.lineTo(E,q),this.lineTo(E+V,q),this.lineTo(E,q)},m.prototype.fillRect=function(E,q,V,X){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(X))throw Et.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(E,q,V,X),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},m.prototype.strokeRect=function(E,q,V,X){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(X))throw Et.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");b.call(this)||(this.beginPath(),this.rect(E,q,V,X),this.stroke())},m.prototype.clearRect=function(E,q,V,X){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(X))throw Et.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(E,q,V,X))},m.prototype.save=function(E){E=typeof E!="boolean"||E;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),E){this.ctx.fontSize=this.pdf.internal.getFontSize();var X=new p(this.ctx);this.ctxStack.push(this.ctx),this.ctx=X}},m.prototype.restore=function(E){E=typeof E!="boolean"||E;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(q),E&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(E){var q,V,X,te;if(E.isCanvasGradient===!0&&(E=E.getColor()),!E)return{r:0,g:0,b:0,a:0,style:E};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(E))q=0,V=0,X=0,te=0;else{var ce=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(E);if(ce!==null)q=parseInt(ce[1]),V=parseInt(ce[2]),X=parseInt(ce[3]),te=1;else if((ce=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(E))!==null)q=parseInt(ce[1]),V=parseInt(ce[2]),X=parseInt(ce[3]),te=parseFloat(ce[4]);else{if(te=1,typeof E=="string"&&E.charAt(0)!=="#"){var he=new j5(E);E=he.ok?he.toHex():"#000000"}E.length===4?(q=E.substring(1,2),q+=q,V=E.substring(2,3),V+=V,X=E.substring(3,4),X+=X):(q=E.substring(1,3),V=E.substring(3,5),X=E.substring(5,7)),q=parseInt(q,16),V=parseInt(V,16),X=parseInt(X,16)}}return{r:q,g:V,b:X,a:te,style:E}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},b=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(E,q,V,X){if(isNaN(q)||isNaN(V)||typeof E!="string")throw Et.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(X=isNaN(X)?void 0:X,!f.call(this)){var te=K(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;T.call(this,{text:E,x:q,y:V,scale:ce,angle:te,align:this.textAlign,maxWidth:X})}},m.prototype.strokeText=function(E,q,V,X){if(isNaN(q)||isNaN(V)||typeof E!="string")throw Et.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!b.call(this)){X=isNaN(X)?void 0:X;var te=K(this.ctx.transform.rotation),ce=this.ctx.transform.scaleX;T.call(this,{text:E,x:q,y:V,scale:ce,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:X})}},m.prototype.measureText=function(E){if(typeof E!="string")throw Et.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,V=this.pdf.internal.scaleFactor,X=q.internal.getFontSize(),te=q.getStringUnitWidth(E)*X/q.internal.scaleFactor,ce=function(he){var fe=(he=he||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new ce({width:te*=Math.round(96*V/72*1e4)/1e4})},m.prototype.scale=function(E,q){if(isNaN(E)||isNaN(q))throw Et.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new c(E,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.rotate=function(E){if(isNaN(E))throw Et.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new c(Math.cos(E),Math.sin(E),-Math.sin(E),Math.cos(E),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},m.prototype.translate=function(E,q){if(isNaN(E)||isNaN(q))throw Et.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new c(1,0,0,1,E,q);this.ctx.transform=this.ctx.transform.multiply(V)},m.prototype.transform=function(E,q,V,X,te,ce){if(isNaN(E)||isNaN(q)||isNaN(V)||isNaN(X)||isNaN(te)||isNaN(ce))throw Et.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var he=new c(E,q,V,X,te,ce);this.ctx.transform=this.ctx.transform.multiply(he)},m.prototype.setTransform=function(E,q,V,X,te,ce){E=isNaN(E)?1:E,q=isNaN(q)?0:q,V=isNaN(V)?0:V,X=isNaN(X)?1:X,te=isNaN(te)?0:te,ce=isNaN(ce)?0:ce,this.ctx.transform=new c(E,q,V,X,te,ce)};var _=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(E,q,V,X,te,ce,he,fe,Ae){var ke=this.pdf.getImageProperties(E),Ie=1,Ce=1,Ge=1,ve=1;X!==void 0&&fe!==void 0&&(Ge=fe/X,ve=Ae/te,Ie=ke.width/X*fe/X,Ce=ke.height/te*Ae/te),ce===void 0&&(ce=q,he=V,q=0,V=0),X!==void 0&&fe===void 0&&(fe=X,Ae=te),X===void 0&&fe===void 0&&(fe=ke.width,Ae=ke.height);for(var G,tt=this.ctx.transform.decompose(),Ue=K(tt.rotate.shx),Se=new c,Le=(Se=(Se=(Se=Se.multiply(tt.translate)).multiply(tt.skew)).multiply(tt.scale)).applyToRectangle(new o(ce-q*Ge,he-V*ve,X*Ie,te*Ce)),De=j.call(this,Le),Oe=[],Be=0;Be<De.length;Be+=1)Oe.indexOf(De[Be])===-1&&Oe.push(De[Be]);if(S(Oe),this.autoPaging)for(var Xe=Oe[0],st=Oe[Oe.length-1],at=Xe;at<st+1;at++){this.pdf.setPage(at);var ht=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=at===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Re=at===1?0:Ke+(at-2)*ot;if(this.ctx.clip_path.length!==0){var Pr=this.path;G=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(G,this.posX+this.margin[3],-Re+jt+this.ctx.prevPageLastElemOffset),O.call(this,"fill",!0),this.path=Pr}var gt=JSON.parse(JSON.stringify(Le));gt=w([gt],this.posX+this.margin[3],-Re+jt+this.ctx.prevPageLastElemOffset)[0];var Bn=(at>Xe||at<st)&&_.call(this);Bn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ht,ot,null).clip().discardPath()),this.pdf.addImage(E,"JPEG",gt.x,gt.y,gt.w,gt.h,null,null,Ue),Bn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(E,"JPEG",Le.x,Le.y,Le.w,Le.h,null,null,Ue)};var j=function(E,q,V){var X=[];q=q||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(E.type){default:case"mt":case"lt":X.push(Math.floor((E.y+te)/V)+1);break;case"arc":X.push(Math.floor((E.y+te-E.radius)/V)+1),X.push(Math.floor((E.y+te+E.radius)/V)+1);break;case"qct":var ce=ie(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x,E.y);X.push(Math.floor((ce.y+te)/V)+1),X.push(Math.floor((ce.y+ce.h+te)/V)+1);break;case"bct":var he=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,E.x1,E.y1,E.x2,E.y2,E.x,E.y);X.push(Math.floor((he.y+te)/V)+1),X.push(Math.floor((he.y+he.h+te)/V)+1);break;case"rect":X.push(Math.floor((E.y+te)/V)+1),X.push(Math.floor((E.y+E.h+te)/V)+1)}for(var fe=0;fe<X.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<X[fe];)x.call(this);return X},x=function(){var E=this.fillStyle,q=this.strokeStyle,V=this.font,X=this.lineCap,te=this.lineWidth,ce=this.lineJoin;this.pdf.addPage(),this.fillStyle=E,this.strokeStyle=q,this.font=V,this.lineCap=X,this.lineWidth=te,this.lineJoin=ce},w=function(E,q,V){for(var X=0;X<E.length;X++)switch(E[X].type){case"bct":E[X].x2+=q,E[X].y2+=V;case"qct":E[X].x1+=q,E[X].y1+=V;case"mt":case"lt":case"arc":default:E[X].x+=q,E[X].y+=V}return E},S=function(E){return E.sort(function(q,V){return q-V})},F=function(E,q){for(var V,X,te=this.fillStyle,ce=this.strokeStyle,he=this.lineCap,fe=this.lineWidth,Ae=Math.abs(fe*this.ctx.transform.scaleX),ke=this.lineJoin,Ie=JSON.parse(JSON.stringify(this.path)),Ce=JSON.parse(JSON.stringify(this.path)),Ge=[],ve=0;ve<Ce.length;ve++)if(Ce[ve].x!==void 0)for(var G=j.call(this,Ce[ve]),tt=0;tt<G.length;tt+=1)Ge.indexOf(G[tt])===-1&&Ge.push(G[tt]);for(var Ue=0;Ue<Ge.length;Ue++)for(;this.pdf.internal.getNumberOfPages()<Ge[Ue];)x.call(this);if(S(Ge),this.autoPaging)for(var Se=Ge[0],Le=Ge[Ge.length-1],De=Se;De<Le+1;De++){this.pdf.setPage(De),this.fillStyle=te,this.strokeStyle=ce,this.lineCap=he,this.lineWidth=Ae,this.lineJoin=ke;var Oe=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Be=De===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],st=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],at=De===1?0:Xe+(De-2)*st;if(this.ctx.clip_path.length!==0){var ht=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(V,this.posX+this.margin[3],-at+Be+this.ctx.prevPageLastElemOffset),O.call(this,E,!0),this.path=ht}if(X=JSON.parse(JSON.stringify(Ie)),this.path=w(X,this.posX+this.margin[3],-at+Be+this.ctx.prevPageLastElemOffset),q===!1||De===0){var jt=(De>Se||De<Le)&&_.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Oe,st,null).clip().discardPath()),O.call(this,E,q),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ae,O.call(this,E,q),this.lineWidth=fe;this.path=Ie},O=function(E,q){if((E!=="stroke"||q||!b.call(this))&&(E==="stroke"||q||!f.call(this))){for(var V,X,te=[],ce=this.path,he=0;he<ce.length;he++){var fe=ce[he];switch(fe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ae=te.length;if(ce[he-1]&&!isNaN(ce[he-1].x)&&(V=[fe.x-ce[he-1].x,fe.y-ce[he-1].y],Ae>0)){for(;Ae>=0;Ae--)if(te[Ae-1].close!==!0&&te[Ae-1].begin!==!0){te[Ae-1].deltas.push(V),te[Ae-1].abs.push(fe);break}}break;case"bct":V=[fe.x1-ce[he-1].x,fe.y1-ce[he-1].y,fe.x2-ce[he-1].x,fe.y2-ce[he-1].y,fe.x-ce[he-1].x,fe.y-ce[he-1].y],te[te.length-1].deltas.push(V);break;case"qct":var ke=ce[he-1].x+2/3*(fe.x1-ce[he-1].x),Ie=ce[he-1].y+2/3*(fe.y1-ce[he-1].y),Ce=fe.x+2/3*(fe.x1-fe.x),Ge=fe.y+2/3*(fe.y1-fe.y),ve=fe.x,G=fe.y;V=[ke-ce[he-1].x,Ie-ce[he-1].y,Ce-ce[he-1].x,Ge-ce[he-1].y,ve-ce[he-1].x,G-ce[he-1].y],te[te.length-1].deltas.push(V);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(fe)}}X=q?null:E==="stroke"?"stroke":"fill";for(var tt=!1,Ue=0;Ue<te.length;Ue++)if(te[Ue].arc)for(var Se=te[Ue].abs,Le=0;Le<Se.length;Le++){var De=Se[Le];De.type==="arc"?L.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,q,!tt):B.call(this,De.x,De.y),tt=!0}else if(te[Ue].close===!0)this.pdf.internal.out("h"),tt=!1;else if(te[Ue].begin!==!0){var Oe=te[Ue].start.x,Be=te[Ue].start.y;W.call(this,te[Ue].deltas,Oe,Be),tt=!0}X&&U.call(this,X),q&&J.call(this)}},H=function(E){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return E-V;case"top":return E+q-V;case"hanging":return E+q-2*V;case"middle":return E+q/2-V;case"ideographic":return E;case"alphabetic":default:return E}},z=function(E){return E+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var E=function(){};return E.colorStops=[],E.addColorStop=function(q,V){this.colorStops.push([q,V])},E.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},E.isCanvasGradient=!0,E},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(E,q,V,X,te,ce,he,fe,Ae){for(var ke=ue.call(this,V,X,te,ce),Ie=0;Ie<ke.length;Ie++){var Ce=ke[Ie];Ie===0&&(Ae?D.call(this,Ce.x1+E,Ce.y1+q):B.call(this,Ce.x1+E,Ce.y1+q)),de.call(this,E,q,Ce.x2,Ce.y2,Ce.x3,Ce.y3,Ce.x4,Ce.y4)}fe?J.call(this):U.call(this,he)},U=function(E){switch(E){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},J=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(E,q){this.pdf.internal.out(r(E)+" "+n(q)+" m")},T=function(E){var q;switch(E.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var V=this.pdf.getTextDimensions(E.text),X=H.call(this,E.y),te=z.call(this,X)-V.h,ce=this.ctx.transform.applyToPoint(new a(E.x,X)),he=this.ctx.transform.decompose(),fe=new c;fe=(fe=(fe=fe.multiply(he.translate)).multiply(he.skew)).multiply(he.scale);for(var Ae,ke,Ie,Ce=this.ctx.transform.applyToRectangle(new o(E.x,X,V.w,V.h)),Ge=fe.applyToRectangle(new o(E.x,te,V.w,V.h)),ve=j.call(this,Ge),G=[],tt=0;tt<ve.length;tt+=1)G.indexOf(ve[tt])===-1&&G.push(ve[tt]);if(S(G),this.autoPaging)for(var Ue=G[0],Se=G[G.length-1],Le=Ue;Le<Se+1;Le++){this.pdf.setPage(Le);var De=Le===1?this.posY+this.margin[0]:this.margin[0],Oe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Be=this.pdf.internal.pageSize.height-this.margin[2],Xe=Be-this.margin[0],st=this.pdf.internal.pageSize.width-this.margin[1],at=st-this.margin[3],ht=Le===1?0:Oe+(Le-2)*Xe;if(this.ctx.clip_path.length!==0){var jt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Ae,this.posX+this.margin[3],-1*ht+De),O.call(this,"fill",!0),this.path=jt}var Ke=w([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-ht+De+this.ctx.prevPageLastElemOffset)[0];E.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*E.scale),Ie=this.lineWidth,this.lineWidth=Ie*E.scale);var ot=this.autoPaging!=="text";if(ot||Ke.y+Ke.h<=Be){if(ot||Ke.y>=De&&Ke.x<=st){var Re=ot?E.text:this.pdf.splitTextToSize(E.text,E.maxWidth||st-Ke.x)[0],Pr=w([JSON.parse(JSON.stringify(Ce))],this.posX+this.margin[3],-ht+De+this.ctx.prevPageLastElemOffset)[0],gt=ot&&(Le>Ue||Le<Se)&&_.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],at,Xe,null).clip().discardPath()),this.pdf.text(Re,Pr.x,Pr.y,{angle:E.angle,align:q,renderingMode:E.renderingMode}),gt&&this.pdf.restoreGraphicsState()}}else Ke.y<Be&&(this.ctx.prevPageLastElemOffset+=Be-Ke.y);E.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Ie)}else E.scale>=.01&&(ke=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ke*E.scale),Ie=this.lineWidth,this.lineWidth=Ie*E.scale),this.pdf.text(E.text,ce.x+this.posX,ce.y+this.posY,{angle:E.angle,align:q,renderingMode:E.renderingMode,maxWidth:E.maxWidth}),E.scale>=.01&&(this.pdf.setFontSize(ke),this.lineWidth=Ie)},B=function(E,q,V,X){V=V||0,X=X||0,this.pdf.internal.out(r(E+V)+" "+n(q+X)+" l")},W=function(E,q,V){return this.pdf.lines(E,q,V,null,null)},de=function(E,q,V,X,te,ce,he,fe){this.pdf.internal.out([e(i(V+E)),e(s(X+q)),e(i(te+E)),e(s(ce+q)),e(i(he+E)),e(s(fe+q)),"c"].join(" "))},ue=function(E,q,V,X){for(var te=2*Math.PI,ce=Math.PI/2;q>V;)q-=te;var he=Math.abs(V-q);he<te&&X&&(he=te-he);for(var fe=[],Ae=X?-1:1,ke=q;he>1e-5;){var Ie=ke+Ae*Math.min(he,ce);fe.push(pe.call(this,E,ke,Ie)),he-=Math.abs(Ie-ke),ke=Ie}return fe},pe=function(E,q,V){var X=(V-q)/2,te=E*Math.cos(X),ce=E*Math.sin(X),he=te,fe=-ce,Ae=he*he+fe*fe,ke=Ae+he*te+fe*ce,Ie=4/3*(Math.sqrt(2*Ae*ke)-ke)/(he*ce-fe*te),Ce=he-Ie*fe,Ge=fe+Ie*he,ve=Ce,G=-Ge,tt=X+q,Ue=Math.cos(tt),Se=Math.sin(tt);return{x1:E*Math.cos(q),y1:E*Math.sin(q),x2:Ce*Ue-Ge*Se,y2:Ce*Se+Ge*Ue,x3:ve*Ue-G*Se,y3:ve*Se+G*Ue,x4:E*Math.cos(V),y4:E*Math.sin(V)}},K=function(E){return 180*E/Math.PI},ie=function(E,q,V,X,te,ce){var he=E+.5*(V-E),fe=q+.5*(X-q),Ae=te+.5*(V-te),ke=ce+.5*(X-ce),Ie=Math.min(E,te,he,Ae),Ce=Math.max(E,te,he,Ae),Ge=Math.min(q,ce,fe,ke),ve=Math.max(q,ce,fe,ke);return new o(Ie,Ge,Ce-Ie,ve-Ge)},le=function(E,q,V,X,te,ce,he,fe){var Ae,ke,Ie,Ce,Ge,ve,G,tt,Ue,Se,Le,De,Oe,Be,Xe=V-E,st=X-q,at=te-V,ht=ce-X,jt=he-te,Ke=fe-ce;for(ke=0;ke<41;ke++)Ue=(G=(Ie=E+(Ae=ke/40)*Xe)+Ae*((Ge=V+Ae*at)-Ie))+Ae*(Ge+Ae*(te+Ae*jt-Ge)-G),Se=(tt=(Ce=q+Ae*st)+Ae*((ve=X+Ae*ht)-Ce))+Ae*(ve+Ae*(ce+Ae*Ke-ve)-tt),ke==0?(Le=Ue,De=Se,Oe=Ue,Be=Se):(Le=Math.min(Le,Ue),De=Math.min(De,Se),Oe=Math.max(Oe,Ue),Be=Math.max(Be,Se));return new o(Math.round(Le),Math.round(De),Math.round(Oe-Le),Math.round(Be-De))},_e=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var E,q,V=(E=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:E,lineDashOffset:q}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(We.API),function(t){var e=function(s){var a,o,c,d,p,m,y,f,b,_;for(o=[],c=0,d=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;d>c;c+=4)(p=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(m=(p=((p=((p=((p=(p-(_=p%85))/85)-(b=p%85))/85)-(f=p%85))/85)-(y=p%85))/85)%85,o.push(m+33,y+33,f+33,b+33,_+33)):o.push(122);return function(j,x){for(var w=x;w>0;w--)j.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,c,d,p,m=String,y="length",f=255,b="charCodeAt",_="slice",j="replace";for(s[_](-2),s=s[_](0,-2)[j](/\s/g,"")[j]("z","!!!!!"),c=[],d=0,p=(s+=a="uuuuu"[_](s[y]%5||5))[y];p>d;d+=5)o=52200625*(s[b](d)-33)+614125*(s[b](d+1)-33)+7225*(s[b](d+2)-33)+85*(s[b](d+3)-33)+(s[b](d+4)-33),c.push(f&o>>24,f&o>>16,f&o>>8,f&o);return function(x,w){for(var S=w;S>0;S--)x.pop()}(c,a[y]),m.fromCharCode.apply(m,c)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",c=0;c<s.length;c+=2)o+=String.fromCharCode("0x"+(s[c]+s[c+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=A0(a)).reduce(function(c,d){return c+String.fromCharCode(d)},"")};t.processDataByFilters=function(s,a){var o=0,c=s||"",d=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),d.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),d.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),d.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(p){return("0"+p.charCodeAt().toString(16)).slice(-2)}).join("")+">",d.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),d.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:c,reverseChain:d.reverse().join(" ")}}}(We.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(c,d,p){var m=new XMLHttpRequest,y=0,f=function(b){var _=b.length,j=[],x=String.fromCharCode;for(y=0;y<_;y+=1)j.push(x(255&b.charCodeAt(y)));return j.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?p(f(this.responseText)):p(void 0)}),m.send(null),d&&m.status===200)return f(m.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(We.API),function(t){function e(){return(Je.html2canvas?Promise.resolve(Je.html2canvas):Hs(()=>import("./html2canvas.esm-e0a7d97b.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Je.DOMPurify?Promise.resolve(Je.DOMPurify):Hs(()=>import("./purify.es-2de9db7f.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=Nt(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var c=document.createElement(a);for(var d in o.className&&(c.className=o.className),o.innerHTML&&o.dompurify&&(c.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)c.style[d]=o.style[d];return c},s=function a(o){var c=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),d=a.convert(Promise.resolve(),c);return d=(d=d.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(c){return this.set({src:i("div",{innerHTML:a,dompurify:c})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function c(d,p){for(var m=d.nodeType===3?document.createTextNode(d.nodeValue):d.cloneNode(!1),y=d.firstChild;y;y=y.nextSibling)p!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||m.appendChild(c(y,p));return d.nodeType===1&&(d.nodeName==="CANVAS"?(m.width=d.width,m.height=d.height,m.getContext("2d").drawImage(d,0,0)):d.nodeName!=="TEXTAREA"&&d.nodeName!=="SELECT"||(m.value=d.value),m.addEventListener("load",function(){m.scrollTop=d.scrollTop,m.scrollLeft=d.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,o(this.prop.container,c)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var c=this.opt.jsPDF,d=this.opt.fontFaces,p=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:p,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=d,d)for(var y=0;y<d.length;++y){var f=d[y],b=f.src.find(function(_){return _.format==="truetype"});b&&c.addFont(b.url,f.ref.name,f.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),o(this.prop.container,m)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=a[c]};switch(c){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[c]=a[c]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var c=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(c):c})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(c,d){return Math.floor(c*d/72*96)}return this.then(function(){(a=a||We.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,c,d){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),c!=null&&(this.progress.n=c),d!=null&&(this.progress.stack=d),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,c,d){return this.setProgress(a?this.progress.val+a:null,o||null,c?this.progress.n+c:null,d?this.progress.stack.concat(d):null)},s.prototype.then=function(a,o){var c=this;return this.thenCore(a,o,function(d,p){return c.updateProgress(null,null,1,[d]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,d),m}).then(d,p).then(function(m){return c.updateProgress(1),m})})},s.prototype.thenCore=function(a,o,c){c=c||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var d=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),p=c.call(d,a,o);return s.convert(p,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(c){o=o.thenCore(c)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,We.getPageSize=function(a,o,c){if(Nt(a)==="object"){var d=a;a=d.orientation,o=d.unit||o,c=d.format||c}o=o||"mm",c=c||"a4",a=(""+(a||"P")).toLowerCase();var p,m=(""+c).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":p=1;break;case"mm":p=72/25.4;break;case"cm":p=72/2.54;break;case"in":p=72;break;case"px":p=.75;break;case"pc":case"em":p=12;break;case"ex":p=6;break;default:throw"Invalid unit: "+o}var f,b=0,_=0;if(y.hasOwnProperty(m))b=y[m][1]/p,_=y[m][0]/p;else try{b=c[1],_=c[0]}catch{throw new Error("Invalid format: "+c)}if(a==="p"||a==="portrait")a="p",_>b&&(f=_,_=b,b=f);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",b>_&&(f=_,_=b,b=f)}return{width:_,height:b,unit:o,k:p,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(I0):null;var c=new s(o);return o.worker?c:c.from(a).doCallback()}}(We.API),We.API.addJS=function(t){return f2=t,this.internal.events.subscribe("postPutResources",function(){dd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(dd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),h2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+f2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){dd!==void 0&&h2!==void 0&&this.internal.out("/Names <</JavaScript "+dd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var c=o[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,p=[];for(s=0;s<d;s++){var m=r.internal.newObject();p.push(m);var y=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var f=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<p.length;s++)r.internal.write("(page_"+(s+1)+")"+p[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+f+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var c=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(We.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var c,d=this.decode.DCT_DECODE,p=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(m){for(var y,f=256*m.charCodeAt(4)+m.charCodeAt(5),b=m.length,_={width:0,height:0,numcomponents:1},j=4;j<b;j+=2){if(j+=f,e.indexOf(m.charCodeAt(j+1))!==-1){y=256*m.charCodeAt(j+5)+m.charCodeAt(j+6),_={width:256*m.charCodeAt(j+7)+m.charCodeAt(j+8),height:y,numcomponents:m.charCodeAt(j+9)};break}f=256*m.charCodeAt(j+2)+m.charCodeAt(j+3)}return _}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}p={data:r,width:c.width,height:c.height,colorSpace:o,bitsPerComponent:8,filter:d,index:n,alias:i}}return p}}(We.API);var xo,hd,p2,m2,g2,pS=function(){var t,e,r;function n(s){var a,o,c,d,p,m,y,f,b,_,j,x,w,S;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(a=this.readUInt32(),b=(function(){var F,O;for(O=[],F=0;F<4;++F)O.push(String.fromCharCode(this.data[this.pos++]));return O}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},p=this.readUInt16(),d=this.readUInt16()||100,m.delay=1e3*p/d,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(b==="fdAT"&&(this.pos+=4,a-=4),s=(m!=null?m.data:void 0)||this.imgData,x=0;0<=a?x<a:x>a;0<=a?++x:--x)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((_=c-this.transparency.indexed.length)>0)for(w=0;0<=_?w<_:w>_;0<=_?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(j=this.read(a)).indexOf(0),f=String.fromCharCode.apply(String,j.slice(0,y)),this.text[f]=String.fromCharCode.apply(String,j.slice(y+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),c=0,d=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function p(m,y,f,b){var _,j,x,w,S,F,O,H,z,L,U,J,D,T,B,W,de,ue,pe,K,ie,le=Math.ceil((d.width-m)/f),_e=Math.ceil((d.height-y)/b),E=d.width==le&&d.height==_e;for(T=a*le,J=E?o:new Uint8Array(T*_e),F=s.length,D=0,j=0;D<_e&&c<F;){switch(s[c++]){case 0:for(w=de=0;de<T;w=de+=1)J[j++]=s[c++];break;case 1:for(w=ue=0;ue<T;w=ue+=1)_=s[c++],S=w<a?0:J[j-a],J[j++]=(_+S)%256;break;case 2:for(w=pe=0;pe<T;w=pe+=1)_=s[c++],x=(w-w%a)/a,B=D&&J[(D-1)*T+x*a+w%a],J[j++]=(B+_)%256;break;case 3:for(w=K=0;K<T;w=K+=1)_=s[c++],x=(w-w%a)/a,S=w<a?0:J[j-a],B=D&&J[(D-1)*T+x*a+w%a],J[j++]=(_+Math.floor((S+B)/2))%256;break;case 4:for(w=ie=0;ie<T;w=ie+=1)_=s[c++],x=(w-w%a)/a,S=w<a?0:J[j-a],D===0?B=W=0:(B=J[(D-1)*T+x*a+w%a],W=x&&J[(D-1)*T+(x-1)*a+w%a]),O=S+B-W,H=Math.abs(O-S),L=Math.abs(O-B),U=Math.abs(O-W),z=H<=L&&H<=U?S:L<=U?B:W,J[j++]=(_+z)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!E){var q=((y+D*b)*d.width+m)*a,V=D*T;for(w=0;w<le;w+=1){for(var X=0;X<a;X+=1)o[q++]=J[V++];q+=(f-1)*a}}D++}}return s=V_(s),d.interlaceMethod==1?(p(0,0,8,8),p(4,0,8,8),p(0,4,4,8),p(2,0,4,4),p(0,2,2,4),p(1,0,2,2),p(0,1,1,2)):p(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,c,d,p,m,y,f;for(o=this.palette,p=this.transparency.indexed||[],d=new Uint8Array((p.length||0)+o.length),c=0,s=0,a=m=0,y=o.length;m<y;a=m+=3)d[c++]=o[a],d[c++]=o[a+1],d[c++]=o[a+2],d[c++]=(f=p[s++])!=null?f:255;return d},n.prototype.copyToImageData=function(s,a){var o,c,d,p,m,y,f,b,_,j,x;if(c=this.colors,_=null,o=this.hasAlphaChannel,this.palette.length&&(_=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,o=!0),b=(d=s.data||s).length,m=_||a,p=y=0,c===1)for(;p<b;)f=_?4*a[p/4]:y,j=m[f++],d[p++]=j,d[p++]=j,d[p++]=j,d[p++]=o?m[f++]:255,y=f;else for(;p<b;)f=_?4*a[p/4]:y,d[p++]=m[f++],d[p++]=m[f++],d[p++]=m[f++],d[p++]=o?m[f++]:255,y=f},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Je)==="[object Window]"){try{e=Je.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,c,d,p,m,y,f;if(this.animation){for(f=[],o=p=0,m=(y=this.animation.frames).length;p<m;o=++p)a=y[o],c=s.createImageData(a.width,a.height),d=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(c,d),a.imageData=c,f.push(a.image=t(c));return f}},n.prototype.renderFrame=function(s,a){var o,c,d;return o=(c=this.animation.frames)[a],d=c[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(d!=null?d.disposeOp:void 0)===1?s.clearRect(d.xOffset,d.yOffset,d.width,d.height):(d!=null?d.disposeOp:void 0)===2&&s.putImageData(d.imageData,d.xOffset,d.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,c,d,p,m,y=this;return o=0,m=this.animation,d=m.numFrames,c=m.frames,p=m.numPlays,(a=function(){var f,b;if(f=o++%d,b=c[f],y.renderFrame(s,f),d>1&&o/d<p)return y.animation._timeout=setTimeout(a,b.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function mS(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,c=null;s&&(o=e,c=a,e+=3*a);var d=!0,p=[],m=0,y=null,f=0,b=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,b=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var _=t[e++];m=t[e++]|t[e++]<<8,y=t[e++],!(1&_)&&(y=null),f=_>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var j=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,F=t[e++],O=F>>6&1,H=1<<(7&F)+1,z=o,L=c,U=!1;F>>7&&(U=!0,z=e,L=H,e+=3*H);var J=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}p.push({x:j,y:x,width:w,height:S,has_local_palette:U,palette_offset:z,palette_size:L,data_offset:J,data_length:e-J,transparent_index:y,interlaced:!!O,delay:m,disposal:f});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return p.length},this.loopCount=function(){return b},this.frameInfo=function(T){if(T<0||T>=p.length)throw new Error("Frame index out of range.");return p[T]},this.decodeAndBlitFrameBGRA=function(T,B){var W=this.frameInfo(T),de=W.width*W.height,ue=new Uint8Array(de);v2(t,W.data_offset,ue,de);var pe=W.palette_offset,K=W.transparent_index;K===null&&(K=256);var ie=W.width,le=r-ie,_e=ie,E=4*(W.y*r+W.x),q=4*((W.y+W.height)*r+W.x),V=E,X=4*le;W.interlaced===!0&&(X+=4*r*7);for(var te=8,ce=0,he=ue.length;ce<he;++ce){var fe=ue[ce];if(_e===0&&(_e=ie,(V+=X)>=q&&(X=4*le+4*r*(te-1),V=E+(ie+le)*(te<<1),te>>=1)),fe===K)V+=4;else{var Ae=t[pe+3*fe],ke=t[pe+3*fe+1],Ie=t[pe+3*fe+2];B[V++]=Ie,B[V++]=ke,B[V++]=Ae,B[V++]=255}--_e}},this.decodeAndBlitFrameRGBA=function(T,B){var W=this.frameInfo(T),de=W.width*W.height,ue=new Uint8Array(de);v2(t,W.data_offset,ue,de);var pe=W.palette_offset,K=W.transparent_index;K===null&&(K=256);var ie=W.width,le=r-ie,_e=ie,E=4*(W.y*r+W.x),q=4*((W.y+W.height)*r+W.x),V=E,X=4*le;W.interlaced===!0&&(X+=4*r*7);for(var te=8,ce=0,he=ue.length;ce<he;++ce){var fe=ue[ce];if(_e===0&&(_e=ie,(V+=X)>=q&&(X=4*le+4*r*(te-1),V=E+(ie+le)*(te<<1),te>>=1)),fe===K)V+=4;else{var Ae=t[pe+3*fe],ke=t[pe+3*fe+1],Ie=t[pe+3*fe+2];B[V++]=Ae,B[V++]=ke,B[V++]=Ie,B[V++]=255}--_e}}}function v2(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,c=i+1,d=(1<<c)-1,p=0,m=0,y=0,f=t[e++],b=new Int32Array(4096),_=null;;){for(;p<16&&f!==0;)m|=t[e++]<<p,p+=8,f===1?f=t[e++]:--f;if(p<c)break;var j=m&d;if(m>>=c,p-=c,j!==s){if(j===a)break;for(var x=j<o?j:_,w=0,S=x;S>s;)S=b[S]>>8,++w;var F=S;if(y+w+(x!==j?1:0)>n)return void Et.log("Warning, gif stream longer than expected.");r[y++]=F;var O=y+=w;for(x!==j&&(r[y++]=F),S=x;w--;)S=b[S],r[--O]=255&S,S>>=8;_!==null&&o<4096&&(b[o++]=_<<8|F,o>=d+1&&c<12&&(++c,d=d<<1|1)),_=j}else o=a+1,d=(1<<(c=i+1))-1,_=null}return y!==n&&Et.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function hp(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),c=new Array(64),d=new Array(64),p=new Array(64),m=new Array(65535),y=new Array(65535),f=new Array(64),b=new Array(64),_=[],j=0,x=7,w=new Array(64),S=new Array(64),F=new Array(64),O=new Array(256),H=new Array(2048),z=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],J=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],T=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],W=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(E,q){for(var V=0,X=0,te=new Array,ce=1;ce<=16;ce++){for(var he=1;he<=E[ce];he++)te[q[X]]=[],te[q[X]][0]=V,te[q[X]][1]=ce,X++,V++;V*=2}return te}function pe(E){for(var q=E[0],V=E[1]-1;V>=0;)q&1<<V&&(j|=1<<x),V--,--x<0&&(j==255?(K(255),K(0)):K(j),x=7,j=0)}function K(E){_.push(E)}function ie(E){K(E>>8&255),K(255&E)}function le(E,q,V,X,te){for(var ce,he=te[0],fe=te[240],Ae=function(Se,Le){var De,Oe,Be,Xe,st,at,ht,jt,Ke,ot,Re=0;for(Ke=0;Ke<8;++Ke){De=Se[Re],Oe=Se[Re+1],Be=Se[Re+2],Xe=Se[Re+3],st=Se[Re+4],at=Se[Re+5],ht=Se[Re+6];var Pr=De+(jt=Se[Re+7]),gt=De-jt,Bn=Oe+ht,At=Oe-ht,zt=Be+at,hi=Be-at,yt=Xe+st,Zs=Xe-st,Ht=Pr+yt,qn=Pr-yt,Oi=Bn+zt,Wt=Bn-zt;Se[Re]=Ht+Oi,Se[Re+4]=Ht-Oi;var Qe=.707106781*(Wt+qn);Se[Re+2]=qn+Qe,Se[Re+6]=qn-Qe;var xt=.382683433*((Ht=Zs+hi)-(Wt=At+gt)),ea=.5411961*Ht+xt,Sr=1.306562965*Wt+xt,fi=.707106781*(Oi=hi+At),pi=gt+fi,Ve=gt-fi;Se[Re+5]=Ve+ea,Se[Re+3]=Ve-ea,Se[Re+1]=pi+Sr,Se[Re+7]=pi-Sr,Re+=8}for(Re=0,Ke=0;Ke<8;++Ke){De=Se[Re],Oe=Se[Re+8],Be=Se[Re+16],Xe=Se[Re+24],st=Se[Re+32],at=Se[Re+40],ht=Se[Re+48];var $n=De+(jt=Se[Re+56]),mi=De-jt,Qr=Oe+ht,hr=Oe-ht,ar=Be+at,fn=Be-at,Ta=Xe+st,Ii=Xe-st,Hn=$n+Ta,Wn=$n-Ta,Vn=Qr+ar,gi=Qr-ar;Se[Re]=Hn+Vn,Se[Re+32]=Hn-Vn;var jn=.707106781*(gi+Wn);Se[Re+16]=Wn+jn,Se[Re+48]=Wn-jn;var vi=.382683433*((Hn=Ii+fn)-(gi=hr+mi)),ta=.5411961*Hn+vi,Fa=1.306562965*gi+vi,za=.707106781*(Vn=fn+hr),Ma=mi+za,Ua=mi-za;Se[Re+40]=Ua+ta,Se[Re+24]=Ua-ta,Se[Re+8]=Ma+Fa,Se[Re+56]=Ma-Fa,Re++}for(Ke=0;Ke<64;++Ke)ot=Se[Ke]*Le[Ke],f[Ke]=ot>0?ot+.5|0:ot-.5|0;return f}(E,q),ke=0;ke<64;++ke)b[z[ke]]=Ae[ke];var Ie=b[0]-V;V=b[0],Ie==0?pe(X[0]):(pe(X[y[ce=32767+Ie]]),pe(m[ce]));for(var Ce=63;Ce>0&&b[Ce]==0;)Ce--;if(Ce==0)return pe(he),V;for(var Ge,ve=1;ve<=Ce;){for(var G=ve;b[ve]==0&&ve<=Ce;)++ve;var tt=ve-G;if(tt>=16){Ge=tt>>4;for(var Ue=1;Ue<=Ge;++Ue)pe(fe);tt&=15}ce=32767+b[ve],pe(te[(tt<<4)+y[ce]]),pe(m[ce]),ve++}return Ce!=63&&pe(he),V}function _e(E){E=Math.min(Math.max(E,1),100),s!=E&&(function(q){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],X=0;X<64;X++){var te=a((V[X]*q+50)/100);te=Math.min(Math.max(te,1),255),o[z[X]]=te}for(var ce=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],he=0;he<64;he++){var fe=a((ce[he]*q+50)/100);fe=Math.min(Math.max(fe,1),255),c[z[he]]=fe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ke=0,Ie=0;Ie<8;Ie++)for(var Ce=0;Ce<8;Ce++)d[ke]=1/(o[z[ke]]*Ae[Ie]*Ae[Ce]*8),p[ke]=1/(c[z[ke]]*Ae[Ie]*Ae[Ce]*8),ke++}(E<50?Math.floor(5e3/E):Math.floor(200-2*E)),s=E)}this.encode=function(E,q){q&&_e(q),_=new Array,j=0,x=7,ie(65496),ie(65504),ie(16),K(74),K(70),K(73),K(70),K(0),K(1),K(1),K(0),ie(1),ie(1),K(0),K(0),function(){ie(65499),ie(132),K(0);for(var Oe=0;Oe<64;Oe++)K(o[Oe]);K(1);for(var Be=0;Be<64;Be++)K(c[Be])}(),function(Oe,Be){ie(65472),ie(17),K(8),ie(Be),ie(Oe),K(3),K(1),K(17),K(0),K(2),K(17),K(1),K(3),K(17),K(1)}(E.width,E.height),function(){ie(65476),ie(418),K(0);for(var Oe=0;Oe<16;Oe++)K(L[Oe+1]);for(var Be=0;Be<=11;Be++)K(U[Be]);K(16);for(var Xe=0;Xe<16;Xe++)K(J[Xe+1]);for(var st=0;st<=161;st++)K(D[st]);K(1);for(var at=0;at<16;at++)K(T[at+1]);for(var ht=0;ht<=11;ht++)K(B[ht]);K(17);for(var jt=0;jt<16;jt++)K(W[jt+1]);for(var Ke=0;Ke<=161;Ke++)K(de[Ke])}(),ie(65498),ie(12),K(3),K(1),K(0),K(2),K(17),K(3),K(17),K(0),K(63),K(0);var V=0,X=0,te=0;j=0,x=7,this.encode.displayName="_encode_";for(var ce,he,fe,Ae,ke,Ie,Ce,Ge,ve,G=E.data,tt=E.width,Ue=E.height,Se=4*tt,Le=0;Le<Ue;){for(ce=0;ce<Se;){for(ke=Se*Le+ce,Ce=-1,Ge=0,ve=0;ve<64;ve++)Ie=ke+(Ge=ve>>3)*Se+(Ce=4*(7&ve)),Le+Ge>=Ue&&(Ie-=Se*(Le+1+Ge-Ue)),ce+Ce>=Se&&(Ie-=ce+Ce-Se+4),he=G[Ie++],fe=G[Ie++],Ae=G[Ie++],w[ve]=(H[he]+H[fe+256>>0]+H[Ae+512>>0]>>16)-128,S[ve]=(H[he+768>>0]+H[fe+1024>>0]+H[Ae+1280>>0]>>16)-128,F[ve]=(H[he+1280>>0]+H[fe+1536>>0]+H[Ae+1792>>0]>>16)-128;V=le(w,d,V,e,n),X=le(S,p,X,r,i),te=le(F,p,te,r,i),ce+=32}Le+=8}if(x>=0){var De=[];De[1]=x+1,De[0]=(1<<x+1)-1,pe(De)}return ie(65497),new Uint8Array(_)},t=t||50,function(){for(var E=String.fromCharCode,q=0;q<256;q++)O[q]=E(q)}(),e=ue(L,U),r=ue(T,B),n=ue(J,D),i=ue(W,de),function(){for(var E=1,q=2,V=1;V<=15;V++){for(var X=E;X<q;X++)y[32767+X]=V,m[32767+X]=[],m[32767+X][1]=V,m[32767+X][0]=X;for(var te=-(q-1);te<=-E;te++)y[32767+te]=V,m[32767+te]=[],m[32767+te][1]=V,m[32767+te][0]=q-1+te;E<<=1,q<<=1}}(),function(){for(var E=0;E<256;E++)H[E]=19595*E,H[E+256>>0]=38470*E,H[E+512>>0]=7471*E+32768,H[E+768>>0]=-11059*E,H[E+1024>>0]=-21709*E,H[E+1280>>0]=32768*E+8421375,H[E+1536>>0]=-27439*E,H[E+1792>>0]=-5329*E}(),_e(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ei(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function y2(t){function e(L){if(!L)throw Error("assert :P")}function r(L,U,J){for(var D=0;4>D;D++)if(L[U+D]!=J.charCodeAt(D))return!0;return!1}function n(L,U,J,D,T){for(var B=0;B<T;B++)L[U+B]=J[D+B]}function i(L,U,J,D){for(var T=0;T<D;T++)L[U+T]=J}function s(L){return new Int32Array(L)}function a(L,U){for(var J=[],D=0;D<L;D++)J.push(new U);return J}function o(L,U){var J=[];return function D(T,B,W){for(var de=W[B],ue=0;ue<de&&(T.push(W.length>B+1?[]:new U),!(W.length<B+1));ue++)D(T[ue],B+1,W)}(J,0,L),J}var c=function(){var L=this;function U(l,h){for(var v=1<<h-1>>>0;l&v;)v>>>=1;return v?(l&v-1)+v:l}function J(l,h,v,N,k){e(!(N%v));do l[h+(N-=v)]=k;while(0<N)}function D(l,h,v,N,k){if(e(2328>=k),512>=k)var C=s(512);else if((C=s(k))==null)return 0;return function(P,I,R,M,Q,ae){var oe,re,we=I,me=1<<R,Z=s(16),ee=s(16);for(e(Q!=0),e(M!=null),e(P!=null),e(0<R),re=0;re<Q;++re){if(15<M[re])return 0;++Z[M[re]]}if(Z[0]==Q)return 0;for(ee[1]=0,oe=1;15>oe;++oe){if(Z[oe]>1<<oe)return 0;ee[oe+1]=ee[oe]+Z[oe]}for(re=0;re<Q;++re)oe=M[re],0<M[re]&&(ae[ee[oe]++]=re);if(ee[15]==1)return(M=new T).g=0,M.value=ae[0],J(P,we,1,me,M),me;var ye,be=-1,xe=me-1,Fe=0,Ee=1,$e=1,Pe=1<<R;for(re=0,oe=1,Q=2;oe<=R;++oe,Q<<=1){if(Ee+=$e<<=1,0>($e-=Z[oe]))return 0;for(;0<Z[oe];--Z[oe])(M=new T).g=oe,M.value=ae[re++],J(P,we+Fe,Q,Pe,M),Fe=U(Fe,oe)}for(oe=R+1,Q=2;15>=oe;++oe,Q<<=1){if(Ee+=$e<<=1,0>($e-=Z[oe]))return 0;for(;0<Z[oe];--Z[oe]){if(M=new T,(Fe&xe)!=be){for(we+=Pe,ye=1<<(be=oe)-R;15>be&&!(0>=(ye-=Z[be]));)++be,ye<<=1;me+=Pe=1<<(ye=be-R),P[I+(be=Fe&xe)].g=ye+R,P[I+be].value=we-I-be}M.g=oe-R,M.value=ae[re++],J(P,we+(Fe>>R),Q,Pe,M),Fe=U(Fe,oe)}}return Ee!=2*ee[15]-1?0:me}(l,h,v,N,k,C)}function T(){this.value=this.g=0}function B(){this.value=this.g=0}function W(){this.G=a(5,T),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(jr,B)}function de(l,h,v,N){e(l!=null),e(h!=null),e(2147483648>N),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=h,l.pa=v,l.Jd=h,l.Yc=v+N,l.Zc=4<=N?v+N-4+1:v,ce(l)}function ue(l,h){for(var v=0;0<h--;)v|=fe(l,128)<<h;return v}function pe(l,h){var v=ue(l,h);return he(l)?-v:v}function K(l,h,v,N){var k,C=0;for(e(l!=null),e(h!=null),e(4294967288>N),l.Sb=N,l.Ra=0,l.u=0,l.h=0,4<N&&(N=4),k=0;k<N;++k)C+=h[v+k]<<8*k;l.Ra=C,l.bb=N,l.oa=h,l.pa=v}function ie(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<to-8>>>0,++l.bb,l.u-=8;V(l)&&(l.h=1,l.u=0)}function le(l,h){if(e(0<=h),!l.h&&h<=eo){var v=q(l)&Za[h];return l.u+=h,ie(l),v}return l.h=1,l.u=0}function _e(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function E(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(l){return l.Ra>>>(l.u&to-1)>>>0}function V(l){return e(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>to}function X(l,h){l.u=h,l.h=V(l)}function te(l){l.u>=Ll&&(e(l.u>=Ll),ie(l))}function ce(l){e(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(e(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function he(l){return ue(l,1)}function fe(l,h){var v=l.Ca;0>l.b&&ce(l);var N=l.b,k=v*h>>>8,C=(l.I>>>N>k)+0;for(C?(v-=k,l.I-=k+1<<N>>>0):v=k+1,N=v,k=0;256<=N;)k+=8,N>>=8;return N=7^k+en[N],l.b-=N,l.Ca=(v<<N)-1,C}function Ae(l,h,v){l[h+0]=v>>24&255,l[h+1]=v>>16&255,l[h+2]=v>>8&255,l[h+3]=v>>0&255}function ke(l,h){return l[h+0]<<0|l[h+1]<<8}function Ie(l,h){return ke(l,h)|l[h+2]<<16}function Ce(l,h){return ke(l,h)|ke(l,h+2)<<16}function Ge(l,h){var v=1<<h;return e(l!=null),e(0<h),l.X=s(v),l.X==null?0:(l.Mb=32-h,l.Xa=h,1)}function ve(l,h){e(l!=null),e(h!=null),e(l.Xa==h.Xa),n(h.X,0,l.X,0,1<<h.Xa)}function G(){this.X=[],this.Xa=this.Mb=0}function tt(l,h,v,N){e(v!=null),e(N!=null);var k=v[0],C=N[0];return k==0&&(k=(l*C+h/2)/h),C==0&&(C=(h*k+l/2)/l),0>=k||0>=C?0:(v[0]=k,N[0]=C,1)}function Ue(l,h){return l+(1<<h)-1>>>h}function Se(l,h){return((4278255360&l)+(4278255360&h)>>>0&4278255360)+((16711935&l)+(16711935&h)>>>0&16711935)>>>0}function Le(l,h){L[h]=function(v,N,k,C,P,I,R){var M;for(M=0;M<P;++M){var Q=L[l](I[R+M-1],k,C+M);I[R+M]=Se(v[N+M],Q)}}}function De(){this.ud=this.hd=this.jd=0}function Oe(l,h){return((4278124286&(l^h))>>>1)+(l&h)>>>0}function Be(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function Xe(l,h){return Be(l+(l-h+.5>>1))}function st(l,h,v){return Math.abs(h-v)-Math.abs(l-v)}function at(l,h,v,N,k,C,P){for(N=C[P-1],v=0;v<k;++v)C[P+v]=N=Se(l[h+v],N)}function ht(l,h,v,N,k){var C;for(C=0;C<v;++C){var P=l[h+C],I=P>>8&255,R=16711935&(R=(R=16711935&P)+((I<<16)+I));N[k+C]=(4278255360&P)+R>>>0}}function jt(l,h){h.jd=l>>0&255,h.hd=l>>8&255,h.ud=l>>16&255}function Ke(l,h,v,N,k,C){var P;for(P=0;P<N;++P){var I=h[v+P],R=I>>>8,M=I,Q=255&(Q=(Q=I>>>16)+((l.jd<<24>>24)*(R<<24>>24)>>>5));M=255&(M=(M=M+((l.hd<<24>>24)*(R<<24>>24)>>>5))+((l.ud<<24>>24)*(Q<<24>>24)>>>5)),k[C+P]=(4278255360&I)+(Q<<16)+M}}function ot(l,h,v,N,k){L[h]=function(C,P,I,R,M,Q,ae,oe,re){for(R=ae;R<oe;++R)for(ae=0;ae<re;++ae)M[Q++]=k(I[N(C[P++])])},L[l]=function(C,P,I,R,M,Q,ae){var oe=8>>C.b,re=C.Ea,we=C.K[0],me=C.w;if(8>oe)for(C=(1<<C.b)-1,me=(1<<oe)-1;P<I;++P){var Z,ee=0;for(Z=0;Z<re;++Z)Z&C||(ee=N(R[M++])),Q[ae++]=k(we[ee&me]),ee>>=oe}else L["VP8LMapColor"+v](R,M,we,me,Q,ae,P,I,re)}}function Re(l,h,v,N,k){for(v=h+v;h<v;){var C=l[h++];N[k++]=C>>16&255,N[k++]=C>>8&255,N[k++]=C>>0&255}}function Pr(l,h,v,N,k){for(v=h+v;h<v;){var C=l[h++];N[k++]=C>>16&255,N[k++]=C>>8&255,N[k++]=C>>0&255,N[k++]=C>>24&255}}function gt(l,h,v,N,k){for(v=h+v;h<v;){var C=(P=l[h++])>>16&240|P>>12&15,P=P>>0&240|P>>28&15;N[k++]=C,N[k++]=P}}function Bn(l,h,v,N,k){for(v=h+v;h<v;){var C=(P=l[h++])>>16&248|P>>13&7,P=P>>5&224|P>>3&31;N[k++]=C,N[k++]=P}}function At(l,h,v,N,k){for(v=h+v;h<v;){var C=l[h++];N[k++]=C>>0&255,N[k++]=C>>8&255,N[k++]=C>>16&255}}function zt(l,h,v,N,k,C){if(C==0)for(v=h+v;h<v;)Ae(N,((C=l[h++])[0]>>24|C[1]>>8&65280|C[2]<<8&16711680|C[3]<<24)>>>0),k+=32;else n(N,k,l,h,v)}function hi(l,h){L[h][0]=L[l+"0"],L[h][1]=L[l+"1"],L[h][2]=L[l+"2"],L[h][3]=L[l+"3"],L[h][4]=L[l+"4"],L[h][5]=L[l+"5"],L[h][6]=L[l+"6"],L[h][7]=L[l+"7"],L[h][8]=L[l+"8"],L[h][9]=L[l+"9"],L[h][10]=L[l+"10"],L[h][11]=L[l+"11"],L[h][12]=L[l+"12"],L[h][13]=L[l+"13"],L[h][14]=L[l+"0"],L[h][15]=L[l+"0"]}function yt(l){return l==cf||l==uf||l==ku||l==df}function Zs(){this.eb=[],this.size=this.A=this.fb=0}function Ht(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function qn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zs,this.f.kb=new Ht,this.sd=null}function Oi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Wt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Qe(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function xt(l,h){var v=l.T,N=h.ba.f.RGBA,k=N.eb,C=N.fb+l.ka*N.A,P=Pn[h.ba.S],I=l.y,R=l.O,M=l.f,Q=l.N,ae=l.ea,oe=l.W,re=h.cc,we=h.dc,me=h.Mc,Z=h.Nc,ee=l.ka,ye=l.ka+l.T,be=l.U,xe=be+1>>1;for(ee==0?P(I,R,null,null,M,Q,ae,oe,M,Q,ae,oe,k,C,null,null,be):(P(h.ec,h.fc,I,R,re,we,me,Z,M,Q,ae,oe,k,C-N.A,k,C,be),++v);ee+2<ye;ee+=2)re=M,we=Q,me=ae,Z=oe,Q+=l.Rc,oe+=l.Rc,C+=2*N.A,P(I,(R+=2*l.fa)-l.fa,I,R,re,we,me,Z,M,Q,ae,oe,k,C-N.A,k,C,be);return R+=l.fa,l.j+ye<l.o?(n(h.ec,h.fc,I,R,be),n(h.cc,h.dc,M,Q,xe),n(h.Mc,h.Nc,ae,oe,xe),v--):1&ye||P(I,R,null,null,M,Q,ae,oe,M,Q,ae,oe,k,C+N.A,null,null,be),v}function ea(l,h,v){var N=l.F,k=[l.J];if(N!=null){var C=l.U,P=h.ba.S,I=P==ju||P==ku;h=h.ba.f.RGBA;var R=[0],M=l.ka;R[0]=l.T,l.Kb&&(M==0?--R[0]:(--M,k[0]-=l.width),l.j+l.ka+l.T==l.o&&(R[0]=l.o-l.j-M));var Q=h.eb;M=h.fb+M*h.A,l=Pt(N,k[0],l.width,C,R,Q,M+(I?0:3),h.A),e(v==R),l&&yt(P)&&En(Q,M,I,C,R,h.A)}return 0}function Sr(l){var h=l.ma,v=h.ba.S,N=11>v,k=v==_u||v==Su||v==ju||v==lf||v==12||yt(v);if(h.memory=null,h.Ib=null,h.Jb=null,h.Nd=null,!kl(h.Oa,l,k?11:12))return 0;if(k&&yt(v)&&Ne(),l.da)alert("todo:use_scaling");else{if(N){if(h.Ib=Qe,l.Kb){if(v=l.U+1>>1,h.memory=s(l.U+2*v),h.memory==null)return 0;h.ec=h.memory,h.fc=0,h.cc=h.ec,h.dc=h.fc+l.U,h.Mc=h.cc,h.Nc=h.dc+v,h.Ib=xt,Ne()}}else alert("todo:EmitYUV");k&&(h.Jb=ea,N&&ne())}if(N&&!Qm){for(l=0;256>l;++l)tx[l]=89858*(l-128)+Lu>>Au,ix[l]=-22014*(l-128)+Lu,nx[l]=-45773*(l-128),rx[l]=113618*(l-128)+Lu>>Au;for(l=Rl;l<pf;++l)h=76283*(l-16)+Lu>>Au,sx[l-Rl]=pn(h,255),ax[l-Rl]=pn(h+8>>4,15);Qm=1}return 1}function fi(l){var h=l.ma,v=l.U,N=l.T;return e(!(1&l.ka)),0>=v||0>=N?0:(v=h.Ib(l,h),h.Jb!=null&&h.Jb(l,h,v),h.Dc+=v,1)}function pi(l){l.ma.memory=null}function Ve(l,h,v,N){return le(l,8)!=47?0:(h[0]=le(l,14)+1,v[0]=le(l,14)+1,N[0]=le(l,1),le(l,3)!=0?0:!l.h)}function $n(l,h){if(4>l)return l+1;var v=l-2>>1;return(2+(1&l)<<v)+le(h,v)+1}function mi(l,h){return 120<h?h-120:1<=(v=((v=B5[h-1])>>4)*l+(8-(15&v)))?v:1;var v}function Qr(l,h,v){var N=q(v),k=l[h+=255&N].g-8;return 0<k&&(X(v,v.u+8),N=q(v),h+=l[h].value,h+=N&(1<<k)-1),X(v,v.u+l[h].g),l[h].value}function hr(l,h,v){return v.g+=l.g,v.value+=l.value<<h>>>0,e(8>=v.g),l.g}function ar(l,h,v){var N=l.xc;return e((h=N==0?0:l.vc[l.md*(v>>N)+(h>>N)])<l.Wb),l.Ya[h]}function fn(l,h,v,N){var k=l.ab,C=l.c*h,P=l.C;h=P+h;var I=v,R=N;for(N=l.Ta,v=l.Ua;0<k--;){var M=l.gc[k],Q=P,ae=h,oe=I,re=R,we=(R=N,I=v,M.Ea);switch(e(Q<ae),e(ae<=M.nc),M.hc){case 2:gu(oe,re,(ae-Q)*we,R,I);break;case 0:var me=Q,Z=ae,ee=R,ye=I,be=(Pe=M).Ea;me==0&&(af(oe,re,null,null,1,ee,ye),at(oe,re+1,0,0,be-1,ee,ye+1),re+=be,ye+=be,++me);for(var xe=1<<Pe.b,Fe=xe-1,Ee=Ue(be,Pe.b),$e=Pe.K,Pe=Pe.w+(me>>Pe.b)*Ee;me<Z;){var vt=$e,wt=Pe,ft=1;for(El(oe,re,ee,ye-be,1,ee,ye);ft<be;){var ut=(ft&~Fe)+xe;ut>be&&(ut=be),(0,as[vt[wt++]>>8&15])(oe,re+ +ft,ee,ye+ft-be,ut-ft,ee,ye+ft),ft=ut}re+=be,ye+=be,++me&Fe||(Pe+=Ee)}ae!=M.nc&&n(R,I-we,R,I+(ae-Q-1)*we,we);break;case 1:for(we=oe,Z=re,be=(oe=M.Ea)-(ye=oe&~(ee=(re=1<<M.b)-1)),me=Ue(oe,M.b),xe=M.K,M=M.w+(Q>>M.b)*me;Q<ae;){for(Fe=xe,Ee=M,$e=new De,Pe=Z+ye,vt=Z+oe;Z<Pe;)jt(Fe[Ee++],$e),aa($e,we,Z,re,R,I),Z+=re,I+=re;Z<vt&&(jt(Fe[Ee++],$e),aa($e,we,Z,be,R,I),Z+=be,I+=be),++Q&ee||(M+=me)}break;case 3:if(oe==R&&re==I&&0<M.b){for(Z=R,oe=we=I+(ae-Q)*we-(ye=(ae-Q)*Ue(M.Ea,M.b)),re=R,ee=I,me=[],ye=(be=ye)-1;0<=ye;--ye)me[ye]=re[ee+ye];for(ye=be-1;0<=ye;--ye)Z[oe+ye]=me[ye];kn(M,Q,ae,R,we,R,I)}else kn(M,Q,ae,oe,re,R,I)}I=N,R=v}R!=v&&n(N,v,I,R,C)}function Ta(l,h){var v=l.V,N=l.Ba+l.c*l.C,k=h-l.C;if(e(h<=l.l.o),e(16>=k),0<k){var C=l.l,P=l.Ta,I=l.Ua,R=C.width;if(fn(l,k,v,N),k=I=[I],e((v=l.C)<(N=h)),e(C.v<C.va),N>C.o&&(N=C.o),v<C.j){var M=C.j-v;v=C.j,k[0]+=M*R}if(v>=N?v=0:(k[0]+=4*C.v,C.ka=v-C.j,C.U=C.va-C.v,C.T=N-v,v=1),v){if(I=I[0],11>(v=l.ca).S){var Q=v.f.RGBA,ae=(N=v.S,k=C.U,C=C.T,M=Q.eb,Q.A),oe=C;for(Q=Q.fb+l.Ma*Q.A;0<oe--;){var re=P,we=I,me=k,Z=M,ee=Q;switch(N){case Nu:tn(re,we,me,Z,ee);break;case _u:$r(re,we,me,Z,ee);break;case cf:$r(re,we,me,Z,ee),En(Z,ee,0,me,1,0);break;case qm:Fi(re,we,me,Z,ee);break;case Su:zt(re,we,me,Z,ee,1);break;case uf:zt(re,we,me,Z,ee,1),En(Z,ee,0,me,1,0);break;case ju:zt(re,we,me,Z,ee,0);break;case ku:zt(re,we,me,Z,ee,0),En(Z,ee,1,me,1,0);break;case lf:os(re,we,me,Z,ee);break;case df:os(re,we,me,Z,ee),Ct(Z,ee,me,1,0);break;case $m:Ti(re,we,me,Z,ee);break;default:e(0)}I+=R,Q+=ae}l.Ma+=C}else alert("todo:EmitRescaledRowsYUVA");e(l.Ma<=v.height)}}l.C=h,e(l.C<=l.i)}function Ii(l){var h;if(0<l.ua)return 0;for(h=0;h<l.Wb;++h){var v=l.Ya[h].G,N=l.Ya[h].H;if(0<v[1][N[1]+0].g||0<v[2][N[2]+0].g||0<v[3][N[3]+0].g)return 0}return 1}function Hn(l,h,v,N,k,C){if(l.Z!=0){var P=l.qd,I=l.rd;for(e(ds[l.Z]!=null);h<v;++h)ds[l.Z](P,I,N,k,N,k,C),P=N,I=k,k+=C;l.qd=P,l.rd=I}}function Wn(l,h){var v=l.l.ma,N=v.Z==0||v.Z==1?l.l.j:l.C;if(N=l.C<N?N:l.C,e(h<=l.l.o),h>N){var k=l.l.width,C=v.ca,P=v.tb+k*N,I=l.V,R=l.Ba+l.c*N,M=l.gc;e(l.ab==1),e(M[0].hc==3),vu(M[0],N,h,I,R,C,P),Hn(v,N,h,C,P,k)}l.C=l.Ma=h}function Vn(l,h,v,N,k,C,P){var I=l.$/N,R=l.$%N,M=l.m,Q=l.s,ae=v+l.$,oe=ae;k=v+N*k;var re=v+N*C,we=280+Q.ua,me=l.Pb?I:16777216,Z=0<Q.ua?Q.Wa:null,ee=Q.wc,ye=ae<re?ar(Q,R,I):null;e(l.C<C),e(re<=k);var be=!1;e:for(;;){for(;be||ae<re;){var xe=0;if(I>=me){var Fe=ae-v;e((me=l).Pb),me.wd=me.m,me.xd=Fe,0<me.s.ua&&ve(me.s.Wa,me.s.vb),me=I+$5}if(R&ee||(ye=ar(Q,R,I)),e(ye!=null),ye.Qb&&(h[ae]=ye.qb,be=!0),!be)if(te(M),ye.jc){xe=M,Fe=h;var Ee=ae,$e=ye.pd[q(xe)&jr-1];e(ye.jc),256>$e.g?(X(xe,xe.u+$e.g),Fe[Ee]=$e.value,xe=0):(X(xe,xe.u+$e.g-256),e(256<=$e.value),xe=$e.value),xe==0&&(be=!0)}else xe=Qr(ye.G[0],ye.H[0],M);if(M.h)break;if(be||256>xe){if(!be)if(ye.nd)h[ae]=(ye.qb|xe<<8)>>>0;else{if(te(M),be=Qr(ye.G[1],ye.H[1],M),te(M),Fe=Qr(ye.G[2],ye.H[2],M),Ee=Qr(ye.G[3],ye.H[3],M),M.h)break;h[ae]=(Ee<<24|be<<16|xe<<8|Fe)>>>0}if(be=!1,++ae,++R>=N&&(R=0,++I,P!=null&&I<=C&&!(I%16)&&P(l,I),Z!=null))for(;oe<ae;)xe=h[oe++],Z.X[(506832829*xe&4294967295)>>>Z.Mb]=xe}else if(280>xe){if(xe=$n(xe-256,M),Fe=Qr(ye.G[4],ye.H[4],M),te(M),Fe=mi(N,Fe=$n(Fe,M)),M.h)break;if(ae-v<Fe||k-ae<xe)break e;for(Ee=0;Ee<xe;++Ee)h[ae+Ee]=h[ae+Ee-Fe];for(ae+=xe,R+=xe;R>=N;)R-=N,++I,P!=null&&I<=C&&!(I%16)&&P(l,I);if(e(ae<=k),R&ee&&(ye=ar(Q,R,I)),Z!=null)for(;oe<ae;)xe=h[oe++],Z.X[(506832829*xe&4294967295)>>>Z.Mb]=xe}else{if(!(xe<we))break e;for(be=xe-280,e(Z!=null);oe<ae;)xe=h[oe++],Z.X[(506832829*xe&4294967295)>>>Z.Mb]=xe;xe=ae,e(!(be>>>(Fe=Z).Xa)),h[xe]=Fe.X[be],be=!0}be||e(M.h==V(M))}if(l.Pb&&M.h&&ae<k)e(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&ve(l.s.vb,l.s.Wa);else{if(M.h)break e;P!=null&&P(l,I>C?C:I),l.a=0,l.$=ae-v}return 1}return l.a=3,0}function gi(l){e(l!=null),l.vc=null,l.yc=null,l.Ya=null;var h=l.Wa;h!=null&&(h.X=null),l.vb=null,e(l!=null)}function jn(){var l=new sf;return l==null?null:(l.a=0,l.xb=Vm,hi("Predictor","VP8LPredictors"),hi("Predictor","VP8LPredictors_C"),hi("PredictorAdd","VP8LPredictorsAdd"),hi("PredictorAdd","VP8LPredictorsAdd_C"),gu=ht,aa=Ke,tn=Re,$r=Pr,os=gt,Ti=Bn,Fi=At,L.VP8LMapColor32b=ro,L.VP8LMapColor8b=yu,l)}function vi(l,h,v,N,k){var C=1,P=[l],I=[h],R=N.m,M=N.s,Q=null,ae=0;e:for(;;){if(v)for(;C&&le(R,1);){var oe=P,re=I,we=N,me=1,Z=we.m,ee=we.gc[we.ab],ye=le(Z,2);if(we.Oc&1<<ye)C=0;else{switch(we.Oc|=1<<ye,ee.hc=ye,ee.Ea=oe[0],ee.nc=re[0],ee.K=[null],++we.ab,e(4>=we.ab),ye){case 0:case 1:ee.b=le(Z,3)+2,me=vi(Ue(ee.Ea,ee.b),Ue(ee.nc,ee.b),0,we,ee.K),ee.K=ee.K[0];break;case 3:var be,xe=le(Z,8)+1,Fe=16<xe?0:4<xe?1:2<xe?2:3;if(oe[0]=Ue(ee.Ea,Fe),ee.b=Fe,be=me=vi(xe,1,0,we,ee.K)){var Ee,$e=xe,Pe=ee,vt=1<<(8>>Pe.b),wt=s(vt);if(wt==null)be=0;else{var ft=Pe.K[0],ut=Pe.w;for(wt[0]=Pe.K[0][0],Ee=1;Ee<1*$e;++Ee)wt[Ee]=Se(ft[ut+Ee],wt[Ee-1]);for(;Ee<4*vt;++Ee)wt[Ee]=0;Pe.K[0]=null,Pe.K[0]=wt,be=1}}me=be;break;case 2:break;default:e(0)}C=me}}if(P=P[0],I=I[0],C&&le(R,1)&&!(C=1<=(ae=le(R,4))&&11>=ae)){N.a=3;break e}var Lt;if(Lt=C)t:{var kt,nt,lr,rn=N,cr=P,nn=I,bt=ae,gn=v,vn=rn.m,yr=rn.s,kr=[null],Wr=1,On=0,bi=q5[bt];r:for(;;){if(gn&&le(vn,1)){var xr=le(vn,3)+2,Bi=Ue(cr,xr),da=Ue(nn,xr),oo=Bi*da;if(!vi(Bi,da,0,rn,kr))break r;for(kr=kr[0],yr.xc=xr,kt=0;kt<oo;++kt){var hs=kr[kt]>>8&65535;kr[kt]=hs,hs>=Wr&&(Wr=hs+1)}}if(vn.h)break r;for(nt=0;5>nt;++nt){var Gt=Hm[nt];!nt&&0<bt&&(Gt+=1<<bt),On<Gt&&(On=Gt)}var mf=a(Wr*bi,T),tg=Wr,rg=a(tg,W);if(rg==null)var Cu=null;else e(65536>=tg),Cu=rg;var Tl=s(On);if(Cu==null||Tl==null||mf==null){rn.a=1;break r}var Pu=mf;for(kt=lr=0;kt<Wr;++kt){var Xn=Cu[kt],lo=Xn.G,co=Xn.H,ng=0,Ou=1,ig=0;for(nt=0;5>nt;++nt){Gt=Hm[nt],lo[nt]=Pu,co[nt]=lr,!nt&&0<bt&&(Gt+=1<<bt);i:{var Iu,gf=Gt,Du=rn,Fl=Tl,cx=Pu,ux=lr,vf=0,fs=Du.m,dx=le(fs,1);if(i(Fl,0,0,gf),dx){var hx=le(fs,1)+1,fx=le(fs,1),sg=le(fs,fx==0?1:8);Fl[sg]=1,hx==2&&(Fl[sg=le(fs,8)]=1);var Ru=1}else{var ag=s(19),og=le(fs,4)+4;if(19<og){Du.a=3;var Tu=0;break i}for(Iu=0;Iu<og;++Iu)ag[U5[Iu]]=le(fs,3);var yf=void 0,zl=void 0,lg=Du,px=ag,Fu=gf,cg=Fl,xf=0,ps=lg.m,ug=8,dg=a(128,T);n:for(;D(dg,0,7,px,19);){if(le(ps,1)){var mx=2+2*le(ps,3);if((yf=2+le(ps,mx))>Fu)break n}else yf=Fu;for(zl=0;zl<Fu&&yf--;){te(ps);var hg=dg[0+(127&q(ps))];X(ps,ps.u+hg.g);var uo=hg.value;if(16>uo)cg[zl++]=uo,uo!=0&&(ug=uo);else{var gx=uo==16,fg=uo-16,vx=z5[fg],pg=le(ps,F5[fg])+vx;if(zl+pg>Fu)break n;for(var yx=gx?ug:0;0<pg--;)cg[zl++]=yx}}xf=1;break n}xf||(lg.a=3),Ru=xf}(Ru=Ru&&!fs.h)&&(vf=D(cx,ux,8,Fl,gf)),Ru&&vf!=0?Tu=vf:(Du.a=3,Tu=0)}if(Tu==0)break r;if(Ou&&M5[nt]==1&&(Ou=Pu[lr].g==0),ng+=Pu[lr].g,lr+=Tu,3>=nt){var Ml,wf=Tl[0];for(Ml=1;Ml<Gt;++Ml)Tl[Ml]>wf&&(wf=Tl[Ml]);ig+=wf}}if(Xn.nd=Ou,Xn.Qb=0,Ou&&(Xn.qb=(lo[3][co[3]+0].value<<24|lo[1][co[1]+0].value<<16|lo[2][co[2]+0].value)>>>0,ng==0&&256>lo[0][co[0]+0].value&&(Xn.Qb=1,Xn.qb+=lo[0][co[0]+0].value<<8)),Xn.jc=!Xn.Qb&&6>ig,Xn.jc){var zu,qi=Xn;for(zu=0;zu<jr;++zu){var ms=zu,gs=qi.pd[ms],Mu=qi.G[0][qi.H[0]+ms];256<=Mu.value?(gs.g=Mu.g+256,gs.value=Mu.value):(gs.g=0,gs.value=0,ms>>=hr(Mu,8,gs),ms>>=hr(qi.G[1][qi.H[1]+ms],16,gs),ms>>=hr(qi.G[2][qi.H[2]+ms],0,gs),hr(qi.G[3][qi.H[3]+ms],24,gs))}}}yr.vc=kr,yr.Wb=Wr,yr.Ya=Cu,yr.yc=mf,Lt=1;break t}Lt=0}if(!(C=Lt)){N.a=3;break e}if(0<ae){if(M.ua=1<<ae,!Ge(M.Wa,ae)){N.a=1,C=0;break e}}else M.ua=0;var bf=N,mg=P,xx=I,Nf=bf.s,_f=Nf.xc;if(bf.c=mg,bf.i=xx,Nf.md=Ue(mg,_f),Nf.wc=_f==0?-1:(1<<_f)-1,v){N.xb=Y5;break e}if((Q=s(P*I))==null){N.a=1,C=0;break e}C=(C=Vn(N,Q,0,P,I,I,null))&&!R.h;break e}return C?(k!=null?k[0]=Q:(e(Q==null),e(v)),N.$=0,v||gi(M)):gi(M),C}function ta(l,h){var v=l.c*l.i,N=v+h+16*h;return e(l.c<=h),l.V=s(N),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+v+h,1)}function Fa(l,h){var v=l.C,N=h-v,k=l.V,C=l.Ba+l.c*v;for(e(h<=l.l.o);0<N;){var P=16<N?16:N,I=l.l.ma,R=l.l.width,M=R*P,Q=I.ca,ae=I.tb+R*v,oe=l.Ta,re=l.Ua;fn(l,P,k,C),Zt(oe,re,Q,ae,M),Hn(I,v,v+P,Q,ae,R),N-=P,k+=P*l.c,v+=P}e(v==h),l.C=l.Ma=h}function za(){this.ub=this.yd=this.td=this.Rb=0}function Ma(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ua(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Yc(){this.Yb=function(){var l=[];return function h(v,N,k){for(var C=k[N],P=0;P<C&&(v.push(k.length>N+1?[]:0),!(k.length<N+1));P++)h(v[P],N+1,k)}(l,0,[3,11]),l}()}function Rh(){this.jb=s(3),this.Wc=o([4,8],Yc),this.Xc=o([4,17],Yc)}function Th(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Ba(){this.ld=this.La=this.dd=this.tc=0}function Xc(){this.Na=this.la=0}function Fh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ul(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function zh(){this.uc=this.M=this.Nb=0,this.wa=Array(new Ba),this.Y=0,this.ya=Array(new ul),this.aa=0,this.l=new qa}function Qc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Mh(){this.cb=this.a=0,this.sc="",this.m=new _e,this.Od=new za,this.Kc=new Ma,this.ed=new Th,this.Qa=new Ua,this.Ic=this.$c=this.Aa=0,this.D=new zh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,_e),this.ia=0,this.pb=a(4,Fh),this.Pa=new Rh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Qc),this.Hd=0,this.rb=Array(new Xc),this.sb=0,this.wa=Array(new Ba),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ul),this.L=this.aa=0,this.gd=o([4,2],Ba),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function qa(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Uh(){var l=new Mh;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,Dl||(Dl=tu)),l}function Xt(l,h,v){return l.a==0&&(l.a=h,l.sc=v,l.cb=0),0}function Zc(l,h,v){return 3<=v&&l[h+0]==157&&l[h+1]==1&&l[h+2]==42}function eu(l,h){if(l==null)return 0;if(l.a=0,l.sc="OK",h==null)return Xt(l,2,"null VP8Io passed to VP8GetHeaders()");var v=h.data,N=h.w,k=h.ha;if(4>k)return Xt(l,7,"Truncated header.");var C=v[N+0]|v[N+1]<<8|v[N+2]<<16,P=l.Od;if(P.Rb=!(1&C),P.td=C>>1&7,P.yd=C>>4&1,P.ub=C>>5,3<P.td)return Xt(l,3,"Incorrect keyframe parameters.");if(!P.yd)return Xt(l,4,"Frame not displayable.");N+=3,k-=3;var I=l.Kc;if(P.Rb){if(7>k)return Xt(l,7,"cannot parse picture header");if(!Zc(v,N,k))return Xt(l,3,"Bad code word");I.c=16383&(v[N+4]<<8|v[N+3]),I.Td=v[N+4]>>6,I.i=16383&(v[N+6]<<8|v[N+5]),I.Ud=v[N+6]>>6,N+=7,k-=7,l.za=I.c+15>>4,l.Ub=I.i+15>>4,h.width=I.c,h.height=I.i,h.Da=0,h.j=0,h.v=0,h.va=h.width,h.o=h.height,h.da=0,h.ib=h.width,h.hb=h.height,h.U=h.width,h.T=h.height,i((C=l.Pa).jb,0,255,C.jb.length),e((C=l.Qa)!=null),C.Cb=0,C.Bb=0,C.Fb=1,i(C.Zb,0,0,C.Zb.length),i(C.Lb,0,0,C.Lb)}if(P.ub>k)return Xt(l,7,"bad partition length");de(C=l.m,v,N,P.ub),N+=P.ub,k-=P.ub,P.Rb&&(I.Ld=he(C),I.Kd=he(C)),I=l.Qa;var R,M=l.Pa;if(e(C!=null),e(I!=null),I.Cb=he(C),I.Cb){if(I.Bb=he(C),he(C)){for(I.Fb=he(C),R=0;4>R;++R)I.Zb[R]=he(C)?pe(C,7):0;for(R=0;4>R;++R)I.Lb[R]=he(C)?pe(C,6):0}if(I.Bb)for(R=0;3>R;++R)M.jb[R]=he(C)?ue(C,8):255}else I.Bb=0;if(C.Ka)return Xt(l,3,"cannot parse segment header");if((I=l.ed).zd=he(C),I.Tb=ue(C,6),I.wb=ue(C,3),I.Pc=he(C),I.Pc&&he(C)){for(M=0;4>M;++M)he(C)&&(I.vd[M]=pe(C,6));for(M=0;4>M;++M)he(C)&&(I.od[M]=pe(C,6))}if(l.L=I.Tb==0?0:I.zd?1:2,C.Ka)return Xt(l,3,"cannot parse filter header");var Q=k;if(k=R=N,N=R+Q,I=Q,l.Xb=(1<<ue(l.m,2))-1,Q<3*(M=l.Xb))v=7;else{for(R+=3*M,I-=3*M,Q=0;Q<M;++Q){var ae=v[k+0]|v[k+1]<<8|v[k+2]<<16;ae>I&&(ae=I),de(l.Jc[+Q],v,R,ae),R+=ae,I-=ae,k+=3}de(l.Jc[+M],v,R,I),v=R<N?0:5}if(v!=0)return Xt(l,v,"cannot parse partitions");for(v=ue(R=l.m,7),k=he(R)?pe(R,4):0,N=he(R)?pe(R,4):0,I=he(R)?pe(R,4):0,M=he(R)?pe(R,4):0,R=he(R)?pe(R,4):0,Q=l.Qa,ae=0;4>ae;++ae){if(Q.Cb){var oe=Q.Zb[ae];Q.Fb||(oe+=v)}else{if(0<ae){l.pb[ae]=l.pb[0];continue}oe=v}var re=l.pb[ae];re.Sc[0]=hf[pn(oe+k,127)],re.Sc[1]=ff[pn(oe+0,127)],re.Eb[0]=2*hf[pn(oe+N,127)],re.Eb[1]=101581*ff[pn(oe+I,127)]>>16,8>re.Eb[1]&&(re.Eb[1]=8),re.Qc[0]=hf[pn(oe+M,117)],re.Qc[1]=ff[pn(oe+R,127)],re.lc=oe+R}if(!P.Rb)return Xt(l,4,"Not a key frame.");for(he(C),P=l.Pa,v=0;4>v;++v){for(k=0;8>k;++k)for(N=0;3>N;++N)for(I=0;11>I;++I)M=fe(C,J5[v][k][N][I])?ue(C,8):V5[v][k][N][I],P.Wc[v][k].Yb[N][I]=M;for(k=0;17>k;++k)P.Xc[v][k]=P.Wc[v][K5[k]]}return l.kc=he(C),l.kc&&(l.Bd=ue(C,8)),l.cb=1}function tu(l,h,v,N,k,C,P){var I=h[k].Yb[v];for(v=0;16>k;++k){if(!fe(l,I[v+0]))return k;for(;!fe(l,I[v+1]);)if(I=h[++k].Yb[0],v=0,k==16)return 16;var R=h[k+1].Yb;if(fe(l,I[v+2])){var M=l,Q=0;if(fe(M,(oe=I)[(ae=v)+3]))if(fe(M,oe[ae+6])){for(I=0,ae=2*(Q=fe(M,oe[ae+8]))+(oe=fe(M,oe[ae+9+Q])),Q=0,oe=H5[ae];oe[I];++I)Q+=Q+fe(M,oe[I]);Q+=3+(8<<ae)}else fe(M,oe[ae+7])?(Q=7+2*fe(M,165),Q+=fe(M,145)):Q=5+fe(M,159);else Q=fe(M,oe[ae+4])?3+fe(M,oe[ae+5]):2;I=R[2]}else Q=1,I=R[1];R=P+W5[k],0>(M=l).b&&ce(M);var ae,oe=M.b,re=(ae=M.Ca>>1)-(M.I>>oe)>>31;--M.b,M.Ca+=re,M.Ca|=1,M.I-=(ae+1&re)<<oe,C[R]=((Q^re)-re)*N[(0<k)+0]}return 16}function dl(l){var h=l.rb[l.sb-1];h.la=0,h.Na=0,i(l.zc,0,0,l.zc.length),l.ja=0}function Bh(l,h){if(l==null)return 0;if(h==null)return Xt(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!eu(l,h))return 0;if(e(l.cb),h.ac==null||h.ac(h)){h.ob&&(l.L=0);var v=Eu[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=h.v-v>>4,l.zb=h.j-v>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=h.o+15+v>>4,l.Hb=h.va+15+v>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var N=l.ed;for(v=0;4>v;++v){var k;if(l.Qa.Cb){var C=l.Qa.Lb[v];l.Qa.Fb||(C+=N.Tb)}else C=N.Tb;for(k=0;1>=k;++k){var P=l.gd[v][k],I=C;if(N.Pc&&(I+=N.vd[0],k&&(I+=N.od[0])),0<(I=0>I?0:63<I?63:I)){var R=I;0<N.wb&&(R=4<N.wb?R>>2:R>>1)>9-N.wb&&(R=9-N.wb),1>R&&(R=1),P.dd=R,P.tc=2*I+R,P.ld=40<=I?2:15<=I?1:0}else P.tc=0;P.La=k}}}v=0}else Xt(l,6,"Frame setup failed"),v=l.a;if(v=v==0){if(v){l.$c=0,0<l.Aa||(l.Ic=lx);e:{v=l.Ic,N=4*(R=l.za);var M=32*R,Q=R+1,ae=0<l.L?R*(0<l.Aa?2:1):0,oe=(l.Aa==2?2:1)*R;if((P=N+832+(k=3*(16*v+Eu[l.L])/2*M)+(C=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=P)v=0;else{if(P>l.Vb){if(l.Vb=0,l.Ec=s(P),l.Fc=0,l.Ec==null){v=Xt(l,1,"no memory during frame initialization.");break e}l.Vb=P}P=l.Ec,I=l.Fc,l.Ac=P,l.Bc=I,I+=N,l.Gd=a(M,Qc),l.Hd=0,l.rb=a(Q+1,Xc),l.sb=1,l.wa=ae?a(ae,Ba):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=R),e(!0),l.oc=P,l.pc=I,I+=832,l.ya=a(oe,ul),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=R),l.R=16*R,l.B=8*R,R=(M=Eu[l.L])*l.R,M=M/2*l.B,l.sa=P,l.ta=I+R,l.qa=l.sa,l.ra=l.ta+16*v*l.R+M,l.Ha=l.qa,l.Ia=l.ra+8*v*l.B+M,l.$c=0,I+=k,l.mb=C?P:null,l.nb=C?I:null,e(I+C<=l.Fc+l.Vb),dl(l),i(l.Ac,l.Bc,0,N),v=1}}if(v){if(h.ka=0,h.y=l.sa,h.O=l.ta,h.f=l.qa,h.N=l.ra,h.ea=l.Ha,h.Vd=l.Ia,h.fa=l.R,h.Rc=l.B,h.F=null,h.J=0,!wu){for(v=-255;255>=v;++v)fr[255+v]=0>v?-v:v;for(v=-1020;1020>=v;++v)Mi[1020+v]=-128>v?-128:127<v?127:v;for(v=-112;112>=v;++v)Il[112+v]=-16>v?-16:15<v?15:v;for(v=-255;510>=v;++v)ao[255+v]=0>v?0:255<v?255:v;wu=1}no=Hh,zi=qh,Cl=nu,Hr=$h,An=iu,Qt=ru,io=vl,xu=ia,Pl=nf,oa=yl,la=rf,ls=Ja,ca=xl,so=fu,ua=hu,cs=xi,Ol=Ri,Ln=tf,Yn[0]=yi,Yn[1]=Wh,Yn[2]=Kh,Yn[3]=Yh,Yn[4]=ou,Yn[5]=Va,Yn[6]=lu,Yn[7]=pl,Yn[8]=Qh,Yn[9]=Xh,us[0]=su,us[1]=Gh,us[2]=Di,us[3]=Ha,us[4]=Or,us[5]=Jh,us[6]=au,Ui[0]=ns,Ui[1]=Vh,Ui[2]=Zh,Ui[3]=ml,Ui[4]=na,Ui[5]=ef,Ui[6]=gl,v=1}else v=0}v&&(v=function(re,we){for(re.M=0;re.M<re.Va;++re.M){var me,Z=re.Jc[re.M&re.Xb],ee=re.m,ye=re;for(me=0;me<ye.za;++me){var be=ee,xe=ye,Fe=xe.Ac,Ee=xe.Bc+4*me,$e=xe.zc,Pe=xe.ya[xe.aa+me];if(xe.Qa.Bb?Pe.$b=fe(be,xe.Pa.jb[0])?2+fe(be,xe.Pa.jb[2]):fe(be,xe.Pa.jb[1]):Pe.$b=0,xe.kc&&(Pe.Ad=fe(be,xe.Bd)),Pe.Za=!fe(be,145)+0,Pe.Za){var vt=Pe.Ob,wt=0;for(xe=0;4>xe;++xe){var ft,ut=$e[0+xe];for(ft=0;4>ft;++ft){ut=G5[Fe[Ee+ft]][ut];for(var Lt=Wm[fe(be,ut[0])];0<Lt;)Lt=Wm[2*Lt+fe(be,ut[Lt])];ut=-Lt,Fe[Ee+ft]=ut}n(vt,wt,Fe,Ee,4),wt+=4,$e[0+xe]=ut}}else ut=fe(be,156)?fe(be,128)?1:3:fe(be,163)?2:0,Pe.Ob[0]=ut,i(Fe,Ee,ut,4),i($e,0,ut,4);Pe.Dd=fe(be,142)?fe(be,114)?fe(be,183)?1:3:2:0}if(ye.m.Ka)return Xt(re,7,"Premature end-of-partition0 encountered.");for(;re.ja<re.za;++re.ja){if(ye=Z,be=(ee=re).rb[ee.sb-1],Fe=ee.rb[ee.sb+ee.ja],me=ee.ya[ee.aa+ee.ja],Ee=ee.kc?me.Ad:0)be.la=Fe.la=0,me.Za||(be.Na=Fe.Na=0),me.Hc=0,me.Gc=0,me.ia=0;else{var kt,nt;if(be=Fe,Fe=ye,Ee=ee.Pa.Xc,$e=ee.ya[ee.aa+ee.ja],Pe=ee.pb[$e.$b],xe=$e.ad,vt=0,wt=ee.rb[ee.sb-1],ut=ft=0,i(xe,vt,0,384),$e.Za)var lr=0,rn=Ee[3];else{Lt=s(16);var cr=be.Na+wt.Na;if(cr=Dl(Fe,Ee[1],cr,Pe.Eb,0,Lt,0),be.Na=wt.Na=(0<cr)+0,1<cr)no(Lt,0,xe,vt);else{var nn=Lt[0]+3>>3;for(Lt=0;256>Lt;Lt+=16)xe[vt+Lt]=nn}lr=1,rn=Ee[0]}var bt=15&be.la,gn=15&wt.la;for(Lt=0;4>Lt;++Lt){var vn=1&gn;for(nn=nt=0;4>nn;++nn)bt=bt>>1|(vn=(cr=Dl(Fe,rn,cr=vn+(1&bt),Pe.Sc,lr,xe,vt))>lr)<<7,nt=nt<<2|(3<cr?3:1<cr?2:xe[vt+0]!=0),vt+=16;bt>>=4,gn=gn>>1|vn<<7,ft=(ft<<8|nt)>>>0}for(rn=bt,lr=gn>>4,kt=0;4>kt;kt+=2){for(nt=0,bt=be.la>>4+kt,gn=wt.la>>4+kt,Lt=0;2>Lt;++Lt){for(vn=1&gn,nn=0;2>nn;++nn)cr=vn+(1&bt),bt=bt>>1|(vn=0<(cr=Dl(Fe,Ee[2],cr,Pe.Qc,0,xe,vt)))<<3,nt=nt<<2|(3<cr?3:1<cr?2:xe[vt+0]!=0),vt+=16;bt>>=2,gn=gn>>1|vn<<5}ut|=nt<<4*kt,rn|=bt<<4<<kt,lr|=(240&gn)<<kt}be.la=rn,wt.la=lr,$e.Hc=ft,$e.Gc=ut,$e.ia=43690&ut?0:Pe.ia,Ee=!(ft|ut)}if(0<ee.L&&(ee.wa[ee.Y+ee.ja]=ee.gd[me.$b][me.Za],ee.wa[ee.Y+ee.ja].La|=!Ee),ye.Ka)return Xt(re,7,"Premature end-of-file encountered.")}if(dl(re),ee=we,ye=1,me=(Z=re).D,be=0<Z.L&&Z.M>=Z.zb&&Z.M<=Z.Va,Z.Aa==0)e:{if(me.M=Z.M,me.uc=be,jl(Z,me),ye=1,me=(nt=Z.D).Nb,be=(ut=Eu[Z.L])*Z.R,Fe=ut/2*Z.B,Lt=16*me*Z.R,nn=8*me*Z.B,Ee=Z.sa,$e=Z.ta-be+Lt,Pe=Z.qa,xe=Z.ra-Fe+nn,vt=Z.Ha,wt=Z.Ia-Fe+nn,gn=(bt=nt.M)==0,ft=bt>=Z.Va-1,Z.Aa==2&&jl(Z,nt),nt.uc)for(vn=(cr=Z).D.M,e(cr.D.uc),nt=cr.yb;nt<cr.Hb;++nt){lr=nt,rn=vn;var yr=(kr=(Gt=cr).D).Nb;kt=Gt.R;var kr=kr.wa[kr.Y+lr],Wr=Gt.sa,On=Gt.ta+16*yr*kt+16*lr,bi=kr.dd,xr=kr.tc;if(xr!=0)if(e(3<=xr),Gt.L==1)0<lr&&cs(Wr,On,kt,xr+4),kr.La&&Ln(Wr,On,kt,xr),0<rn&&ua(Wr,On,kt,xr+4),kr.La&&Ol(Wr,On,kt,xr);else{var Bi=Gt.B,da=Gt.qa,oo=Gt.ra+8*yr*Bi+8*lr,hs=Gt.Ha,Gt=Gt.Ia+8*yr*Bi+8*lr;yr=kr.ld,0<lr&&(xu(Wr,On,kt,xr+4,bi,yr),oa(da,oo,hs,Gt,Bi,xr+4,bi,yr)),kr.La&&(ls(Wr,On,kt,xr,bi,yr),so(da,oo,hs,Gt,Bi,xr,bi,yr)),0<rn&&(io(Wr,On,kt,xr+4,bi,yr),Pl(da,oo,hs,Gt,Bi,xr+4,bi,yr)),kr.La&&(la(Wr,On,kt,xr,bi,yr),ca(da,oo,hs,Gt,Bi,xr,bi,yr))}}if(Z.ia&&alert("todo:DitherRow"),ee.put!=null){if(nt=16*bt,bt=16*(bt+1),gn?(ee.y=Z.sa,ee.O=Z.ta+Lt,ee.f=Z.qa,ee.N=Z.ra+nn,ee.ea=Z.Ha,ee.W=Z.Ia+nn):(nt-=ut,ee.y=Ee,ee.O=$e,ee.f=Pe,ee.N=xe,ee.ea=vt,ee.W=wt),ft||(bt-=ut),bt>ee.o&&(bt=ee.o),ee.F=null,ee.J=null,Z.Fa!=null&&0<Z.Fa.length&&nt<bt&&(ee.J=_l(Z,ee,nt,bt-nt),ee.F=Z.mb,ee.F==null&&ee.F.length==0)){ye=Xt(Z,3,"Could not decode alpha data.");break e}nt<ee.j&&(ut=ee.j-nt,nt=ee.j,e(!(1&ut)),ee.O+=Z.R*ut,ee.N+=Z.B*(ut>>1),ee.W+=Z.B*(ut>>1),ee.F!=null&&(ee.J+=ee.width*ut)),nt<bt&&(ee.O+=ee.v,ee.N+=ee.v>>1,ee.W+=ee.v>>1,ee.F!=null&&(ee.J+=ee.v),ee.ka=nt-ee.j,ee.U=ee.va-ee.v,ee.T=bt-nt,ye=ee.put(ee))}me+1!=Z.Ic||ft||(n(Z.sa,Z.ta-be,Ee,$e+16*Z.R,be),n(Z.qa,Z.ra-Fe,Pe,xe+8*Z.B,Fe),n(Z.Ha,Z.Ia-Fe,vt,wt+8*Z.B,Fe))}if(!ye)return Xt(re,6,"Output aborted.")}return 1}(l,h)),h.bc!=null&&h.bc(h),v&=1}return v?(l.cb=0,v):0}function Gn(l,h,v,N,k){k=l[h+v+32*N]+(k>>3),l[h+v+32*N]=-256&k?0>k?0:255:k}function $a(l,h,v,N,k,C){Gn(l,h,0,v,N+k),Gn(l,h,1,v,N+C),Gn(l,h,2,v,N-C),Gn(l,h,3,v,N-k)}function Zr(l){return(20091*l>>16)+l}function hl(l,h,v,N){var k,C=0,P=s(16);for(k=0;4>k;++k){var I=l[h+0]+l[h+8],R=l[h+0]-l[h+8],M=(35468*l[h+4]>>16)-Zr(l[h+12]),Q=Zr(l[h+4])+(35468*l[h+12]>>16);P[C+0]=I+Q,P[C+1]=R+M,P[C+2]=R-M,P[C+3]=I-Q,C+=4,h++}for(k=C=0;4>k;++k)I=(l=P[C+0]+4)+P[C+8],R=l-P[C+8],M=(35468*P[C+4]>>16)-Zr(P[C+12]),Gn(v,N,0,0,I+(Q=Zr(P[C+4])+(35468*P[C+12]>>16))),Gn(v,N,1,0,R+M),Gn(v,N,2,0,R-M),Gn(v,N,3,0,I-Q),C++,N+=32}function ru(l,h,v,N){var k=l[h+0]+4,C=35468*l[h+4]>>16,P=Zr(l[h+4]),I=35468*l[h+1]>>16;$a(v,N,0,k+P,l=Zr(l[h+1]),I),$a(v,N,1,k+C,l,I),$a(v,N,2,k-C,l,I),$a(v,N,3,k-P,l,I)}function qh(l,h,v,N,k){hl(l,h,v,N),k&&hl(l,h+16,v,N+4)}function nu(l,h,v,N){zi(l,h+0,v,N,1),zi(l,h+32,v,N+128,1)}function $h(l,h,v,N){var k;for(l=l[h+0]+4,k=0;4>k;++k)for(h=0;4>h;++h)Gn(v,N,h,k,l)}function iu(l,h,v,N){l[h+0]&&Hr(l,h+0,v,N),l[h+16]&&Hr(l,h+16,v,N+4),l[h+32]&&Hr(l,h+32,v,N+128),l[h+48]&&Hr(l,h+48,v,N+128+4)}function Hh(l,h,v,N){var k,C=s(16);for(k=0;4>k;++k){var P=l[h+0+k]+l[h+12+k],I=l[h+4+k]+l[h+8+k],R=l[h+4+k]-l[h+8+k],M=l[h+0+k]-l[h+12+k];C[0+k]=P+I,C[8+k]=P-I,C[4+k]=M+R,C[12+k]=M-R}for(k=0;4>k;++k)P=(l=C[0+4*k]+3)+C[3+4*k],I=C[1+4*k]+C[2+4*k],R=C[1+4*k]-C[2+4*k],M=l-C[3+4*k],v[N+0]=P+I>>3,v[N+16]=M+R>>3,v[N+32]=P-I>>3,v[N+48]=M-R>>3,N+=64}function fl(l,h,v){var N,k=h-32,C=mn,P=255-l[k-1];for(N=0;N<v;++N){var I,R=C,M=P+l[h-1];for(I=0;I<v;++I)l[h+I]=R[M+l[k+I]];h+=32}}function Wh(l,h){fl(l,h,4)}function Vh(l,h){fl(l,h,8)}function Gh(l,h){fl(l,h,16)}function Di(l,h){var v;for(v=0;16>v;++v)n(l,h+32*v,l,h-32,16)}function Ha(l,h){var v;for(v=16;0<v;--v)i(l,h,l[h-1],16),h+=32}function Wa(l,h,v){var N;for(N=0;16>N;++N)i(h,v+32*N,l,16)}function su(l,h){var v,N=16;for(v=0;16>v;++v)N+=l[h-1+32*v]+l[h+v-32];Wa(N>>5,l,h)}function Or(l,h){var v,N=8;for(v=0;16>v;++v)N+=l[h-1+32*v];Wa(N>>4,l,h)}function Jh(l,h){var v,N=8;for(v=0;16>v;++v)N+=l[h+v-32];Wa(N>>4,l,h)}function au(l,h){Wa(128,l,h)}function Ye(l,h,v){return l+2*h+v+2>>2}function Kh(l,h){var v,N=h-32;for(N=new Uint8Array([Ye(l[N-1],l[N+0],l[N+1]),Ye(l[N+0],l[N+1],l[N+2]),Ye(l[N+1],l[N+2],l[N+3]),Ye(l[N+2],l[N+3],l[N+4])]),v=0;4>v;++v)n(l,h+32*v,N,0,N.length)}function Yh(l,h){var v=l[h-1],N=l[h-1+32],k=l[h-1+64],C=l[h-1+96];Ae(l,h+0,16843009*Ye(l[h-1-32],v,N)),Ae(l,h+32,16843009*Ye(v,N,k)),Ae(l,h+64,16843009*Ye(N,k,C)),Ae(l,h+96,16843009*Ye(k,C,C))}function yi(l,h){var v,N=4;for(v=0;4>v;++v)N+=l[h+v-32]+l[h-1+32*v];for(N>>=3,v=0;4>v;++v)i(l,h+32*v,N,4)}function ou(l,h){var v=l[h-1+0],N=l[h-1+32],k=l[h-1+64],C=l[h-1-32],P=l[h+0-32],I=l[h+1-32],R=l[h+2-32],M=l[h+3-32];l[h+0+96]=Ye(N,k,l[h-1+96]),l[h+1+96]=l[h+0+64]=Ye(v,N,k),l[h+2+96]=l[h+1+64]=l[h+0+32]=Ye(C,v,N),l[h+3+96]=l[h+2+64]=l[h+1+32]=l[h+0+0]=Ye(P,C,v),l[h+3+64]=l[h+2+32]=l[h+1+0]=Ye(I,P,C),l[h+3+32]=l[h+2+0]=Ye(R,I,P),l[h+3+0]=Ye(M,R,I)}function lu(l,h){var v=l[h+1-32],N=l[h+2-32],k=l[h+3-32],C=l[h+4-32],P=l[h+5-32],I=l[h+6-32],R=l[h+7-32];l[h+0+0]=Ye(l[h+0-32],v,N),l[h+1+0]=l[h+0+32]=Ye(v,N,k),l[h+2+0]=l[h+1+32]=l[h+0+64]=Ye(N,k,C),l[h+3+0]=l[h+2+32]=l[h+1+64]=l[h+0+96]=Ye(k,C,P),l[h+3+32]=l[h+2+64]=l[h+1+96]=Ye(C,P,I),l[h+3+64]=l[h+2+96]=Ye(P,I,R),l[h+3+96]=Ye(I,R,R)}function Va(l,h){var v=l[h-1+0],N=l[h-1+32],k=l[h-1+64],C=l[h-1-32],P=l[h+0-32],I=l[h+1-32],R=l[h+2-32],M=l[h+3-32];l[h+0+0]=l[h+1+64]=C+P+1>>1,l[h+1+0]=l[h+2+64]=P+I+1>>1,l[h+2+0]=l[h+3+64]=I+R+1>>1,l[h+3+0]=R+M+1>>1,l[h+0+96]=Ye(k,N,v),l[h+0+64]=Ye(N,v,C),l[h+0+32]=l[h+1+96]=Ye(v,C,P),l[h+1+32]=l[h+2+96]=Ye(C,P,I),l[h+2+32]=l[h+3+96]=Ye(P,I,R),l[h+3+32]=Ye(I,R,M)}function pl(l,h){var v=l[h+0-32],N=l[h+1-32],k=l[h+2-32],C=l[h+3-32],P=l[h+4-32],I=l[h+5-32],R=l[h+6-32],M=l[h+7-32];l[h+0+0]=v+N+1>>1,l[h+1+0]=l[h+0+64]=N+k+1>>1,l[h+2+0]=l[h+1+64]=k+C+1>>1,l[h+3+0]=l[h+2+64]=C+P+1>>1,l[h+0+32]=Ye(v,N,k),l[h+1+32]=l[h+0+96]=Ye(N,k,C),l[h+2+32]=l[h+1+96]=Ye(k,C,P),l[h+3+32]=l[h+2+96]=Ye(C,P,I),l[h+3+64]=Ye(P,I,R),l[h+3+96]=Ye(I,R,M)}function Xh(l,h){var v=l[h-1+0],N=l[h-1+32],k=l[h-1+64],C=l[h-1+96];l[h+0+0]=v+N+1>>1,l[h+2+0]=l[h+0+32]=N+k+1>>1,l[h+2+32]=l[h+0+64]=k+C+1>>1,l[h+1+0]=Ye(v,N,k),l[h+3+0]=l[h+1+32]=Ye(N,k,C),l[h+3+32]=l[h+1+64]=Ye(k,C,C),l[h+3+64]=l[h+2+64]=l[h+0+96]=l[h+1+96]=l[h+2+96]=l[h+3+96]=C}function Qh(l,h){var v=l[h-1+0],N=l[h-1+32],k=l[h-1+64],C=l[h-1+96],P=l[h-1-32],I=l[h+0-32],R=l[h+1-32],M=l[h+2-32];l[h+0+0]=l[h+2+32]=v+P+1>>1,l[h+0+32]=l[h+2+64]=N+v+1>>1,l[h+0+64]=l[h+2+96]=k+N+1>>1,l[h+0+96]=C+k+1>>1,l[h+3+0]=Ye(I,R,M),l[h+2+0]=Ye(P,I,R),l[h+1+0]=l[h+3+32]=Ye(v,P,I),l[h+1+32]=l[h+3+64]=Ye(N,v,P),l[h+1+64]=l[h+3+96]=Ye(k,N,v),l[h+1+96]=Ye(C,k,N)}function Zh(l,h){var v;for(v=0;8>v;++v)n(l,h+32*v,l,h-32,8)}function ml(l,h){var v;for(v=0;8>v;++v)i(l,h,l[h-1],8),h+=32}function ra(l,h,v){var N;for(N=0;8>N;++N)i(h,v+32*N,l,8)}function ns(l,h){var v,N=8;for(v=0;8>v;++v)N+=l[h+v-32]+l[h-1+32*v];ra(N>>4,l,h)}function ef(l,h){var v,N=4;for(v=0;8>v;++v)N+=l[h+v-32];ra(N>>3,l,h)}function na(l,h){var v,N=4;for(v=0;8>v;++v)N+=l[h-1+32*v];ra(N>>3,l,h)}function gl(l,h){ra(128,l,h)}function Ga(l,h,v){var N=l[h-v],k=l[h+0],C=3*(k-N)+of[1020+l[h-2*v]-l[h+v]],P=bu[112+(C+4>>3)];l[h-v]=mn[255+N+bu[112+(C+3>>3)]],l[h+0]=mn[255+k-P]}function cu(l,h,v,N){var k=l[h+0],C=l[h+v];return Cn[255+l[h-2*v]-l[h-v]]>N||Cn[255+C-k]>N}function uu(l,h,v,N){return 4*Cn[255+l[h-v]-l[h+0]]+Cn[255+l[h-2*v]-l[h+v]]<=N}function du(l,h,v,N,k){var C=l[h-3*v],P=l[h-2*v],I=l[h-v],R=l[h+0],M=l[h+v],Q=l[h+2*v],ae=l[h+3*v];return 4*Cn[255+I-R]+Cn[255+P-M]>N?0:Cn[255+l[h-4*v]-C]<=k&&Cn[255+C-P]<=k&&Cn[255+P-I]<=k&&Cn[255+ae-Q]<=k&&Cn[255+Q-M]<=k&&Cn[255+M-R]<=k}function hu(l,h,v,N){var k=2*N+1;for(N=0;16>N;++N)uu(l,h+N,v,k)&&Ga(l,h+N,v)}function xi(l,h,v,N){var k=2*N+1;for(N=0;16>N;++N)uu(l,h+N*v,1,k)&&Ga(l,h+N*v,1)}function Ri(l,h,v,N){var k;for(k=3;0<k;--k)hu(l,h+=4*v,v,N)}function tf(l,h,v,N){var k;for(k=3;0<k;--k)xi(l,h+=4,v,N)}function is(l,h,v,N,k,C,P,I){for(C=2*C+1;0<k--;){if(du(l,h,v,C,P))if(cu(l,h,v,I))Ga(l,h,v);else{var R=l,M=h,Q=v,ae=R[M-2*Q],oe=R[M-Q],re=R[M+0],we=R[M+Q],me=R[M+2*Q],Z=27*(ye=of[1020+3*(re-oe)+of[1020+ae-we]])+63>>7,ee=18*ye+63>>7,ye=9*ye+63>>7;R[M-3*Q]=mn[255+R[M-3*Q]+ye],R[M-2*Q]=mn[255+ae+ee],R[M-Q]=mn[255+oe+Z],R[M+0]=mn[255+re-Z],R[M+Q]=mn[255+we-ee],R[M+2*Q]=mn[255+me-ye]}h+=N}}function Jn(l,h,v,N,k,C,P,I){for(C=2*C+1;0<k--;){if(du(l,h,v,C,P))if(cu(l,h,v,I))Ga(l,h,v);else{var R=l,M=h,Q=v,ae=R[M-Q],oe=R[M+0],re=R[M+Q],we=bu[112+((me=3*(oe-ae))+4>>3)],me=bu[112+(me+3>>3)],Z=we+1>>1;R[M-2*Q]=mn[255+R[M-2*Q]+Z],R[M-Q]=mn[255+ae+me],R[M+0]=mn[255+oe-we],R[M+Q]=mn[255+re-Z]}h+=N}}function vl(l,h,v,N,k,C){is(l,h,v,1,16,N,k,C)}function ia(l,h,v,N,k,C){is(l,h,1,v,16,N,k,C)}function rf(l,h,v,N,k,C){var P;for(P=3;0<P;--P)Jn(l,h+=4*v,v,1,16,N,k,C)}function Ja(l,h,v,N,k,C){var P;for(P=3;0<P;--P)Jn(l,h+=4,1,v,16,N,k,C)}function nf(l,h,v,N,k,C,P,I){is(l,h,k,1,8,C,P,I),is(v,N,k,1,8,C,P,I)}function yl(l,h,v,N,k,C,P,I){is(l,h,1,k,8,C,P,I),is(v,N,1,k,8,C,P,I)}function xl(l,h,v,N,k,C,P,I){Jn(l,h+4*k,k,1,8,C,P,I),Jn(v,N+4*k,k,1,8,C,P,I)}function fu(l,h,v,N,k,C,P,I){Jn(l,h+4,1,k,8,C,P,I),Jn(v,N+4,1,k,8,C,P,I)}function Ka(){this.ba=new qn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Wt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function wl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function pu(){this.ua=0,this.Wa=new G,this.vb=new G,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new W,this.yc=new T}function sf(){this.xb=this.a=0,this.l=new qa,this.ca=new qn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new E,this.Pb=0,this.wd=new E,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new pu,this.ab=0,this.gc=a(4,bl),this.Oc=0}function Ya(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new qa,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function sa(l,h,v,N,k,C,P){for(l=l==null?0:l[h+0],h=0;h<P;++h)k[C+h]=l+v[N+h]&255,l=k[C+h]}function Nl(l,h,v,N,k,C,P){var I;if(l==null)sa(null,null,v,N,k,C,P);else for(I=0;I<P;++I)k[C+I]=l[h+I]+v[N+I]&255}function ss(l,h,v,N,k,C,P){if(l==null)sa(null,null,v,N,k,C,P);else{var I,R=l[h+0],M=R,Q=R;for(I=0;I<P;++I)M=Q+(R=l[h+I])-M,Q=v[N+I]+(-256&M?0>M?0:255:M)&255,M=R,k[C+I]=Q}}function _l(l,h,v,N){var k=h.width,C=h.o;if(e(l!=null&&h!=null),0>v||0>=N||v+N>C)return null;if(!l.Cc){if(l.ga==null){var P;if(l.ga=new Ya,(P=l.ga==null)||(P=h.width*h.o,e(l.Gb.length==0),l.Gb=s(P),l.Uc=0,l.Gb==null?P=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,P=1),P=!P),!P){P=l.ga;var I=l.Fa,R=l.P,M=l.qc,Q=l.mb,ae=l.nb,oe=R+1,re=M-1,we=P.l;if(e(I!=null&&Q!=null&&h!=null),ds[0]=null,ds[1]=sa,ds[2]=Nl,ds[3]=ss,P.ca=Q,P.tb=ae,P.c=h.width,P.i=h.height,e(0<P.c&&0<P.i),1>=M)h=0;else if(P.$a=I[R+0]>>0&3,P.Z=I[R+0]>>2&3,P.Lc=I[R+0]>>4&3,R=I[R+0]>>6&3,0>P.$a||1<P.$a||4<=P.Z||1<P.Lc||R)h=0;else if(we.put=fi,we.ac=Sr,we.bc=pi,we.ma=P,we.width=h.width,we.height=h.height,we.Da=h.Da,we.v=h.v,we.va=h.va,we.j=h.j,we.o=h.o,P.$a)e:{e(P.$a==1),h=jn();t:for(;;){if(h==null){h=0;break e}if(e(P!=null),P.mc=h,h.c=P.c,h.i=P.i,h.l=P.l,h.l.ma=P,h.l.width=P.c,h.l.height=P.i,h.a=0,K(h.m,I,oe,re),!vi(P.c,P.i,1,h,null)||(h.ab==1&&h.gc[0].hc==3&&Ii(h.s)?(P.ic=1,I=h.c*h.i,h.Ta=null,h.Ua=0,h.V=s(I),h.Ba=0,h.V==null?(h.a=1,h=0):h=1):(P.ic=0,h=ta(h,P.c)),!h))break t;h=1;break e}P.mc=null,h=0}else h=re>=P.c*P.i;P=!h}if(P)return null;l.ga.Lc!=1?l.Ga=0:N=C-v}e(l.ga!=null),e(v+N<=C);e:{if(h=(I=l.ga).c,C=I.l.o,I.$a==0){if(oe=l.rc,re=l.Vc,we=l.Fa,R=l.P+1+v*h,M=l.mb,Q=l.nb+v*h,e(R<=l.P+l.qc),I.Z!=0)for(e(ds[I.Z]!=null),P=0;P<N;++P)ds[I.Z](oe,re,we,R,M,Q,h),oe=M,re=Q,Q+=h,R+=h;else for(P=0;P<N;++P)n(M,Q,we,R,h),oe=M,re=Q,Q+=h,R+=h;l.rc=oe,l.Vc=re}else{if(e(I.mc!=null),h=v+N,e((P=I.mc)!=null),e(h<=P.i),P.C>=h)h=1;else if(I.ic||ne(),I.ic){I=P.V,oe=P.Ba,re=P.c;var me=P.i,Z=(we=1,R=P.$/re,M=P.$%re,Q=P.m,ae=P.s,P.$),ee=re*me,ye=re*h,be=ae.wc,xe=Z<ye?ar(ae,M,R):null;e(Z<=ee),e(h<=me),e(Ii(ae));t:for(;;){for(;!Q.h&&Z<ye;){if(M&be||(xe=ar(ae,M,R)),e(xe!=null),te(Q),256>(me=Qr(xe.G[0],xe.H[0],Q)))I[oe+Z]=me,++Z,++M>=re&&(M=0,++R<=h&&!(R%16)&&Wn(P,R));else{if(!(280>me)){we=0;break t}me=$n(me-256,Q);var Fe,Ee=Qr(xe.G[4],xe.H[4],Q);if(te(Q),!(Z>=(Ee=mi(re,Ee=$n(Ee,Q)))&&ee-Z>=me)){we=0;break t}for(Fe=0;Fe<me;++Fe)I[oe+Z+Fe]=I[oe+Z+Fe-Ee];for(Z+=me,M+=me;M>=re;)M-=re,++R<=h&&!(R%16)&&Wn(P,R);Z<ye&&M&be&&(xe=ar(ae,M,R))}e(Q.h==V(Q))}Wn(P,R>h?h:R);break t}!we||Q.h&&Z<ee?(we=0,P.a=Q.h?5:3):P.$=Z,h=we}else h=Vn(P,P.V,P.Ba,P.c,P.i,h,Fa);if(!h){N=0;break e}}v+N>=C&&(l.Cc=1),N=1}if(!N)return null;if(l.Cc&&((N=l.ga)!=null&&(N.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+v*k}function g(l,h,v,N,k,C){for(;0<k--;){var P,I=l,R=h+(v?1:0),M=l,Q=h+(v?0:3);for(P=0;P<N;++P){var ae=M[Q+4*P];ae!=255&&(ae*=32897,I[R+4*P+0]=I[R+4*P+0]*ae>>23,I[R+4*P+1]=I[R+4*P+1]*ae>>23,I[R+4*P+2]=I[R+4*P+2]*ae>>23)}h+=C}}function A(l,h,v,N,k){for(;0<N--;){var C;for(C=0;C<v;++C){var P=l[h+2*C+0],I=15&(M=l[h+2*C+1]),R=4369*I,M=(240&M|M>>4)*R>>16;l[h+2*C+0]=(240&P|P>>4)*R>>16&240|(15&P|P<<4)*R>>16>>4&15,l[h+2*C+1]=240&M|I}h+=k}}function $(l,h,v,N,k,C,P,I){var R,M,Q=255;for(M=0;M<k;++M){for(R=0;R<N;++R){var ae=l[h+R];C[P+4*R]=ae,Q&=ae}h+=v,P+=I}return Q!=255}function Y(l,h,v,N,k){var C;for(C=0;C<k;++C)v[N+C]=l[h+C]>>8}function ne(){En=g,Ct=A,Pt=$,Zt=Y}function ge(l,h,v){L[l]=function(N,k,C,P,I,R,M,Q,ae,oe,re,we,me,Z,ee,ye,be){var xe,Fe=be-1>>1,Ee=I[R+0]|M[Q+0]<<16,$e=ae[oe+0]|re[we+0]<<16;e(N!=null);var Pe=3*Ee+$e+131074>>2;for(h(N[k+0],255&Pe,Pe>>16,me,Z),C!=null&&(Pe=3*$e+Ee+131074>>2,h(C[P+0],255&Pe,Pe>>16,ee,ye)),xe=1;xe<=Fe;++xe){var vt=I[R+xe]|M[Q+xe]<<16,wt=ae[oe+xe]|re[we+xe]<<16,ft=Ee+vt+$e+wt+524296,ut=ft+2*(vt+$e)>>3;Pe=ut+Ee>>1,Ee=(ft=ft+2*(Ee+wt)>>3)+vt>>1,h(N[k+2*xe-1],255&Pe,Pe>>16,me,Z+(2*xe-1)*v),h(N[k+2*xe-0],255&Ee,Ee>>16,me,Z+(2*xe-0)*v),C!=null&&(Pe=ft+$e>>1,Ee=ut+wt>>1,h(C[P+2*xe-1],255&Pe,Pe>>16,ee,ye+(2*xe-1)*v),h(C[P+2*xe+0],255&Ee,Ee>>16,ee,ye+(2*xe+0)*v)),Ee=vt,$e=wt}1&be||(Pe=3*Ee+$e+131074>>2,h(N[k+be-1],255&Pe,Pe>>16,me,Z+(be-1)*v),C!=null&&(Pe=3*$e+Ee+131074>>2,h(C[P+be-1],255&Pe,Pe>>16,ee,ye+(be-1)*v)))}}function Ne(){Pn[Nu]=X5,Pn[_u]=Gm,Pn[qm]=Q5,Pn[Su]=Jm,Pn[ju]=Km,Pn[lf]=Ym,Pn[$m]=Z5,Pn[cf]=Gm,Pn[uf]=Jm,Pn[ku]=Km,Pn[df]=Ym}function Te(l){return l&~ex?0>l?0:255:l>>Xm}function qe(l,h){return Te((19077*l>>8)+(26149*h>>8)-14234)}function rt(l,h,v){return Te((19077*l>>8)-(6419*h>>8)-(13320*v>>8)+8708)}function Ze(l,h){return Te((19077*l>>8)+(33050*h>>8)-17685)}function dt(l,h,v,N,k){N[k+0]=qe(l,v),N[k+1]=rt(l,h,v),N[k+2]=Ze(l,h)}function Ut(l,h,v,N,k){N[k+0]=Ze(l,h),N[k+1]=rt(l,h,v),N[k+2]=qe(l,v)}function Vt(l,h,v,N,k){var C=rt(l,h,v);h=C<<3&224|Ze(l,h)>>3,N[k+0]=248&qe(l,v)|C>>5,N[k+1]=h}function or(l,h,v,N,k){var C=240&Ze(l,h)|15;N[k+0]=240&qe(l,v)|rt(l,h,v)>>4,N[k+1]=C}function Ir(l,h,v,N,k){N[k+0]=255,dt(l,h,v,N,k+1)}function vr(l,h,v,N,k){Ut(l,h,v,N,k),N[k+3]=255}function Kn(l,h,v,N,k){dt(l,h,v,N,k),N[k+3]=255}function pn(l,h){return 0>l?0:l>h?h:l}function wi(l,h,v){L[l]=function(N,k,C,P,I,R,M,Q,ae){for(var oe=Q+(-2&ae)*v;Q!=oe;)h(N[k+0],C[P+0],I[R+0],M,Q),h(N[k+1],C[P+0],I[R+0],M,Q+v),k+=2,++P,++R,Q+=2*v;1&ae&&h(N[k+0],C[P+0],I[R+0],M,Q)}}function mu(l,h,v){return v==0?l==0?h==0?6:5:h==0?4:0:v}function Sl(l,h,v,N,k){switch(l>>>30){case 3:zi(h,v,N,k,0);break;case 2:Qt(h,v,N,k);break;case 1:Hr(h,v,N,k)}}function jl(l,h){var v,N,k=h.M,C=h.Nb,P=l.oc,I=l.pc+40,R=l.oc,M=l.pc+584,Q=l.oc,ae=l.pc+600;for(v=0;16>v;++v)P[I+32*v-1]=129;for(v=0;8>v;++v)R[M+32*v-1]=129,Q[ae+32*v-1]=129;for(0<k?P[I-1-32]=R[M-1-32]=Q[ae-1-32]=129:(i(P,I-32-1,127,21),i(R,M-32-1,127,9),i(Q,ae-32-1,127,9)),N=0;N<l.za;++N){var oe=h.ya[h.aa+N];if(0<N){for(v=-1;16>v;++v)n(P,I+32*v-4,P,I+32*v+12,4);for(v=-1;8>v;++v)n(R,M+32*v-4,R,M+32*v+4,4),n(Q,ae+32*v-4,Q,ae+32*v+4,4)}var re=l.Gd,we=l.Hd+N,me=oe.ad,Z=oe.Hc;if(0<k&&(n(P,I-32,re[we].y,0,16),n(R,M-32,re[we].f,0,8),n(Q,ae-32,re[we].ea,0,8)),oe.Za){var ee=P,ye=I-32+16;for(0<k&&(N>=l.za-1?i(ee,ye,re[we].y[15],4):n(ee,ye,re[we+1].y,0,4)),v=0;4>v;v++)ee[ye+128+v]=ee[ye+256+v]=ee[ye+384+v]=ee[ye+0+v];for(v=0;16>v;++v,Z<<=2)ee=P,ye=I+Zm[v],Yn[oe.Ob[v]](ee,ye),Sl(Z,me,16*+v,ee,ye)}else if(ee=mu(N,k,oe.Ob[0]),us[ee](P,I),Z!=0)for(v=0;16>v;++v,Z<<=2)Sl(Z,me,16*+v,P,I+Zm[v]);for(v=oe.Gc,ee=mu(N,k,oe.Dd),Ui[ee](R,M),Ui[ee](Q,ae),Z=me,ee=R,ye=M,255&(oe=v>>0)&&(170&oe?Cl(Z,256,ee,ye):An(Z,256,ee,ye)),oe=Q,Z=ae,255&(v>>=8)&&(170&v?Cl(me,320,oe,Z):An(me,320,oe,Z)),k<l.Ub-1&&(n(re[we].y,0,P,I+480,16),n(re[we].f,0,R,M+224,8),n(re[we].ea,0,Q,ae+224,8)),v=8*C*l.B,re=l.sa,we=l.ta+16*N+16*C*l.R,me=l.qa,oe=l.ra+8*N+v,Z=l.Ha,ee=l.Ia+8*N+v,v=0;16>v;++v)n(re,we+v*l.R,P,I+32*v,16);for(v=0;8>v;++v)n(me,oe+v*l.B,R,M+32*v,8),n(Z,ee+v*l.B,Q,ae+32*v,8)}}function Xa(l,h,v,N,k,C,P,I,R){var M=[0],Q=[0],ae=0,oe=R!=null?R.kd:0,re=R??new wl;if(l==null||12>v)return 7;re.data=l,re.w=h,re.ha=v,h=[h],v=[v],re.gb=[re.gb];e:{var we=h,me=v,Z=re.gb;if(e(l!=null),e(me!=null),e(Z!=null),Z[0]=0,12<=me[0]&&!r(l,we[0],"RIFF")){if(r(l,we[0]+8,"WEBP")){Z=3;break e}var ee=Ce(l,we[0]+4);if(12>ee||4294967286<ee){Z=3;break e}if(oe&&ee>me[0]-8){Z=7;break e}Z[0]=ee,we[0]+=12,me[0]-=12}Z=0}if(Z!=0)return Z;for(ee=0<re.gb[0],v=v[0];;){e:{var ye=l;me=h,Z=v;var be=M,xe=Q,Fe=we=[0];if((Pe=ae=[ae])[0]=0,8>Z[0])Z=7;else{if(!r(ye,me[0],"VP8X")){if(Ce(ye,me[0]+4)!=10){Z=3;break e}if(18>Z[0]){Z=7;break e}var Ee=Ce(ye,me[0]+8),$e=1+Ie(ye,me[0]+12);if(2147483648<=$e*(ye=1+Ie(ye,me[0]+15))){Z=3;break e}Fe!=null&&(Fe[0]=Ee),be!=null&&(be[0]=$e),xe!=null&&(xe[0]=ye),me[0]+=18,Z[0]-=18,Pe[0]=1}Z=0}}if(ae=ae[0],we=we[0],Z!=0)return Z;if(me=!!(2&we),!ee&&ae)return 3;if(C!=null&&(C[0]=!!(16&we)),P!=null&&(P[0]=me),I!=null&&(I[0]=0),P=M[0],we=Q[0],ae&&me&&R==null){Z=0;break}if(4>v){Z=7;break}if(ee&&ae||!ee&&!ae&&!r(l,h[0],"ALPH")){v=[v],re.na=[re.na],re.P=[re.P],re.Sa=[re.Sa];e:{Ee=l,Z=h,ee=v;var Pe=re.gb;be=re.na,xe=re.P,Fe=re.Sa,$e=22,e(Ee!=null),e(ee!=null),ye=Z[0];var vt=ee[0];for(e(be!=null),e(Fe!=null),be[0]=null,xe[0]=null,Fe[0]=0;;){if(Z[0]=ye,ee[0]=vt,8>vt){Z=7;break e}var wt=Ce(Ee,ye+4);if(4294967286<wt){Z=3;break e}var ft=8+wt+1&-2;if($e+=ft,0<Pe&&$e>Pe){Z=3;break e}if(!r(Ee,ye,"VP8 ")||!r(Ee,ye,"VP8L")){Z=0;break e}if(vt[0]<ft){Z=7;break e}r(Ee,ye,"ALPH")||(be[0]=Ee,xe[0]=ye+8,Fe[0]=wt),ye+=ft,vt-=ft}}if(v=v[0],re.na=re.na[0],re.P=re.P[0],re.Sa=re.Sa[0],Z!=0)break}v=[v],re.Ja=[re.Ja],re.xa=[re.xa];e:if(Pe=l,Z=h,ee=v,be=re.gb[0],xe=re.Ja,Fe=re.xa,Ee=Z[0],ye=!r(Pe,Ee,"VP8 "),$e=!r(Pe,Ee,"VP8L"),e(Pe!=null),e(ee!=null),e(xe!=null),e(Fe!=null),8>ee[0])Z=7;else{if(ye||$e){if(Pe=Ce(Pe,Ee+4),12<=be&&Pe>be-12){Z=3;break e}if(oe&&Pe>ee[0]-8){Z=7;break e}xe[0]=Pe,Z[0]+=8,ee[0]-=8,Fe[0]=$e}else Fe[0]=5<=ee[0]&&Pe[Ee+0]==47&&!(Pe[Ee+4]>>5),xe[0]=ee[0];Z=0}if(v=v[0],re.Ja=re.Ja[0],re.xa=re.xa[0],h=h[0],Z!=0)break;if(4294967286<re.Ja)return 3;if(I==null||me||(I[0]=re.xa?2:1),P=[P],we=[we],re.xa){if(5>v){Z=7;break}I=P,oe=we,me=C,l==null||5>v?l=0:5<=v&&l[h+0]==47&&!(l[h+4]>>5)?(ee=[0],Pe=[0],be=[0],K(xe=new E,l,h,v),Ve(xe,ee,Pe,be)?(I!=null&&(I[0]=ee[0]),oe!=null&&(oe[0]=Pe[0]),me!=null&&(me[0]=be[0]),l=1):l=0):l=0}else{if(10>v){Z=7;break}I=we,l==null||10>v||!Zc(l,h+3,v-3)?l=0:(oe=l[h+0]|l[h+1]<<8|l[h+2]<<16,me=16383&(l[h+7]<<8|l[h+6]),l=16383&(l[h+9]<<8|l[h+8]),1&oe||3<(oe>>1&7)||!(oe>>4&1)||oe>>5>=re.Ja||!me||!l?l=0:(P&&(P[0]=me),I&&(I[0]=l),l=1))}if(!l||(P=P[0],we=we[0],ae&&(M[0]!=P||Q[0]!=we)))return 3;R!=null&&(R[0]=re,R.offset=h-R.w,e(4294967286>h-R.w),e(R.offset==R.ha-v));break}return Z==0||Z==7&&ae&&R==null?(C!=null&&(C[0]|=re.na!=null&&0<re.na.length),N!=null&&(N[0]=P),k!=null&&(k[0]=we),0):Z}function kl(l,h,v){var N=h.width,k=h.height,C=0,P=0,I=N,R=k;if(h.Da=l!=null&&0<l.Da,h.Da&&(I=l.cd,R=l.bd,C=l.v,P=l.j,11>v||(C&=-2,P&=-2),0>C||0>P||0>=I||0>=R||C+I>N||P+R>k))return 0;if(h.v=C,h.j=P,h.va=C+I,h.o=P+R,h.U=I,h.T=R,h.da=l!=null&&0<l.da,h.da){if(!tt(I,R,v=[l.ib],C=[l.hb]))return 0;h.ib=v[0],h.hb=C[0]}return h.ob=l!=null&&l.ob,h.Kb=l==null||!l.Sd,h.da&&(h.ob=h.ib<3*N/4&&h.hb<3*k/4,h.Kb=0),1}function Al(l){if(l==null)return 2;if(11>l.S){var h=l.f.RGBA;h.fb+=(l.height-1)*h.A,h.A=-h.A}else h=l.f.kb,l=l.height,h.O+=(l-1)*h.fa,h.fa=-h.fa,h.N+=(l-1>>1)*h.Ab,h.Ab=-h.Ab,h.W+=(l-1>>1)*h.Db,h.Db=-h.Db,h.F!=null&&(h.J+=(l-1)*h.lb,h.lb=-h.lb);return 0}function Qa(l,h,v,N){if(N==null||0>=l||0>=h)return 2;if(v!=null){if(v.Da){var k=v.cd,C=v.bd,P=-2&v.v,I=-2&v.j;if(0>P||0>I||0>=k||0>=C||P+k>l||I+C>h)return 2;l=k,h=C}if(v.da){if(!tt(l,h,k=[v.ib],C=[v.hb]))return 2;l=k[0],h=C[0]}}N.width=l,N.height=h;e:{var R=N.width,M=N.height;if(l=N.S,0>=R||0>=M||!(l>=Nu&&13>l))l=2;else{if(0>=N.Rd&&N.sd==null){P=C=k=h=0;var Q=(I=R*eg[l])*M;if(11>l||(C=(M+1)/2*(h=(R+1)/2),l==12&&(P=(k=R)*M)),(M=s(Q+2*C+P))==null){l=1;break e}N.sd=M,11>l?((R=N.f.RGBA).eb=M,R.fb=0,R.A=I,R.size=Q):((R=N.f.kb).y=M,R.O=0,R.fa=I,R.Fd=Q,R.f=M,R.N=0+Q,R.Ab=h,R.Cd=C,R.ea=M,R.W=0+Q+C,R.Db=h,R.Ed=C,l==12&&(R.F=M,R.J=0+Q+2*C),R.Tc=P,R.lb=k)}if(h=1,k=N.S,C=N.width,P=N.height,k>=Nu&&13>k)if(11>k)l=N.f.RGBA,h&=(I=Math.abs(l.A))*(P-1)+C<=l.size,h&=I>=C*eg[k],h&=l.eb!=null;else{l=N.f.kb,I=(C+1)/2,Q=(P+1)/2,R=Math.abs(l.fa),M=Math.abs(l.Ab);var ae=Math.abs(l.Db),oe=Math.abs(l.lb),re=oe*(P-1)+C;h&=R*(P-1)+C<=l.Fd,h&=M*(Q-1)+I<=l.Cd,h=(h&=ae*(Q-1)+I<=l.Ed)&R>=C&M>=I&ae>=I,h&=l.y!=null,h&=l.f!=null,h&=l.ea!=null,k==12&&(h&=oe>=C,h&=re<=l.Tc,h&=l.F!=null)}else h=0;l=h?0:2}}return l!=0||v!=null&&v.fd&&(l=Al(N)),l}var jr=64,Za=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],eo=24,to=32,Ll=8,en=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Le("Predictor0","PredictorAdd0"),L.Predictor0=function(){return 4278190080},L.Predictor1=function(l){return l},L.Predictor2=function(l,h,v){return h[v+0]},L.Predictor3=function(l,h,v){return h[v+1]},L.Predictor4=function(l,h,v){return h[v-1]},L.Predictor5=function(l,h,v){return Oe(Oe(l,h[v+1]),h[v+0])},L.Predictor6=function(l,h,v){return Oe(l,h[v-1])},L.Predictor7=function(l,h,v){return Oe(l,h[v+0])},L.Predictor8=function(l,h,v){return Oe(h[v-1],h[v+0])},L.Predictor9=function(l,h,v){return Oe(h[v+0],h[v+1])},L.Predictor10=function(l,h,v){return Oe(Oe(l,h[v-1]),Oe(h[v+0],h[v+1]))},L.Predictor11=function(l,h,v){var N=h[v+0];return 0>=st(N>>24&255,l>>24&255,(h=h[v-1])>>24&255)+st(N>>16&255,l>>16&255,h>>16&255)+st(N>>8&255,l>>8&255,h>>8&255)+st(255&N,255&l,255&h)?N:l},L.Predictor12=function(l,h,v){var N=h[v+0];return(Be((l>>24&255)+(N>>24&255)-((h=h[v-1])>>24&255))<<24|Be((l>>16&255)+(N>>16&255)-(h>>16&255))<<16|Be((l>>8&255)+(N>>8&255)-(h>>8&255))<<8|Be((255&l)+(255&N)-(255&h)))>>>0},L.Predictor13=function(l,h,v){var N=h[v-1];return(Xe((l=Oe(l,h[v+0]))>>24&255,N>>24&255)<<24|Xe(l>>16&255,N>>16&255)<<16|Xe(l>>8&255,N>>8&255)<<8|Xe(l>>0&255,N>>0&255))>>>0};var af=L.PredictorAdd0;L.PredictorAdd1=at,Le("Predictor2","PredictorAdd2"),Le("Predictor3","PredictorAdd3"),Le("Predictor4","PredictorAdd4"),Le("Predictor5","PredictorAdd5"),Le("Predictor6","PredictorAdd6"),Le("Predictor7","PredictorAdd7"),Le("Predictor8","PredictorAdd8"),Le("Predictor9","PredictorAdd9"),Le("Predictor10","PredictorAdd10"),Le("Predictor11","PredictorAdd11"),Le("Predictor12","PredictorAdd12"),Le("Predictor13","PredictorAdd13");var El=L.PredictorAdd2;ot("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var gu,kn=L.ColorIndexInverseTransform,ro=L.MapARGB,vu=L.VP8LColorIndexInverseTransformAlpha,yu=L.MapAlpha,as=L.VP8LPredictorsAdd=[];as.length=16,(L.VP8LPredictors=[]).length=16,(L.VP8LPredictorsAdd_C=[]).length=16,(L.VP8LPredictors_C=[]).length=16;var aa,tn,$r,os,Ti,Fi,no,zi,Qt,Cl,Hr,An,io,xu,Pl,oa,la,ls,ca,so,ua,cs,Ol,Ln,En,Ct,Pt,Zt,fr=s(511),Mi=s(2041),Il=s(225),ao=s(767),wu=0,of=Mi,bu=Il,mn=ao,Cn=fr,Nu=0,_u=1,qm=2,Su=3,ju=4,lf=5,$m=6,cf=7,uf=8,ku=9,df=10,F5=[2,3,7],z5=[3,3,11],Hm=[280,256,256,256,40],M5=[0,1,1,1,0],U5=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],B5=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],q5=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$5=8,hf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ff=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Dl=null,H5=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],W5=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Wm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],V5=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],G5=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],J5=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],K5=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],Yn=[],Ui=[],Y5=1,Vm=2,ds=[],Pn=[];ge("UpsampleRgbLinePair",dt,3),ge("UpsampleBgrLinePair",Ut,3),ge("UpsampleRgbaLinePair",Kn,4),ge("UpsampleBgraLinePair",vr,4),ge("UpsampleArgbLinePair",Ir,4),ge("UpsampleRgba4444LinePair",or,2),ge("UpsampleRgb565LinePair",Vt,2);var X5=L.UpsampleRgbLinePair,Q5=L.UpsampleBgrLinePair,Gm=L.UpsampleRgbaLinePair,Jm=L.UpsampleBgraLinePair,Km=L.UpsampleArgbLinePair,Ym=L.UpsampleRgba4444LinePair,Z5=L.UpsampleRgb565LinePair,Au=16,Lu=1<<Au-1,Rl=-227,pf=482,Xm=6,ex=(256<<Xm)-1,Qm=0,tx=s(256),rx=s(256),nx=s(256),ix=s(256),sx=s(pf-Rl),ax=s(pf-Rl);wi("YuvToRgbRow",dt,3),wi("YuvToBgrRow",Ut,3),wi("YuvToRgbaRow",Kn,4),wi("YuvToBgraRow",vr,4),wi("YuvToArgbRow",Ir,4),wi("YuvToRgba4444Row",or,2),wi("YuvToRgb565Row",Vt,2);var Zm=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Eu=[0,2,8],ox=[8,7,6,4,4,2,2,2,1,1,1,1],lx=1;this.WebPDecodeRGBA=function(l,h,v,N,k){var C=_u,P=new Ka,I=new qn;P.ba=I,I.S=C,I.width=[I.width],I.height=[I.height];var R=I.width,M=I.height,Q=new Oi;if(Q==null||l==null)var ae=2;else e(Q!=null),ae=Xa(l,h,v,Q.width,Q.height,Q.Pd,Q.Qd,Q.format,null);if(ae!=0?R=0:(R!=null&&(R[0]=Q.width[0]),M!=null&&(M[0]=Q.height[0]),R=1),R){I.width=I.width[0],I.height=I.height[0],N!=null&&(N[0]=I.width),k!=null&&(k[0]=I.height);e:{if(N=new qa,(k=new wl).data=l,k.w=h,k.ha=v,k.kd=1,h=[0],e(k!=null),((l=Xa(k.data,k.w,k.ha,null,null,null,h,null,k))==0||l==7)&&h[0]&&(l=4),(h=l)==0){if(e(P!=null),N.data=k.data,N.w=k.w+k.offset,N.ha=k.ha-k.offset,N.put=fi,N.ac=Sr,N.bc=pi,N.ma=P,k.xa){if((l=jn())==null){P=1;break e}if(function(oe,re){var we=[0],me=[0],Z=[0];t:for(;;){if(oe==null)return 0;if(re==null)return oe.a=2,0;if(oe.l=re,oe.a=0,K(oe.m,re.data,re.w,re.ha),!Ve(oe.m,we,me,Z)){oe.a=3;break t}if(oe.xb=Vm,re.width=we[0],re.height=me[0],!vi(we[0],me[0],1,oe,null))break t;return 1}return e(oe.a!=0),0}(l,N)){if(N=(h=Qa(N.width,N.height,P.Oa,P.ba))==0){t:{N=l;r:for(;;){if(N==null){N=0;break t}if(e(N.s.yc!=null),e(N.s.Ya!=null),e(0<N.s.Wb),e((v=N.l)!=null),e((k=v.ma)!=null),N.xb!=0){if(N.ca=k.ba,N.tb=k.tb,e(N.ca!=null),!kl(k.Oa,v,Su)){N.a=2;break r}if(!ta(N,v.width)||v.da)break r;if((v.da||yt(N.ca.S))&&ne(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&ne()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!Ge(N.s.vb,N.s.Wa.Xa)){N.a=1;break r}N.xb=0}if(!Vn(N,N.V,N.Ba,N.c,N.i,v.o,Ta))break r;k.Dc=N.Ma,N=1;break t}e(N.a!=0),N=0}N=!N}N&&(h=l.a)}else h=l.a}else{if((l=new Uh)==null){P=1;break e}if(l.Fa=k.na,l.P=k.P,l.qc=k.Sa,eu(l,N)){if((h=Qa(N.width,N.height,P.Oa,P.ba))==0){if(l.Aa=0,v=P.Oa,e((k=l)!=null),v!=null){if(0<(R=0>(R=v.Md)?0:100<R?255:255*R/100)){for(M=Q=0;4>M;++M)12>(ae=k.pb[M]).lc&&(ae.ia=R*ox[0>ae.lc?0:ae.lc]>>3),Q|=ae.ia;Q&&(alert("todo:VP8InitRandom"),k.ia=1)}k.Ga=v.Id,100<k.Ga?k.Ga=100:0>k.Ga&&(k.Ga=0)}Bh(l,N)||(h=l.a)}}else h=l.a}h==0&&P.Oa!=null&&P.Oa.fd&&(h=Al(P.ba))}P=h}C=P!=0?null:11>C?I.f.RGBA.eb:I.f.kb.y}else C=null;return C};var eg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(L,U){for(var J="",D=0;D<4;D++)J+=String.fromCharCode(L[U++]);return J}function p(L,U){return(L[U+0]<<0|L[U+1]<<8|L[U+2]<<16)>>>0}function m(L,U){return(L[U+0]<<0|L[U+1]<<8|L[U+2]<<16|L[U+3]<<24)>>>0}new c;var y=[0],f=[0],b=[],_=new c,j=t,x=function(L,U){var J={},D=0,T=!1,B=0,W=0;if(J.frames=[],!function(q,V,X,te){for(var ce=0;ce<te;ce++)if(q[V+ce]!=X.charCodeAt(ce))return!0;return!1}(L,U,"RIFF",4)){var de,ue;for(m(L,U+=4),U+=8;U<L.length;){var pe=d(L,U),K=m(L,U+=4);U+=4;var ie=K+(1&K);switch(pe){case"VP8 ":case"VP8L":J.frames[D]===void 0&&(J.frames[D]={}),(E=J.frames[D]).src_off=T?W:U-8,E.src_size=B+K+8,D++,T&&(T=!1,B=0,W=0);break;case"VP8X":(E=J.header={}).feature_flags=L[U];var le=U+4;E.canvas_width=1+p(L,le),le+=3,E.canvas_height=1+p(L,le),le+=3;break;case"ALPH":T=!0,B=ie+8,W=U-8;break;case"ANIM":(E=J.header).bgcolor=m(L,U),le=U+4,E.loop_count=(de=L)[(ue=le)+0]<<0|de[ue+1]<<8,le+=2;break;case"ANMF":var _e,E;(E=J.frames[D]={}).offset_x=2*p(L,U),U+=3,E.offset_y=2*p(L,U),U+=3,E.width=1+p(L,U),U+=3,E.height=1+p(L,U),U+=3,E.duration=p(L,U),U+=3,_e=L[U++],E.dispose=1&_e,E.blend=_e>>1&1}pe!="ANMF"&&(U+=ie)}return J}}(j,0);x.response=j,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,S=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,y=[w.canvas_height],f=[w.canvas_width];for(var F=0;F<S.length&&S[F].blend!=0;F++);}var O=S[0],H=_.WebPDecodeRGBA(j,O.src_off,O.src_size,f,y);O.rgba=H,O.imgwidth=f[0],O.imgheight=y[0];for(var z=0;z<f[0]*y[0]*4;z++)b[z]=H[z];return this.width=f,this.height=y,this.data=b,this}(function(t){var e=function(){return typeof A0=="function"},r=function(y,f,b,_){var j=4,x=a;switch(_){case t.image_compression.FAST:j=1,x=s;break;case t.image_compression.MEDIUM:j=6,x=o;break;case t.image_compression.SLOW:j=9,x=c}y=n(y,f,b,x);var w=A0(y,{level:j});return t.__addimage__.arrayBufferToBinaryString(w)},n=function(y,f,b,_){for(var j,x,w,S=y.length/f,F=new Uint8Array(y.length+S),O=p(),H=0;H<S;H+=1){if(w=H*f,j=y.subarray(w,w+f),_)F.set(_(j,b,x),w+H);else{for(var z,L=O.length,U=[];z<L;z+=1)U[z]=O[z](j,b,x);var J=m(U.concat());F.set(U[J],w+H)}x=j}return F},i=function(y){var f=Array.apply([],y);return f.unshift(0),f},s=function(y,f){var b,_=[],j=y.length;_[0]=1;for(var x=0;x<j;x+=1)b=y[x-f]||0,_[x+1]=y[x]-b+256&255;return _},a=function(y,f,b){var _,j=[],x=y.length;j[0]=2;for(var w=0;w<x;w+=1)_=b&&b[w]||0,j[w+1]=y[w]-_+256&255;return j},o=function(y,f,b){var _,j,x=[],w=y.length;x[0]=3;for(var S=0;S<w;S+=1)_=y[S-f]||0,j=b&&b[S]||0,x[S+1]=y[S]+256-(_+j>>>1)&255;return x},c=function(y,f,b){var _,j,x,w,S=[],F=y.length;S[0]=4;for(var O=0;O<F;O+=1)_=y[O-f]||0,j=b&&b[O]||0,x=b&&b[O-f]||0,w=d(_,j,x),S[O+1]=y[O]-w+256&255;return S},d=function(y,f,b){if(y===f&&f===b)return y;var _=Math.abs(f-b),j=Math.abs(y-b),x=Math.abs(y+f-b-b);return _<=j&&_<=x?y:j<=x?f:b},p=function(){return[i,s,a,o,c]},m=function(y){var f=y.map(function(b){return b.reduce(function(_,j){return _+Math.abs(j)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(y,f,b,_){var j,x,w,S,F,O,H,z,L,U,J,D,T,B,W,de=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(w=new pS(y)).imgData,x=w.bits,j=w.colorSpace,F=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){L=(z=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,J=new Uint8Array(L*w.colors),U=new Uint8Array(L);var pe,K=w.pixelBitlength-w.bits;for(B=0,W=0;B<L;B++){for(T=z[B],pe=0;pe<K;)J[W++]=T>>>pe&255,pe+=w.bits;U[B]=T>>>pe&255}}if(w.bits===16){L=(z=new Uint32Array(w.decodePixels().buffer)).length,J=new Uint8Array(L*(32/w.pixelBitlength)*w.colors),U=new Uint8Array(L*(32/w.pixelBitlength)),D=w.colors>1,B=0,W=0;for(var ie=0;B<L;)T=z[B++],J[W++]=T>>>0&255,D&&(J[W++]=T>>>16&255,T=z[B++],J[W++]=T>>>0&255),U[ie++]=T>>>16&255;x=8}_!==t.image_compression.NONE&&e()?(y=r(J,w.width*w.colors,w.colors,_),H=r(U,w.width,1,_)):(y=J,H=U,de=void 0)}if(w.colorType===3&&(j=this.color_spaces.INDEXED,O=w.palette,w.transparency.indexed)){var le=w.transparency.indexed,_e=0;for(B=0,L=le.length;B<L;++B)_e+=le[B];if((_e/=255)===L-1&&le.indexOf(0)!==-1)S=[le.indexOf(0)];else if(_e!==L){for(z=w.decodePixels(),U=new Uint8Array(z.length),B=0,L=z.length;B<L;B++)U[B]=le[z[B]];H=r(U,w.width,1)}}var E=function(q){var V;switch(q){case t.image_compression.FAST:V=11;break;case t.image_compression.MEDIUM:V=13;break;case t.image_compression.SLOW:V=14;break;default:V=12}return V}(_);return de===this.decode.FLATE_DECODE&&(ue="/Predictor "+E+" "),ue+="/Colors "+F+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(H&&this.__addimage__.isArrayBuffer(H)||this.__addimage__.isArrayBufferView(H))&&(H=this.__addimage__.arrayBufferToBinaryString(H)),{alias:b,data:y,index:f,filter:de,decodeParameters:ue,transparency:S,palette:O,sMask:H,predictor:E,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:j}}}})(We.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new mS(e),a=s.width,o=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:a,height:o},p=new hp(100).encode(d,100);return t.processJPEG.call(this,p,r,n,i)},t.processGIF87A=t.processGIF89A}(We.API),ei.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ei.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Et.log("bit decode error:"+r)}},ei.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var c=this.palette[s>>7-o&1];this.data[a+4*o]=c.blue,this.data[a+4*o+1]=c.green,this.data[a+4*o+2]=c.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},ei.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,c=15&s,d=this.palette[o];if(this.data[a]=d.blue,this.data[a+1]=d.green,this.data[a+2]=d.red,this.data[a+3]=255,2*i+1>=this.width)break;d=this.palette[c],this.data[a+4]=d.blue,this.data[a+4+1]=d.green,this.data[a+4+2]=d.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ei.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ei.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,d=s>>15?255:0,p=n*this.width*4+4*i;this.data[p]=c,this.data[p+1]=o,this.data[p+2]=a,this.data[p+3]=d}this.pos+=t}},ei.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,c=(a>>5&r)/r*255|0,d=(a>>11)/e*255|0,p=i*this.width*4+4*s;this.data[p]=d,this.data[p+1]=c,this.data[p+2]=o,this.data[p+3]=255}this.pos+=t}},ei.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},ei.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},ei.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new ei(e,!1),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},d=new hp(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)}}(We.API),y2.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new y2(e),a=s.width,o=s.height,c={data:s.getData(),width:a,height:o},d=new hp(100).encode(c,100);return t.processJPEG.call(this,d,r,n,i)}}(We.API),We.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,c=0,d=0;d<i;d+=4){var p=n[d],m=n[d+1],y=n[d+2],f=n[d+3];s[o++]=p,s[o++]=m,s[o++]=y,a[c++]=f}var b=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:b,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},We.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xo=We.API,hd=xo.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,c=o.fof?o.fof:1,d=e.kerning?e.kerning:i.metadata.Unicode.kerning,p=d.fof?d.fof:1,m=e.doKerning!==!1,y=0,f=t.length,b=0,_=o[0]||c,j=[];for(r=0;r<f;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?j.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(y=m&&Nt(d[n])==="object"&&!isNaN(parseInt(d[n][b],10))?d[n][b]/p:0,j.push((o[n]||_)/c+y)),b=n;return j},p2=xo.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return xo.processArabic&&(t=xo.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:hd.apply(this,arguments).reduce(function(s,a){return s+a},0)},m2=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var c=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(c,s)),o=0,c=s),o+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},g2=function(t,e,r){r||(r={});var n,i,s,a,o,c,d,p=[],m=[p],y=r.textIndent||0,f=0,b=0,_=t.split(" "),j=hd.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?_[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),w=[];_.map(function(F){(F=F.split(/\s*\n/)).length>1?w=w.concat(F.map(function(O,H){return(H&&O.length?`
`:"")+O})):w.push(F[0])}),_=w,c=p2.apply(this,[x,r])}for(s=0,a=_.length;s<a;s++){var S=0;if(n=_[s],c&&n[0]==`
`&&(n=n.substr(1),S=1),y+f+(b=(i=hd.apply(this,[n,r])).reduce(function(F,O){return F+O},0))>e||S){if(b>e){for(o=m2.apply(this,[n,i,e-(y+f),e]),p.push(o.shift()),p=[o.pop()];o.length;)m.push([o.shift()]);b=i.slice(n.length-(p[0]?p[0].length:0)).reduce(function(F,O){return F+O},0)}else p=[n];m.push(p),y=b+c,f=j}else p.push(n),y+=f+b,f=j}return d=c?function(F,O){return(O?x:"")+F.join(" ")}:function(F){return F.join(" ")},m.map(d)},xo.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(p){if(p.widths&&p.kerning)return{widths:p.widths,kerning:p.kerning};var m=this.internal.getFont(p.fontName,p.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,c,d=[];for(o=0,c=n.length;o<c;o++)d=d.concat(g2.apply(this,[n[o],a,s]));return d},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(m){return"0x"+parseInt(m,10).toString(16)},a=t.__fontmetrics__.compress=function(m){var y,f,b,_,j=["{"];for(var x in m){if(y=m[x],isNaN(parseInt(x,10))?f="'"+x+"'":(x=parseInt(x,10),f=(f=s(x).slice(2)).slice(0,-1)+n[f.slice(-1)]),typeof y=="number")y<0?(b=s(y).slice(3),_="-"):(b=s(y).slice(2),_=""),b=_+b.slice(0,-1)+n[b.slice(-1)];else{if(Nt(y)!=="object")throw new Error("Don't know what to do with value type "+Nt(y)+".");b=a(y)}j.push(f+b)}return j.push("}"),j.join("")},o=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,f,b,_,j={},x=1,w=j,S=[],F="",O="",H=m.length-1,z=1;z<H;z+=1)(_=m[z])=="'"?y?(b=y.join(""),y=void 0):y=[]:y?y.push(_):_=="{"?(S.push([w,b]),w={},b=void 0):_=="}"?((f=S.pop())[0][f[1]]=w,b=void 0,w=f[0]):_=="-"?x=-1:b===void 0?r.hasOwnProperty(_)?(F+=r[_],b=parseInt(F,16)*x,x=1,F=""):F+=_:r.hasOwnProperty(_)?(O+=r[_],w[b]=parseInt(O,16)*x,x=1,b=void 0,O=""):O+=_;return j},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},p={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var y=m.font,f=p.Unicode[y.postScriptName];f&&(y.metadata.Unicode={},y.metadata.Unicode.widths=f.widths,y.metadata.Unicode.kerning=f.kerning);var b=d.Unicode[y.postScriptName];b&&(y.metadata.Unicode.encoding=b,y.encoding=b.codePages[0])}])}(We.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(yc(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(We),function(t){function e(){return(Je.canvg?Promise.resolve(Je.canvg):Hs(()=>import("./index.es-86eec119.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}We.API.addSvgAsImage=function(r,n,i,s,a,o,c,d){if(isNaN(n)||isNaN(i))throw Et.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Et.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var p=document.createElement("canvas");p.width=s,p.height=a;var m=p.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,p.width,p.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(b){return b.fromString(m,r,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(b){return b.render(y)}).then(function(){f.addImage(p.toDataURL("image/jpeg",1),n,i,s,a,c,d)})}}(),We.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},We.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),c=[],d=0,p=0,m=0;function y(b,_){var j,x=!1;for(j=0;j<b.length;j+=1)b[j]===_&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=o.length;for(m=0;m<f;m+=1)r[o[m]].value=r[o[m]].defaultValue,r[o[m]].explicitSet=!1}if(Nt(t)==="object"){for(i in t)if(s=t[i],y(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&y(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(d=0;d<s.length;d+=1)if(n=!0,s[d].length===1&&typeof s[d][0]=="number")c.push(String(s[d]-1));else if(s[d].length>1){for(p=0;p<s[d].length;p+=1)typeof s[d][p]!="number"&&(n=!1);n===!0&&c.push([s[d][0]-1,s[d][1]-1].join(" "))}r[i].value="["+c.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var b,_=[];for(b in r)r[b].explicitSet===!0&&(r[b].type==="name"?_.push("/"+b+" /"+r[b].value):_.push("/"+b+" "+r[b].value));_.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+_.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=s.length+a.length+o.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(We.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,c=a.metadata.Unicode.widths,d=["","0","00","000","0000"],p=[""],m=0,y=s.length;m<y;++m){if(o=a.metadata.characterToGlyph(s.charCodeAt(m)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(m),c.indexOf(o)==-1&&(c.push(o),c.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return p.join("");o=o.toString(16),p.push(d[4-o.length],o)}return p.join("")},n=function(s){var a,o,c,d,p,m,y;for(p=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,y=(o=Object.keys(s).sort(function(f,b){return f-b})).length;m<y;m++)a=o[m],c.length>=100&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(d=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),c.push("<"+a+"><"+d+">"));return c.length&&(p+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),p+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,d=a.newObject,p=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var m=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),f="",b=0;b<y.length;b++)f+=String.fromCharCode(y[b]);var _=d();p({data:f,addLength1:!0,objectId:_}),c("endobj");var j=d();p({data:n(o.metadata.toUnicode),addLength1:!0,objectId:j}),c("endobj");var x=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+_o(o.fontName)),c("/FontFile2 "+_+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/Flags "+o.metadata.flags),c("/StemV "+o.metadata.stemV),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c(">>"),c("endobj");var w=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+_o(o.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+o.encoding+")"),c(">>"),c(">>"),c("endobj"),o.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+j+" 0 R"),c("/BaseFont /"+_o(o.fontName)),c("/Encoding /"+o.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,c=a.out,d=a.newObject,p=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var m=o.metadata.rawData,y="",f=0;f<m.length;f++)y+=String.fromCharCode(m[f]);var b=d();p({data:y,addLength1:!0,objectId:b}),c("endobj");var _=d();p({data:n(o.metadata.toUnicode),addLength1:!0,objectId:_}),c("endobj");var j=d();c("<<"),c("/Descent "+o.metadata.decender),c("/CapHeight "+o.metadata.capHeight),c("/StemV "+o.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+b+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),c("/FontName /"+_o(o.fontName)),c("/ItalicAngle "+o.metadata.italicAngle),c("/Ascent "+o.metadata.ascender),c(">>"),c("endobj"),o.objectNumber=d();for(var x=0;x<o.metadata.hmtx.widths.length;x++)o.metadata.hmtx.widths[x]=parseInt(o.metadata.hmtx.widths[x]*(1e3/o.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+_+" 0 R/BaseFont/"+_o(o.fontName)+"/FontDescriptor "+j+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),c("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",c=s.x,d=s.y,p=s.options||{},m=s.mutex||{},y=m.pdfEscape,f=m.activeFontKey,b=m.fonts,_=f,j="",x=0,w="",S=b[_].encoding;if(b[_].encoding!=="Identity-H")return{text:o,x:c,y:d,options:p,mutex:m};for(w=o,_=f,Array.isArray(o)&&(w=o[0]),x=0;x<w.length;x+=1)b[_].metadata.hasOwnProperty("cmap")&&(a=b[_].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),a||w[x].charCodeAt(0)<256&&b[_].metadata.hasOwnProperty("Unicode")?j+=w[x]:j+="";var F="";return parseInt(_.slice(1))<14||S==="WinAnsiEncoding"?F=y(j,_).split("").map(function(O){return O.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(F=r(j,b[_])),m.isHex=!0,{text:F,x:c,y:d,options:p,mutex:m}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],c={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var d=0;for(d=0;d<a.length;d+=1)Array.isArray(a[d])&&a[d].length===3?o.push([i(Object.assign({},c,{text:a[d][0]})).text,a[d][1],a[d][2]]):o.push(i(Object.assign({},c,{text:a[d]})).text);s.text=o}else s.text=i(Object.assign({},c,{text:a})).text}])}(We),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(We.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,c,d,p,m=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],b={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},_={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},j=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,S=0;this.__bidiEngine__={};var F=function(D){var T=D.charCodeAt(),B=T>>8,W=_[B];return W!==void 0?m[256*W+(255&T)]:B===252||B===253?"AL":x.test(B)?"L":B===8?"R":"N"},O=function(D){for(var T,B=0;B<D.length;B++){if((T=F(D.charAt(B)))==="L")return!1;if(T==="R")return!0}return!1},H=function(D,T,B,W){var de,ue,pe,K,ie=T[W];switch(ie){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(ie="AN");break;case"AL":w=!0,ie="R";break;case"WS":ie="N";break;case"CS":W<1||W+1>=T.length||(de=B[W-1])!=="EN"&&de!=="AN"||(ue=T[W+1])!=="EN"&&ue!=="AN"?ie="N":w&&(ue="AN"),ie=ue===de?ue:"N";break;case"ES":ie=(de=W>0?B[W-1]:"B")==="EN"&&W+1<T.length&&T[W+1]==="EN"?"EN":"N";break;case"ET":if(W>0&&B[W-1]==="EN"){ie="EN";break}if(w){ie="N";break}for(pe=W+1,K=T.length;pe<K&&T[pe]==="ET";)pe++;ie=pe<K&&T[pe]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(K=T.length,pe=W+1;pe<K&&T[pe]==="NSM";)pe++;if(pe<K){var le=D[W],_e=le>=1425&&le<=2303||le===64286;if(de=T[pe],_e&&(de==="R"||de==="AL")){ie="R";break}}}ie=W<1||(de=T[W-1])==="B"?"N":B[W-1];break;case"B":w=!1,i=!0,ie=S;break;case"S":s=!0,ie="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":ie="N"}return ie},z=function(D,T,B){var W=D.split("");return B&&L(W,B,{hiLevel:S}),W.reverse(),T&&T.reverse(),W.join("")},L=function(D,T,B){var W,de,ue,pe,K,ie=-1,le=D.length,_e=0,E=[],q=S?f:y,V=[];for(w=!1,i=!1,s=!1,de=0;de<le;de++)V[de]=F(D[de]);for(ue=0;ue<le;ue++){if(K=_e,E[ue]=H(D,V,E,ue),W=240&(_e=q[K][b[E[ue]]]),_e&=15,T[ue]=pe=q[_e][5],W>0)if(W===16){for(de=ie;de<ue;de++)T[de]=1;ie=-1}else ie=-1;if(q[_e][6])ie===-1&&(ie=ue);else if(ie>-1){for(de=ie;de<ue;de++)T[de]=pe;ie=-1}V[ue]==="B"&&(T[ue]=0),B.hiLevel|=pe}s&&function(X,te,ce){for(var he=0;he<ce;he++)if(X[he]==="S"){te[he]=S;for(var fe=he-1;fe>=0&&X[fe]==="WS";fe--)te[fe]=S}}(V,T,le)},U=function(D,T,B,W,de){if(!(de.hiLevel<D)){if(D===1&&S===1&&!i)return T.reverse(),void(B&&B.reverse());for(var ue,pe,K,ie,le=T.length,_e=0;_e<le;){if(W[_e]>=D){for(K=_e+1;K<le&&W[K]>=D;)K++;for(ie=_e,pe=K-1;ie<pe;ie++,pe--)ue=T[ie],T[ie]=T[pe],T[pe]=ue,B&&(ue=B[ie],B[ie]=B[pe],B[pe]=ue);_e=K}_e++}}},J=function(D,T,B){var W=D.split(""),de={hiLevel:S};return B||(B=[]),L(W,B,de),function(ue,pe,K){if(K.hiLevel!==0&&p)for(var ie,le=0;le<ue.length;le++)pe[le]===1&&(ie=j.indexOf(ue[le]))>=0&&(ue[le]=j[ie+1])}(W,B,de),U(2,W,T,B,de),U(1,W,T,B,de),W.join("")};return this.__bidiEngine__.doBidiReorder=function(D,T,B){if(function(de,ue){if(ue)for(var pe=0;pe<de.length;pe++)ue[pe]=pe;o===void 0&&(o=O(de)),d===void 0&&(d=O(de))}(D,T),a||!c||d)if(a&&c&&o^d)S=o?1:0,D=z(D,T,B);else if(!a&&c&&d)S=o?1:0,D=J(D,T,B),D=z(D,T);else if(!a||o||c||d){if(a&&!c&&o^d)D=z(D,T),o?(S=0,D=J(D,T,B)):(S=1,D=J(D,T,B),D=z(D,T));else if(a&&o&&!c&&d)S=1,D=J(D,T,B),D=z(D,T);else if(!a&&!c&&o^d){var W=p;o?(S=1,D=J(D,T,B),S=0,p=!1,D=J(D,T,B),p=W):(S=0,D=J(D,T,B),D=z(D,T),S=1,p=!1,D=J(D,T,B),p=W,D=z(D,T))}}else S=0,D=J(D,T,B);else S=o?1:0,D=J(D,T,B);return D},this.__bidiEngine__.setOptions=function(D){D&&(a=D.isInputVisual,c=D.isOutputVisual,o=D.isInputRtl,d=D.isOutputRtl,p=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),a=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(We),We.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Vs(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new CS(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new gS(this.contents),this.head=new yS(this),this.name=new _S(this),this.cmap=new R5(this),this.toUnicode={},this.hhea=new xS(this),this.maxp=new SS(this),this.hmtx=new jS(this),this.post=new bS(this),this.os2=new wS(this),this.loca=new ES(this),this.glyf=new kS(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,c,d;for(d=[],a=0,o=(c=this.bbox).length;a<o;a++)e=c[a],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var di,Vs=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),gS=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,c,d,p,m,y,f,b,_;for(_ in f=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(f)/c),a=Math.floor(m/c),p=16*f-m,(i=new Vs).writeInt(this.scalarType),i.writeShort(f),i.writeShort(m),i.writeShort(a),i.writeShort(p),s=16*f,d=i.pos+s,o=null,b=[],r)for(y=r[_],i.writeString(_),i.writeInt(t(y)),i.writeInt(d),i.writeInt(y.length),b=b.concat(y),_==="head"&&(o=d),d+=y.length;d%4;)b.push(0),d++;return i.write(b),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=T5.call(r);r.length%4;)r.push(0);for(s=new Vs(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),vS={}.hasOwnProperty,Pi=function(t,e){for(var r in e)vS.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};di=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var yS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Vs).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),x2=function(){function t(e,r){var n,i,s,a,o,c,d,p,m,y,f,b,_,j,x,w,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),y=f/2,e.pos+=6,s=function(){var F,O;for(O=[],c=F=0;0<=y?F<y:F>y;c=0<=y?++F:--F)O.push(e.readUInt16());return O}(),e.pos+=2,_=function(){var F,O;for(O=[],c=F=0;0<=y?F<y:F>y;c=0<=y?++F:--F)O.push(e.readUInt16());return O}(),d=function(){var F,O;for(O=[],c=F=0;0<=y?F<y:F>y;c=0<=y?++F:--F)O.push(e.readUInt16());return O}(),p=function(){var F,O;for(O=[],c=F=0;0<=y?F<y:F>y;c=0<=y?++F:--F)O.push(e.readUInt16());return O}(),i=(this.length-e.pos+this.offset)/2,o=function(){var F,O;for(O=[],c=F=0;0<=i?F<i:F>i;c=0<=i?++F:--F)O.push(e.readUInt16());return O}(),c=x=0,S=s.length;x<S;c=++x)for(j=s[c],n=w=b=_[c];b<=j?w<=j:w>=j;n=b<=j?++w:--w)p[c]===0?a=n+d[c]:(a=o[p[c]/2+(n-b)-(y-c)]||0)!==0&&(a+=d[c]),this.codeMap[n]=65535&a}e.pos=m}return t.encode=function(e,r){var n,i,s,a,o,c,d,p,m,y,f,b,_,j,x,w,S,F,O,H,z,L,U,J,D,T,B,W,de,ue,pe,K,ie,le,_e,E,q,V,X,te,ce,he,fe,Ae,ke,Ie;switch(W=new Vs,a=Object.keys(e).sort(function(Ce,Ge){return Ce-Ge}),r){case"macroman":for(_=0,j=function(){var Ce=[];for(b=0;b<256;++b)Ce.push(0);return Ce}(),w={0:0},s={},de=0,ie=a.length;de<ie;de++)w[fe=e[i=a[de]]]==null&&(w[fe]=++_),s[i]={old:e[i],new:w[e[i]]},j[i]=w[e[i]];return W.writeUInt16(1),W.writeUInt16(0),W.writeUInt32(12),W.writeUInt16(0),W.writeUInt16(262),W.writeUInt16(0),W.write(j),{charMap:s,subtable:W.data,maxGlyphID:_+1};case"unicode":for(T=[],m=[],S=0,w={},n={},x=d=null,ue=0,le=a.length;ue<le;ue++)w[O=e[i=a[ue]]]==null&&(w[O]=++S),n[i]={old:O,new:w[O]},o=w[O]-i,x!=null&&o===d||(x&&m.push(x),T.push(i),d=o),x=i;for(x&&m.push(x),m.push(65535),T.push(65535),J=2*(U=T.length),L=2*Math.pow(Math.log(U)/Math.LN2,2),y=Math.log(L/2)/Math.LN2,z=2*U-L,c=[],H=[],f=[],b=pe=0,_e=T.length;pe<_e;b=++pe){if(D=T[b],p=m[b],D===65535){c.push(0),H.push(0);break}if(D-(B=n[D].new)>=32768)for(c.push(0),H.push(2*(f.length+U-b)),i=K=D;D<=p?K<=p:K>=p;i=D<=p?++K:--K)f.push(n[i].new);else c.push(B-D),H.push(0)}for(W.writeUInt16(3),W.writeUInt16(1),W.writeUInt32(12),W.writeUInt16(4),W.writeUInt16(16+8*U+2*f.length),W.writeUInt16(0),W.writeUInt16(J),W.writeUInt16(L),W.writeUInt16(y),W.writeUInt16(z),ce=0,E=m.length;ce<E;ce++)i=m[ce],W.writeUInt16(i);for(W.writeUInt16(0),he=0,q=T.length;he<q;he++)i=T[he],W.writeUInt16(i);for(Ae=0,V=c.length;Ae<V;Ae++)o=c[Ae],W.writeUInt16(o);for(ke=0,X=H.length;ke<X;ke++)F=H[ke],W.writeUInt16(F);for(Ie=0,te=f.length;Ie<te;Ie++)_=f[Ie],W.writeUInt16(_);return{charMap:n,subtable:W.data,maxGlyphID:S+1}}},t}(),R5=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new x2(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=x2.encode(r,n),(s=new Vs).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),xS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),wS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),bS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,c,d;for(d=[],a=o=0,c=this.file.maxp.numGlyphs;0<=c?o<c:o>c;a=0<=c?++o:--o)d.push(r.readUInt32());return d}).call(this)}},e}(),NS=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},_S=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,c,d,p,m,y,f;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(d={},a=m=0,y=i.length;m<y;a=++m)s=i[a],r.pos=s.offset,p=r.readString(s.length),o=new NS(p,s),d[f=s.nameID]==null&&(d[f]=[]),d[s.nameID].push(o);this.strings=d,this.copyright=d[0],this.fontFamily=d[1],this.fontSubfamily=d[2],this.uniqueSubfamily=d[3],this.fontName=d[4],this.version=d[5];try{this.postscriptName=d[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=d[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=d[7],this.manufacturer=d[8],this.designer=d[9],this.description=d[10],this.vendorUrl=d[11],this.designerUrl=d[12],this.license=d[13],this.licenseUrl=d[14],this.preferredFamily=d[15],this.preferredSubfamily=d[17],this.compatibleFull=d[18],this.sampleText=d[19]},e}(),SS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),jS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,c,d;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var p,m;for(m=[],n=p=0;0<=s?p<s:p>s;n=0<=s?++p:--p)m.push(r.readInt16());return m}(),this.widths=(function(){var p,m,y,f;for(f=[],p=0,m=(y=this.metrics).length;p<m;p++)a=y[p],f.push(a.advance);return f}).call(this),i=this.widths[this.widths.length-1],d=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)d.push(this.widths.push(i));return d},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),T5=[].slice,kS=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,c,d,p,m,y;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(c=new Vs(n.read(s))).readShort(),p=c.readShort(),y=c.readShort(),d=c.readShort(),m=c.readShort(),this.cache[r]=o===-1?new LS(c,p,y,d,m):new AS(c,o,p,y,d,m),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,c,d;for(o=[],a=[],c=0,d=n.length;c<d;c++)s=r[n[c]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),AS=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),LS=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Vs(T5.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),ES=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Pi(e,di),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var c=this.offsets[o],d=this.offsets[o+1]-c;d>0&&(s+=d)}for(var p=new Array(4*i.length),m=0;m<i.length;++m)p[4*m+3]=255&i[m],p[4*m+2]=(65280&i[m])>>8,p[4*m+1]=(16711680&i[m])>>16,p[4*m]=(4278190080&i[m])>>24;return p},e}(),CS=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,c;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,c,d,p,m,y,f,b,_,j,x;for(i in n=R5.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),f={0:0},x=n.charMap)f[(c=x[i]).old]=c.new;for(b in y=n.maxGlyphID,a)b in f||(f[b]=y++);return p=function(w){var S,F;for(S in F={},w)F[w[S]]=S;return F}(f),m=Object.keys(p).sort(function(w,S){return w-S}),_=function(){var w,S,F;for(F=[],w=0,S=m.length;w<S;w++)o=m[w],F.push(p[o]);return F}(),s=this.font.glyf.encode(a,_,f),d=this.font.loca.encode(s.offsets,_),j={cmap:this.font.cmap.raw(),glyf:s.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(j["OS/2"]=this.font.os2.raw()),this.font.directory.encode(j)},t}();We.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,c,d;for(d=[],o=0,c=r.length;o<c;o++)n=r[o],d.push(e.convert(n));return d}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();const PS=({order:t,isOpen:e,onClose:r})=>{const{sources:n,designers:i,pickups:s}=dr(),[a,o]=se.useState([]),[c,d]=se.useState(""),[p,m]=se.useState(!1),y=t?n.find(O=>O.id===t.sourceId):null,f=t?i.find(O=>O.id===t.designerId):null,b=t!=null&&t.pickupId?s.find(O=>O.id===t.pickupId):null;se.useEffect(()=>{if(t){const O=localStorage.getItem(`order-notes-${t.id}`);o(O?JSON.parse(O).map(H=>({...H,timestamp:new Date(H.timestamp)})):[])}},[t]);const _=O=>{t&&localStorage.setItem(`order-notes-${t.id}`,JSON.stringify(O))},j=()=>{if(c.trim()&&t){const H=[{id:Date.now().toString(),text:c.trim(),timestamp:new Date,author:"User"},...a];o(H),_(H),d(""),m(!1)}},x=O=>{if(confirm("Are you sure you want to delete this note?")){const H=a.filter(z=>z.id!==O);o(H),_(H)}},w=O=>{switch(O){case Yt.PENDING:return"bg-gray-100 text-gray-800";case Yt.IN_PROGRESS:return"bg-blue-100 text-blue-800";case Yt.READY_FOR_PICKUP:return"bg-yellow-100 text-yellow-800";case Yt.PICKED_UP:return"bg-orange-100 text-orange-800";case Yt.IN_TRANSIT:return"bg-purple-100 text-purple-800";case Yt.DELIVERED:return"bg-green-100 text-green-800";case Yt.CANCELLED:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},S=O=>{switch(O){case Gr.LOW:return"bg-gray-100 text-gray-800";case Gr.STANDARD:return"bg-blue-100 text-blue-800";case Gr.HIGH:return"bg-orange-100 text-orange-800";case Gr.URGENT:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},F=()=>{if(!t)return;const O=new We,H=O.internal.pageSize.getWidth(),z=O.internal.pageSize.getHeight();let L=20;O.setFontSize(20),O.setFont("helvetica","bold"),O.text("ORDER DETAILS",H/2,L,{align:"center"}),L+=15,O.setFontSize(14),O.setFont("helvetica","bold"),O.text("Order Information",20,L),L+=10,O.setFontSize(10),O.setFont("helvetica","normal"),O.text(`Job Name: ${t.jobName}`,20,L),L+=7,O.text(`Job Number: ${t.jobNumber}`,20,L),L+=7,O.text(`Order Number: ${t.orderNumber}`,20,L),L+=7,O.text(`Purchase Order: ${t.purchaseOrder}`,20,L),L+=7,O.text(`Cost: $${t.cost.toLocaleString()}`,20,L),L+=7,O.text(`Status: ${t.status.replace("_"," ").replace(/\b\w/g,U=>U.toUpperCase())}`,20,L),L+=7,O.text(`Priority: ${t.priority.charAt(0).toUpperCase()+t.priority.slice(1)}`,20,L),L+=15,L>z-60&&(O.addPage(),L=20),O.setFontSize(14),O.setFont("helvetica","bold"),O.text("Related Entities",20,L),L+=10,O.setFontSize(10),O.setFont("helvetica","normal"),f&&(O.text(`Designer: ${f.name}`,20,L),L+=7,f.email&&(O.text(`Email: ${f.email}`,20,L),L+=7),f.phone&&(O.text(`Phone: ${f.phone}`,20,L),L+=7),L+=5),y&&(L>z-60&&(O.addPage(),L=20),O.text(`Source: ${y.name}`,20,L),L+=7,y.address&&(O.text(`Address: ${y.address}`,20,L),L+=7),y.phoneNumber&&(O.text(`Phone: ${y.phoneNumber}`,20,L),L+=7),L+=5),L>z-60&&(O.addPage(),L=20),O.text(`Destination: ${t.destinationName}`,20,L),L+=7,b&&(L>z-60&&(O.addPage(),L=20),O.text(`Pickup: ${b.name}`,20,L),L+=7,O.text(`Scheduled Date: ${new Date(b.scheduledDate).toLocaleDateString()}`,20,L),L+=15),L>z-80&&(O.addPage(),L=20),O.setFontSize(14),O.setFont("helvetica","bold"),O.text("Notes",20,L),L+=10,a.length===0?(O.setFontSize(10),O.setFont("helvetica","normal"),O.text("No notes available.",20,L)):(O.setFontSize(10),O.setFont("helvetica","normal"),a.forEach((U,J)=>{L>z-40&&(O.addPage(),L=20),O.text(`Note ${J+1}:`,20,L),L+=7,O.text(`Date: ${U.timestamp.toLocaleString()}`,20,L),L+=7,O.text(`Author: ${U.author}`,20,L),L+=7,O.text(`Content: ${U.text}`,20,L),L+=10})),O.setFontSize(8),O.setFont("helvetica","normal"),O.text(`Generated on: ${new Date().toLocaleString()}`,20,z-10),O.text(`Page ${O.getCurrentPageInfo().pageNumber}`,H-20,z-10,{align:"right"}),O.save(`order-${t.orderNumber}-${new Date().toISOString().split("T")[0]}.pdf`)};return!e||!t?null:u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-5xl w-full mx-4 max-h-[85vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(hc,{className:"h-5 w-5 text-primary-600"}),u.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Order Details - ",t.orderNumber]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsxs("button",{onClick:F,className:"flex items-center px-3 py-1.5 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[u.jsx(Om,{className:"h-4 w-4 mr-1.5"}),"Download PDF"]}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600 transition-colors",children:u.jsx(Un,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{className:"p-4 overflow-y-auto max-h-[calc(85vh-80px)]",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsxs("h3",{className:"text-base font-semibold text-gray-900 mb-3 flex items-center",children:[u.jsx(hc,{className:"h-4 w-4 mr-2"}),"Order Information"]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Job Name:"}),u.jsx("span",{className:"font-medium text-sm",children:t.jobName})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Job Number:"}),u.jsx("span",{className:"font-medium text-sm",children:t.jobNumber})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Order Number:"}),u.jsx("span",{className:"font-medium text-sm",children:t.orderNumber})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Purchase Order:"}),u.jsx("span",{className:"font-medium text-sm",children:t.purchaseOrder})]}),u.jsxs("div",{className:"flex justify-between",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Cost:"}),u.jsxs("span",{className:"font-medium text-sm text-green-600",children:["$",t.cost.toLocaleString()]})]})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Status & Priority"}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Status:"}),u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${w(t.status)}`,children:t.status.replace("_"," ").replace(/\b\w/g,O=>O.toUpperCase())})]}),u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-gray-600 text-sm",children:"Priority:"}),u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${S(t.priority)}`,children:t.priority.charAt(0).toUpperCase()+t.priority.slice(1)})]})]})]})]}),u.jsx("div",{className:"space-y-4",children:u.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[u.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-3",children:"Related Entities"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[u.jsx(Mc,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Designer"})]}),u.jsxs("div",{className:"ml-6",children:[u.jsx("p",{className:"font-medium text-sm",children:(f==null?void 0:f.name)||"Unknown"}),u.jsx("p",{className:"text-xs text-gray-500",children:(f==null?void 0:f.email)||"No email"}),u.jsx("p",{className:"text-xs text-gray-500",children:(f==null?void 0:f.phone)||"No phone"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[u.jsx(rh,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Source"})]}),u.jsxs("div",{className:"ml-6",children:[u.jsx("p",{className:"font-medium text-sm",children:(y==null?void 0:y.name)||"Unknown"}),u.jsx("p",{className:"text-xs text-gray-500",children:(y==null?void 0:y.address)||"No address"}),u.jsx("p",{className:"text-xs text-gray-500",children:(y==null?void 0:y.phoneNumber)||"No phone"})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[u.jsx(a3,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Destination"})]}),u.jsx("div",{className:"ml-6",children:u.jsx("p",{className:"font-medium text-sm",children:t.destinationName})})]}),b&&u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center text-gray-600 mb-1",children:[u.jsx(zc,{className:"h-4 w-4 mr-2"}),u.jsx("span",{className:"text-sm",children:"Pickup"})]}),u.jsxs("div",{className:"ml-6",children:[u.jsx("p",{className:"font-medium text-sm",children:b.name}),u.jsxs("p",{className:"text-xs text-gray-500",children:["Scheduled: ",new Date(b.scheduledDate).toLocaleDateString()]})]})]})]})]})})]}),u.jsx("div",{className:"mt-4",children:u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Notes"}),u.jsxs("button",{onClick:()=>m(!p),className:"flex items-center px-3 py-1.5 text-sm font-medium text-white bg-primary-600 rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 transition-colors",children:[u.jsx(fc,{className:"h-4 w-4 mr-1.5"}),"Add Note"]})]}),p&&u.jsxs("div",{className:"mb-4 p-3 bg-white rounded border",children:[u.jsx("textarea",{value:c,onChange:O=>d(O.target.value),placeholder:"Enter your note here...",className:"w-full p-2 border border-gray-300 rounded focus:ring-2 focus:ring-primary-500 focus:border-transparent",rows:3}),u.jsxs("div",{className:"flex justify-end space-x-2 mt-2",children:[u.jsx("button",{onClick:()=>{m(!1),d("")},className:"px-3 py-1.5 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),u.jsx("button",{onClick:j,disabled:!c.trim(),className:"px-3 py-1.5 text-sm bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Add Note"})]})]}),u.jsx("div",{className:"space-y-3",children:a.length===0?u.jsx("div",{className:"text-center py-6",children:u.jsx("p",{className:"text-gray-500 text-base",children:"No notes yet. Add your first note above."})}):u.jsx("div",{className:"space-y-3",children:a.map(O=>u.jsxs("div",{className:"bg-white p-3 rounded border w-full",children:[u.jsxs("div",{className:"flex justify-between items-start mb-2",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-500",children:[u.jsx(t3,{className:"h-3 w-3 mr-1.5"}),O.timestamp.toLocaleString()]}),u.jsx("button",{onClick:()=>x(O.id),className:"text-red-500 hover:text-red-700 text-sm hover:bg-red-50 p-1 rounded",children:""})]}),u.jsx("p",{className:"text-gray-900 mb-1 text-sm",children:O.text}),u.jsxs("p",{className:"text-xs text-gray-500",children:["By: ",O.author]})]},O.id))})})]})})]})]})})},oh=({type:t,value:e,size:r="md"})=>{const n=c=>{switch(c){case Yt.PENDING:case er.SCHEDULED:return"bg-gray-100 text-gray-800";case Yt.IN_PROGRESS:case er.IN_PROGRESS:return"bg-blue-100 text-blue-800";case Yt.READY_FOR_PICKUP:return"bg-yellow-100 text-yellow-800";case Yt.PICKED_UP:return"bg-orange-100 text-orange-800";case Yt.IN_TRANSIT:return"bg-purple-100 text-purple-800";case Yt.DELIVERED:case er.COMPLETED:return"bg-green-100 text-green-800";case Yt.CANCELLED:case er.CANCELLED:return"bg-red-100 text-red-800";case er.ARCHIVED:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},i=c=>{switch(c){case Gr.LOW:case Rt.LOW:return"bg-gray-100 text-gray-800";case Gr.STANDARD:case Rt.STANDARD:return"bg-blue-100 text-blue-800";case Gr.HIGH:case Rt.HIGH:return"bg-orange-100 text-orange-800";case Gr.URGENT:case Rt.URGENT:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},s=()=>{switch(r){case"sm":return"px-2 py-1 text-xs";case"lg":return"px-3 py-1.5 text-sm";default:return"px-2.5 py-1 text-xs"}},a=c=>c.replace(/_/g," ").replace(/\b\w/g,d=>d.toUpperCase()),o=t==="status"?n(e):i(e);return u.jsx("span",{className:`inline-flex items-center rounded-full font-medium ${o} ${s()}`,children:a(e)})},OS=({orders:t,searchTerm:e,setSearchTerm:r,statusFilter:n,setStatusFilter:i,pickupFilter:s,setPickupFilter:a})=>{const{deleteOrder:o,sources:c,designers:d,pickups:p}=dr(),[m,y]=se.useState("createdAt"),[f,b]=se.useState("desc"),[_,j]=se.useState(null),[x,w]=se.useState(!1),[S,F]=se.useState("edit"),[O,H]=se.useState(null),z=B=>{m===B?b(f==="asc"?"desc":"asc"):(y(B),b("asc"))},L=[...t].sort((B,W)=>{const de=B[m],ue=W[m];return de===void 0&&ue===void 0?0:de===void 0?f==="asc"?-1:1:ue===void 0?f==="asc"?1:-1:de<ue?f==="asc"?-1:1:de>ue?f==="asc"?1:-1:0}),U=async B=>{if(confirm("Are you sure you want to delete this order?"))try{await o(B)}catch(W){console.error("Error deleting order:",W),alert("Failed to delete order. Please try again.")}},J=(B,W)=>{var de,ue;switch(W){case"Source":return((de=c.find(pe=>pe.id===B))==null?void 0:de.name)||"Unknown";case"designer":return((ue=d.find(pe=>pe.id===B))==null?void 0:ue.name)||"Unknown";default:return"Unknown"}},D=B=>{if(!B)return"Unassigned";const W=p.find(de=>de.id===B);return W?W.name:"Unknown"},T=[{key:"jobName",label:"Job Name",sortable:!0},{key:"jobNumber",label:"Job Number",sortable:!0},{key:"orderNumber",label:"Order Number",sortable:!0},{key:"purchaseOrder",label:"Purchase Order",sortable:!0},{key:"priority",label:"Priority",sortable:!0},{key:"SourceId",label:"Source",sortable:!1},{key:"status",label:"Status",sortable:!0},{key:"pickupId",label:"Pickup",sortable:!1},{key:"actions",label:"Actions",sortable:!1}];return t.length===0?u.jsx("div",{className:"p-8 text-center text-gray-500",children:u.jsx("p",{children:"No orders found. Create your first order to get started."})}):u.jsxs("div",{children:[u.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 mb-4",children:[u.jsx("h3",{className:"text-base font-medium text-gray-900 mb-3",children:"Filter Orders"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),u.jsxs("div",{className:"relative",children:[u.jsx(l3,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Search orders...",value:e,onChange:B=>r(B.target.value),className:"w-full pl-10 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:n,onChange:B=>i(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"all",children:"All Statuses"}),Object.values(Yt).map(B=>u.jsx("option",{value:B,children:B.replace("_"," ").replace(/\b\w/g,W=>W.toUpperCase())},B))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup"}),u.jsxs("select",{value:s,onChange:B=>a(B.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"all",children:"All Pickups"}),u.jsx("option",{value:"unassigned",children:"Unassigned"}),p.map(B=>u.jsx("option",{value:B.id,children:B.name},B.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Results"}),u.jsxs("div",{className:"px-3 py-2 text-sm text-gray-600 bg-gray-50 rounded-md",children:[t.length," order",t.length!==1?"s":""]})]})]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsx("tr",{children:T.map(B=>u.jsx("th",{className:`px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider ${B.sortable?"cursor-pointer hover:bg-gray-100":""}`,onClick:()=>B.sortable&&z(B.key),children:u.jsxs("div",{className:"flex items-center space-x-1",children:[u.jsx("span",{children:B.label}),B.sortable&&u.jsx("span",{className:"text-gray-400",children:m===B.key?f==="asc"?u.jsx(D1,{className:"h-3 w-3"}):u.jsx(u0,{className:"h-3 w-3"}):u.jsx(D1,{className:"h-3 w-3 opacity-0"})})]})},B.key))})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:L.map(B=>u.jsxs("tr",{className:"hover:bg-gray-50 cursor-pointer",onClick:()=>H(B),children:[u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:B.jobName}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:B.jobNumber}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:B.orderNumber}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:B.purchaseOrder}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u.jsx(oh,{type:"priority",value:B.priority,size:"sm"})}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:J(B.sourceId,"Source")}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u.jsx(oh,{type:"status",value:B.status,size:"sm"})}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:D(B.pickupId)}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:W=>{W.stopPropagation(),j(B),F("edit"),w(!0)},className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Edit order",children:u.jsx($o,{className:"h-4 w-4"})}),u.jsx("button",{onClick:W=>{W.stopPropagation(),U(B.id)},className:"text-red-600 hover:text-red-800 p-1 rounded hover:bg-red-50",title:"Delete order",children:u.jsx(Bs,{className:"h-4 w-4"})})]})})]},B.id))})]})}),x&&_&&u.jsx(I_,{order:_,isOpen:x,onClose:()=>{w(!1),j(null)},mode:S}),O&&u.jsx(PS,{order:O,isOpen:!!O,onClose:()=>H(null)})]})},IS=({isOpen:t,onClose:e})=>{console.log("CreateOrderModal: Rendering with isOpen:",t);const{addOrder:r,sources:n,designers:i}=dr(),{user:s}=Xr();console.log("CreateOrderModal: Data from useOrder:",{sources:(n==null?void 0:n.length)||0,designers:(i==null?void 0:i.length)||0});const[a,o]=se.useState({jobName:"",jobNumber:"",orderNumber:"",purchaseOrder:"",designerId:"",cost:"",sourceId:"",destinationName:"",status:Yt.PENDING,priority:Gr.STANDARD}),[c,d]=se.useState(!1),p=async y=>{y.preventDefault(),console.log("CreateOrderModal: Starting order creation..."),d(!0);try{const f={...a,cost:parseFloat(a.cost)};console.log("CreateOrderModal: Order data to submit:",f);const b=await r({...f,organizationId:(s==null?void 0:s.organizationId)||""});console.log("CreateOrderModal: Order creation result:",b),b&&(e(),o({jobName:"",jobNumber:"",orderNumber:"",purchaseOrder:"",designerId:"",cost:"",sourceId:"",destinationName:"",status:Yt.PENDING,priority:Gr.STANDARD}))}catch(f){console.error("CreateOrderModal: Error creating order:",f)}finally{d(!1)}},m=y=>{const{name:f,value:b}=y.target;o(_=>({..._,[f]:b}))};return t?(console.log("CreateOrderModal: About to render modal content"),u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[85vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Create New Order"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-5 w-5"})})]}),u.jsxs("form",{onSubmit:p,className:"p-4 space-y-3",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Name *"}),u.jsx("input",{type:"text",name:"jobName",value:a.jobName,onChange:m,required:!0,className:"input",placeholder:"Enter job name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Job Number *"}),u.jsx("input",{type:"text",name:"jobNumber",value:a.jobNumber,onChange:m,required:!0,className:"input",placeholder:"Enter job number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order Number *"}),u.jsx("input",{type:"text",name:"orderNumber",value:a.orderNumber,onChange:m,required:!0,className:"input",placeholder:"Enter order number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Order *"}),u.jsx("input",{type:"text",name:"purchaseOrder",value:a.purchaseOrder,onChange:m,required:!0,className:"input",placeholder:"Enter purchase order"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designer *"}),u.jsxs("select",{name:"designerId",value:a.designerId,onChange:m,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select a designer"}),i&&i.length>0?i.map(y=>u.jsx("option",{value:y.id,children:y.name},y.id)):u.jsx("option",{value:"",disabled:!0,children:"No designers available"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cost *"}),u.jsx("input",{type:"number",name:"cost",value:a.cost,onChange:m,required:!0,step:"0.01",min:"0",className:"input",placeholder:"0.00"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source *"}),u.jsxs("select",{name:"sourceId",value:a.sourceId,onChange:m,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select a Source"}),n&&n.length>0?n.map(y=>u.jsx("option",{value:y.id,children:y.name},y.id)):u.jsx("option",{value:"",disabled:!0,children:"No Sources available"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Destination *"}),u.jsx("input",{type:"text",name:"destinationName",value:a.destinationName,onChange:m,required:!0,className:"input",placeholder:"Enter destination"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsx("select",{name:"status",value:a.status,onChange:m,className:"input",children:Object.values(Yt).map(y=>u.jsx("option",{value:y,children:y.replace("_"," ").replace(/\b\w/g,f=>f.toUpperCase())},y))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),u.jsx("select",{name:"priority",value:a.priority,onChange:m,className:"input",children:Object.values(Gr).map(y=>u.jsx("option",{value:y,children:y.charAt(0).toUpperCase()+y.slice(1)},y))})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-3",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:c,className:"px-4 py-2 text-sm font-medium text-white bg-primary-600 border border-transparent rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:c?"Creating...":"Create Order"})]})]})]})})):(console.log("CreateOrderModal: Not open, returning null"),null)},DS=({isOpen:t,onClose:e})=>{const{addPickup:r,updateOrder:n,orders:i,drivers:s}=dr(),{user:a}=Xr(),[o,c]=se.useState({name:"",driverId:"",scheduledDate:"",status:er.SCHEDULED,priority:Rt.STANDARD}),[d,p]=se.useState([]),[m,y]=se.useState(!1),f=i.filter(w=>!w.pickupId),b=async w=>{if(w.preventDefault(),d.length===0){alert("Please select at least one order for this pickup.");return}y(!0);try{const S={...o,orders:d,scheduledDate:new Date(o.scheduledDate)},F=await r({...S,organizationId:(a==null?void 0:a.organizationId)||""});if(F){for(const O of d)i.find(z=>z.id===O)&&await n(O,{pickupId:F.id});e(),c({name:"",driverId:"",scheduledDate:"",status:er.SCHEDULED,priority:Rt.STANDARD}),p([])}}catch(S){console.error("Error creating pickup:",S),alert("Failed to create pickup. Please try again.")}finally{y(!1)}},_=w=>{const{name:S,value:F}=w.target;c(O=>({...O,[S]:F}))},j=w=>{p(S=>S.includes(w)?S.filter(F=>F!==w):[...S,w])},x=w=>{p(S=>S.filter(F=>F!==w))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create New Pickup"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Name *"}),u.jsx("input",{type:"text",name:"name",value:o.name,onChange:_,required:!0,className:"input",placeholder:"Enter pickup name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver *"}),u.jsxs("select",{name:"driverId",value:o.driverId,onChange:_,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select a driver"}),s.map(w=>u.jsx("option",{value:w.id,children:w.name},w.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Date *"}),u.jsx("input",{type:"datetime-local",name:"scheduledDate",value:o.scheduledDate,onChange:_,required:!0,className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsx("select",{name:"status",value:o.status,onChange:_,className:"input",children:Object.values(er).map(w=>u.jsx("option",{value:w,children:w.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())},w))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),u.jsx("select",{name:"priority",value:o.priority,onChange:_,required:!0,className:"input",children:Object.values(Rt).map(w=>u.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Select Orders for Pickup"}),f.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4",children:"No unassigned orders available. All orders are already assigned to pickups."}):u.jsxs("div",{className:"space-y-4",children:[d.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected Orders (",d.length,")"]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:d.map(w=>{const S=i.find(F=>F.id===w);return S?u.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[u.jsxs("span",{className:"text-sm",children:[u.jsx("strong",{children:S.jobName})," - ",S.jobNumber," (",S.destinationName,")"]}),u.jsx("button",{type:"button",onClick:()=>x(w),className:"text-red-600 hover:text-red-800",children:u.jsx(Bs,{className:"h-4 w-4"})})]},w):null})})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Available Orders (",f.length,")"]}),u.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:f.map(w=>u.jsx("div",{className:`p-3 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${d.includes(w.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>j(w.id),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:w.jobName}),u.jsxs("div",{className:"text-sm text-gray-600",children:[w.jobNumber,"  ",w.orderNumber,"  ",w.destinationName]})]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["$",w.cost.toLocaleString()]})]})},w.id))})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:d.length===0||m,children:m?"Creating...":"Create Pickup"})]})]})]})}):null},RS=({isOpen:t,onClose:e})=>{console.log("CreateReturnModal: Rendering with isOpen:",t);const{addReturn:r,orders:n,drivers:i}=dr(),{user:s}=Xr();console.log("CreateReturnModal: Context data - orders:",n.length,"drivers:",i.length,"user:",s);const[a,o]=se.useState({name:"",orders:[],driverId:"",status:Ar.SCHEDULED,priority:Rt.STANDARD,scheduledDate:new Date().toISOString().split("T")[0]}),[c,d]=se.useState(!1),[p,m]=se.useState({});se.useEffect(()=>{t&&(o({name:"",orders:[],driverId:"",status:Ar.SCHEDULED,priority:Rt.STANDARD,scheduledDate:new Date().toISOString().split("T")[0]}),m({}))},[t]);const y=async j=>{console.log("CreateReturnModal: Form submission started"),j.preventDefault(),d(!0),m({}),console.log("CreateReturnModal: Form data:",a);const x={};if(a.name.trim()||(x.name="Return name is required"),a.orders.length===0&&(x.orders="At least one order must be selected"),a.scheduledDate||(x.scheduledDate="Scheduled date is required"),console.log("CreateReturnModal: Validation errors:",x),Object.keys(x).length>0){m(x),d(!1);return}try{console.log("CreateReturnModal: Calling addReturn with data:",{...a,organizationId:(s==null?void 0:s.organizationId)||"",scheduledDate:new Date(a.scheduledDate)});const w=await r({...a,organizationId:(s==null?void 0:s.organizationId)||"",scheduledDate:new Date(a.scheduledDate)});console.log("CreateReturnModal: addReturn result:",w),w?(console.log("CreateReturnModal: Return created successfully, closing modal"),e()):(console.log("CreateReturnModal: addReturn returned null/undefined"),m({submit:"Failed to create return. Please try again."}))}catch(w){console.error("CreateReturnModal: Error creating return:",w),m({submit:"Failed to create return. Please try again."})}finally{d(!1)}},f=j=>{const{name:x,value:w}=j.target;o(S=>({...S,[x]:w})),p[x]&&m(S=>({...S,[x]:""}))},b=j=>{o(x=>({...x,orders:x.orders.includes(j)?x.orders.filter(w=>w!==j):[...x.orders,j]})),p.orders&&m(x=>({...x,orders:""}))},_=n.filter(j=>j.status==="delivered"||j.status==="picked_up");return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Create Return"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Return Name *"}),u.jsx("input",{type:"text",name:"name",value:a.name,onChange:f,className:`input ${p.name?"border-red-500":""}`,placeholder:"Enter return name"}),p.name&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Orders *"}),u.jsx("div",{className:`border rounded-md p-3 max-h-48 overflow-y-auto ${p.orders?"border-red-500":"border-gray-300"}`,children:_.length===0?u.jsx("p",{className:"text-gray-500 text-sm",children:"No delivered or picked up orders available for return."}):u.jsx("div",{className:"space-y-2",children:_.map(j=>u.jsxs("label",{className:"flex items-center space-x-3 cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:a.orders.includes(j.id),onChange:()=>b(j.id),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm font-medium text-gray-900",children:j.jobName}),u.jsx("span",{className:"text-xs text-gray-500",children:j.orderNumber})]}),u.jsxs("div",{className:"text-xs text-gray-500",children:[j.destinationName,"  ",j.status]})]})]},j.id))})}),p.orders&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.orders}),a.orders.length>0&&u.jsxs("p",{className:"mt-2 text-sm text-gray-600",children:["Selected ",a.orders.length," order",a.orders.length!==1?"s":""]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver (Optional)"}),u.jsxs("select",{name:"driverId",value:a.driverId,onChange:f,className:"input",children:[u.jsx("option",{value:"",children:"Select a driver"}),i.map(j=>u.jsxs("option",{value:j.id,children:[j.name," - ",j.vehicle]},j.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Date *"}),u.jsx("input",{type:"date",name:"scheduledDate",value:a.scheduledDate,onChange:f,className:`input ${p.scheduledDate?"border-red-500":""}`}),p.scheduledDate&&u.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.scheduledDate})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),u.jsxs("select",{name:"priority",value:a.priority,onChange:f,className:"input",children:[u.jsx("option",{value:Rt.LOW,children:"Low"}),u.jsx("option",{value:Rt.STANDARD,children:"Standard"}),u.jsx("option",{value:Rt.HIGH,children:"High"}),u.jsx("option",{value:Rt.URGENT,children:"Urgent"})]})]}),p.submit&&u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:u.jsxs("div",{className:"flex",children:[u.jsx(qy,{className:"h-5 w-5 text-red-400"}),u.jsx("p",{className:"ml-2 text-sm text-red-700",children:p.submit})]})}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:c,className:"btn-primary flex items-center space-x-2",children:c?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),u.jsx("span",{children:"Creating..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(Pa,{className:"h-4 w-4"}),u.jsx("span",{children:"Create Return"})]})})]})]})]})}):null};class Bm{static async exportPickupPDF(e,r,n,i,s){const a=new We("landscape"),o=this.getOrganizationalSettings();this.addSimpleHeader(a,o),this.addPickupInfo(a,e,s),this.addOrdersTable(a,r,n,i),this.addSimpleFooter(a,o),a.save(`pickup-${e.name}-${e.scheduledDate.toLocaleDateString()}.pdf`)}static async exportReturnPDF(e,r,n,i,s){const a=new We("landscape"),o=this.getOrganizationalSettings();this.addSimpleHeader(a,o),this.addReturnInfo(a,e,s),this.addOrdersTable(a,r,n,i),this.addSimpleFooter(a,o),a.save(`return-${e.name}-${e.scheduledDate.toLocaleDateString()}.pdf`)}static async exportAllPickupsPDF(e,r,n,i,s){const a=new We("landscape"),o=this.getOrganizationalSettings();this.addSimpleHeader(a,o),a.setFontSize(16),a.text("Pickup Schedule",20,60),a.setFontSize(12),a.text(`Generated on ${new Date().toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,20,68);let c=80;e.forEach((d,p)=>{c>220&&(a.addPage(),c=20,this.addSimpleHeader(a,o)),this.addPickupSummary(a,d,r,n,i,s,c),c+=35}),this.addSimpleFooter(a,o),a.save(`pickup-schedule-${new Date().toLocaleDateString()}.pdf`)}static getOrganizationalSettings(){try{const e=localStorage.getItem("organizationalSettings");if(e)return JSON.parse(e)}catch(e){console.error("Error loading organizational settings:",e)}return{companyName:"Company Name",companyAddress:"Company Address",companyPhone:"Company Phone",logoUrl:void 0}}static addSimpleHeader(e,r){const n=e.internal.pageSize.width;e.setFontSize(16),e.text(r.companyName||"Company Name",20,12),e.setFontSize(10),e.text(r.companyAddress||"Company Address",20,18),e.setFontSize(14),e.text("SHIPPING TICKET",n-20,18,{align:"right"}),e.setFontSize(10),e.text(`Date: ${new Date().toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}`,n-20,24,{align:"right"}),e.text(`Time: ${new Date().toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}`,n-20,30,{align:"right"}),e.line(20,35,n-20,35)}static addReturnInfo(e,r,n){e.setFontSize(16),e.text("Return Authorization",20,40),e.setFontSize(12),e.text(`Return: ${r.name}`,20,50),e.text(`Date: ${r.scheduledDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,20,58),e.text(`Priority: ${r.priority.charAt(0).toUpperCase()+r.priority.slice(1)}`,20,66),e.text(`Status: ${r.status.charAt(0).toUpperCase()+r.status.slice(1)}`,20,74),n&&(e.text(`Driver: ${n.name}`,120,50),e.text(`Vehicle: ${n.vehicle}`,120,58),e.text(`Phone: ${n.phone}`,120,66)),e.text(`Orders: ${r.orders.length}`,120,74)}static addPickupInfo(e,r,n){e.setFontSize(14),e.text("PICKUP INFORMATION",20,45),e.setFontSize(10),e.text(`Pickup Name: ${r.name}`,20,53),e.text(`Scheduled Date: ${r.scheduledDate.toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,20,59),e.text(`Priority: ${r.priority.charAt(0).toUpperCase()+r.priority.slice(1)}`,20,65),e.text(`Status: ${r.status.charAt(0).toUpperCase()+r.status.slice(1)}`,20,71),n&&(e.text(`Driver: ${n.name}`,120,53),e.text(`Phone: ${n.phone}`,120,59),e.text(`Vehicle: ${n.vehicle}`,120,65))}static addOrdersTable(e,r,n,i){e.setFontSize(14),e.text("ORDERS TO PICKUP",20,85);const s=["Job Name","Job Number","Order Number","Purchase Order","Manufacturer","Destination"],a=[60,35,35,40,45,50],o=20,c=93;let d=o;s.forEach((m,y)=>{e.setFontSize(9),e.text(m,d+3,c),d+=a[y]});let p=c+4;r.forEach((m,y)=>{p>200&&(e.addPage(),p=20,this.addSimpleHeader(e,{companyName:"Company Name"}));const f=n.find(_=>_.id===m.sourceId);d=o,e.setFontSize(8);const b=m.jobName.length>25?m.jobName.substring(0,25)+"...":m.jobName;e.text(b,d+3,p),d+=a[0],e.text(m.jobNumber||"N/A",d+3,p),d+=a[1],e.text(m.orderNumber||"N/A",d+3,p),d+=a[2],e.text(m.purchaseOrder||"N/A",d+3,p),d+=a[3],e.text((f==null?void 0:f.name)||"N/A",d+3,p),d+=a[4],e.text(m.destinationName||"N/A",d+3,p),p+=4})}static addPickupSummary(e,r,n,i,s,a,o){e.setFontSize(12),e.text(r.name,20,o),e.setFontSize(9),e.text(`Date: ${r.scheduledDate.toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}`,20,o+5),e.text(`Priority: ${r.priority.charAt(0).toUpperCase()+r.priority.slice(1)}`,20,o+10);const c=a.find(m=>m.id===r.driverId);c&&(e.text(`Driver: ${c.name}`,120,o+5),e.text(`Vehicle: ${c.vehicle}`,120,o+10));const d=n.filter(m=>m.pickupId===r.id);e.text(`Orders: ${d.length}`,120,o);const p=d.reduce((m,y)=>m+((y==null?void 0:y.cost)||0),0);e.text(`Total: $${p.toFixed(2)}`,120,o+15)}static addSimpleFooter(e,r){const n=e.internal.pageSize.width,i=e.internal.pageSize.height;e.line(20,i-20,n-20,i-20),e.setFontSize(8),e.text(`Generated by ${r.companyName||"Company Name"}`,20,i-15),e.text("This document serves as an official pickup authorization",n-20,i-15,{align:"right"}),e.text(`Page ${e.getCurrentPageInfo().pageNumber}`,n/2,i-3,{align:"center"})}}const TS=({pickup:t,isOpen:e,onClose:r})=>{const{updatePickup:n,updateOrder:i,orders:s,drivers:a}=dr(),[o,c]=se.useState({name:"",driverId:"",scheduledDate:"",status:er.SCHEDULED,priority:Rt.STANDARD}),[d,p]=se.useState([]),m=s.filter(j=>!j.pickupId||j.pickupId===t.id);se.useEffect(()=>{t&&(c({name:t.name,driverId:t.driverId,scheduledDate:t.scheduledDate.toISOString().slice(0,16),status:t.status,priority:t.priority}),p([...t.orders]))},[t]);const y=async j=>{if(j.preventDefault(),d.length===0){alert("Please select at least one order for this pickup.");return}try{const x={...t,...o,orders:d,scheduledDate:new Date(o.scheduledDate),updatedAt:new Date};if(!await n(t.id,{name:o.name,driverId:o.driverId,scheduledDate:new Date(o.scheduledDate),status:o.status,priority:o.priority,orders:d})){alert("Failed to update pickup. Please try again.");return}for(const S of t.orders)d.includes(S)||s.find(O=>O.id===S)&&await i(S,{pickupId:void 0});for(const S of d)t.orders.includes(S)||s.find(O=>O.id===S)&&await i(S,{pickupId:t.id});r()}catch(x){console.error("Error updating pickup:",x),alert("Failed to update pickup. Please try again.")}},f=j=>{const{name:x,value:w}=j.target;c(S=>({...S,[x]:w}))},b=j=>{p(x=>x.includes(j)?x.filter(w=>w!==j):[...x,j])},_=j=>{p(x=>x.filter(w=>w!==j))};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Pickup"}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pickup Name *"}),u.jsx("input",{type:"text",name:"name",value:o.name,onChange:f,required:!0,className:"input",placeholder:"Enter pickup name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver *"}),u.jsxs("select",{name:"driverId",value:o.driverId,onChange:f,required:!0,className:"input",children:[u.jsx("option",{value:"",children:"Select a driver"}),a.map(j=>u.jsx("option",{value:j.id,children:j.name},j.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Scheduled Date *"}),u.jsx("input",{type:"datetime-local",name:"scheduledDate",value:o.scheduledDate,onChange:f,required:!0,className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsx("select",{name:"status",value:o.status,onChange:f,className:"input",children:Object.values(er).map(j=>u.jsx("option",{value:j,children:j.replace("_"," ").replace(/\b\w/g,x=>x.toUpperCase())},j))})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority *"}),u.jsx("select",{name:"priority",value:o.priority,onChange:f,required:!0,className:"input",children:Object.values(Rt).map(j=>u.jsx("option",{value:j,children:j.charAt(0).toUpperCase()+j.slice(1)},j))})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Manage Orders for Pickup"}),m.length===0?u.jsx("p",{className:"text-gray-500 text-center py-4",children:"No orders available to assign to this pickup."}):u.jsxs("div",{className:"space-y-4",children:[d.length>0&&u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Selected Orders (",d.length,")"]}),u.jsx("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:d.map(j=>{const x=s.find(w=>w.id===j);return x?u.jsxs("div",{className:"flex items-center justify-between bg-white p-2 rounded border",children:[u.jsxs("span",{className:"text-sm",children:[u.jsx("strong",{children:x.jobName})," - ",x.jobNumber," (",x.destinationName,")"]}),u.jsx("button",{type:"button",onClick:()=>_(j),className:"text-red-600 hover:text-red-800",children:u.jsx(Bs,{className:"h-4 w-4"})})]},j):null})})]}),u.jsxs("div",{children:[u.jsxs("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Available Orders (",m.length,")"]}),u.jsx("div",{className:"max-h-60 overflow-y-auto border border-gray-200 rounded-lg",children:m.map(j=>u.jsx("div",{className:`p-3 border-b border-gray-200 cursor-pointer hover:bg-gray-50 ${d.includes(j.id)?"bg-primary-50 border-primary-200":""}`,onClick:()=>b(j.id),children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-gray-900",children:j.jobName}),u.jsxs("div",{className:"text-sm text-gray-600",children:[j.jobNumber,"  ",j.orderNumber,"  ",j.destinationName]})]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["$",j.cost.toLocaleString()]})]})},j.id))})]})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:d.length===0,children:"Update Pickup"})]})]})]})}):null},FS=()=>{const{pickups:t,drivers:e,orders:r,sources:n,designers:i,updatePickup:s}=dr(),[a,o]=se.useState(null);se.useState(!1),se.useState("edit");const[c,d]=se.useState({}),p=w=>{switch(w){case er.SCHEDULED:return"bg-blue-100 text-blue-800";case er.IN_PROGRESS:return"bg-yellow-100 text-yellow-800";case er.COMPLETED:return"bg-green-100 text-green-800";case er.CANCELLED:return"bg-red-100 text-red-800";case er.ARCHIVED:return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},m=w=>{switch(w){case Rt.LOW:return"bg-gray-100 text-gray-800";case Rt.STANDARD:return"bg-blue-100 text-blue-800";case Rt.HIGH:return"bg-orange-100 text-orange-800";case Rt.URGENT:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},y=w=>{const S=e.find(F=>F.id===w);return S?S.name:"Unknown Driver"},f=w=>{const S=r.find(F=>F.id===w);return S?{jobName:S.jobName,jobNumber:S.jobNumber,destination:S.destinationName,cost:S.cost}:null},b=se.useMemo(()=>t.filter(w=>!(!c.showArchived&&w.status===er.ARCHIVED||c.status&&w.status!==c.status||c.driverId&&w.driverId!==c.driverId||c.priority&&w.priority!==c.priority)),[t,c]),_=async w=>{const S=e.find(O=>O.id===w.driverId),F=r.filter(O=>w.orders.includes(O.id));S&&await Bm.exportPickupPDF(w,F,n,i,S)},j=async w=>{if(confirm("Are you sure you want to archive this pickup?"))try{await s(w,{status:er.ARCHIVED})}catch(S){console.error("Error archiving pickup:",S),alert("Failed to archive pickup. Please try again.")}},x=()=>{d({})};return t.length===0?u.jsxs("div",{className:"p-8 text-center text-gray-500",children:[u.jsx(zc,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),u.jsx("p",{children:"No pickups created yet. Create your first pickup to get started."})]}):u.jsxs("div",{className:"p-3",children:[u.jsx("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3",children:u.jsx("div",{className:"flex items-center gap-2",children:Object.keys(c).length>0&&u.jsx("button",{onClick:x,className:"text-sm text-gray-500 hover:text-gray-700 underline",children:"Clear filters"})})}),u.jsxs("div",{className:"bg-white p-3 rounded-lg border border-gray-200 mb-4",children:[u.jsx("h3",{className:"text-base font-medium text-gray-900 mb-3",children:"Filter Pickups"}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-3",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),u.jsxs("select",{value:c.status||"",onChange:w=>d(S=>({...S,status:w.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"",children:"All Statuses"}),Object.values(er).map(w=>u.jsx("option",{value:w,children:w.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())},w))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver"}),u.jsxs("select",{value:c.driverId||"",onChange:w=>d(S=>({...S,driverId:w.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"",children:"All Drivers"}),e.map(w=>u.jsx("option",{value:w.id,children:w.name},w.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Priority"}),u.jsxs("select",{value:c.priority||"",onChange:w=>d(S=>({...S,priority:w.target.value||void 0})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[u.jsx("option",{value:"",children:"All Priorities"}),Object.values(Rt).map(w=>u.jsx("option",{value:w,children:w.charAt(0).toUpperCase()+w.slice(1)},w))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Show Archived"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"showArchived",checked:c.showArchived||!1,onChange:w=>d(S=>({...S,showArchived:w.target.checked})),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"showArchived",className:"ml-2 text-sm text-gray-700",children:"Include archived pickups"})]})]})]})]}),u.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:["Showing ",b.length," of ",t.length," pickups"]}),u.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4",children:b.map(w=>u.jsxs("div",{className:"card p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:w.name}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${p(w.status)}`,children:w.status.replace("_"," ").replace(/\b\w/g,S=>S.toUpperCase())}),u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${m(w.priority)}`,children:w.priority.charAt(0).toUpperCase()+w.priority.slice(1)})]})]}),u.jsxs("div",{className:"flex gap-1",children:[u.jsx("button",{onClick:()=>_(w),className:"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50",title:"Export PDF",children:u.jsx(Om,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>o(w),className:"text-primary-600 hover:text-primary-800 p-1 rounded hover:bg-primary-50",title:"Edit pickup",children:u.jsx($o,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>j(w.id),className:"text-gray-600 hover:text-gray-800 p-1 rounded hover:bg-gray-50",title:"Archive pickup",children:u.jsx($y,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2 mb-4",children:[u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(Mc,{className:"h-4 w-4 mr-2"}),u.jsx("span",{children:y(w.driverId)})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(tc,{className:"h-4 w-4 mr-2"}),u.jsx("span",{children:new Date(w.scheduledDate).toLocaleDateString()})]}),u.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[u.jsx(Pa,{className:"h-4 w-4 mr-2"}),u.jsxs("span",{children:[w.orders.length," order",w.orders.length!==1?"s":""]})]})]}),u.jsxs("div",{className:"border-t border-gray-200 pt-3",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Orders:"}),u.jsx("div",{className:"space-y-2",children:w.orders.map(S=>{const F=f(S);return F?u.jsxs("div",{className:"bg-gray-50 p-2 rounded text-sm",children:[u.jsx("div",{className:"font-medium text-gray-900",children:F.jobName}),u.jsxs("div",{className:"text-gray-600",children:[F.jobNumber,"  ",F.destination]}),u.jsxs("div",{className:"text-gray-500",children:["$",F.cost.toLocaleString()]})]},S):null})})]}),u.jsx("div",{className:"border-t border-gray-200 pt-3 mt-3",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Total Cost:"}),u.jsxs("span",{className:"text-lg font-semibold text-gray-900",children:["$",w.orders.reduce((S,F)=>{const O=r.find(H=>H.id===F);return S+((O==null?void 0:O.cost)||0)},0).toLocaleString()]})]})})]},w.id))}),a&&u.jsx(TS,{pickup:a,isOpen:!!a,onClose:()=>o(null)})]})},zS=()=>{const{returns:t,drivers:e,orders:r,sources:n,designers:i,updateReturn:s}=dr(),[a,o]=se.useState(null);se.useState(!1);const c=b=>{switch(b){case Ar.SCHEDULED:return u.jsx(tc,{className:"h-4 w-4 text-blue-500"});case Ar.IN_PROGRESS:return u.jsx(qy,{className:"h-4 w-4 text-yellow-500"});case Ar.COMPLETED:return u.jsx(e3,{className:"h-4 w-4 text-green-500"});case Ar.CANCELLED:return u.jsx(u3,{className:"h-4 w-4 text-red-500"});case Ar.ARCHIVED:return u.jsx($y,{className:"h-4 w-4 text-gray-500"});default:return u.jsx(tc,{className:"h-4 w-4 text-gray-500"})}},d=b=>{switch(b){case"urgent":return"bg-red-100 text-red-800";case"high":return"bg-orange-100 text-orange-800";case"standard":return"bg-blue-100 text-blue-800";case"low":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},p=async b=>{try{const _=r.filter(x=>b.orders.includes(x.id)),j=e.find(x=>x.id===b.driverId);j&&await Bm.exportReturnPDF(b,_,n,i,j)}catch(_){console.error("Error exporting return PDF:",_)}},m=async(b,_)=>{try{await s(b.id,{status:_})}catch(j){console.error("Error updating return status:",j)}},y=t.filter(b=>b.status!==Ar.ARCHIVED),f=t.filter(b=>b.status===Ar.ARCHIVED);return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Active Returns"}),y.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(hc,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-500",children:"No active returns. Create your first return above."})]}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(b=>{const _=r.filter(x=>b.orders.includes(x.id)),j=e.find(x=>x.id===b.driverId);return u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[c(b.status),u.jsx("h4",{className:"font-medium text-gray-900",children:b.name})]}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>o(b),className:"text-primary-600 hover:text-primary-800",children:u.jsx($o,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>p(b),className:"text-gray-600 hover:text-gray-800",children:u.jsx(hc,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tc,{className:"h-4 w-4"}),u.jsx("span",{children:new Date(b.scheduledDate).toLocaleDateString()})]}),j&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Mc,{className:"h-4 w-4"}),u.jsx("span",{children:j.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pa,{className:"h-4 w-4"}),u.jsxs("span",{children:[_.length," orders"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(b.priority)}`,children:b.priority}),u.jsx(oh,{status:b.status})]})]}),u.jsx("div",{className:"mt-4 pt-3 border-t border-gray-100",children:u.jsxs("div",{className:"flex flex-wrap gap-2",children:[b.status===Ar.SCHEDULED&&u.jsx("button",{onClick:()=>m(b,Ar.IN_PROGRESS),className:"px-2 py-1 text-xs bg-yellow-100 text-yellow-800 rounded hover:bg-yellow-200",children:"Start"}),b.status===Ar.IN_PROGRESS&&u.jsx("button",{onClick:()=>m(b,Ar.COMPLETED),className:"px-2 py-1 text-xs bg-green-100 text-green-800 rounded hover:bg-green-200",children:"Complete"}),b.status!==Ar.COMPLETED&&b.status!==Ar.CANCELLED&&u.jsx("button",{onClick:()=>m(b,Ar.CANCELLED),className:"px-2 py-1 text-xs bg-red-100 text-red-800 rounded hover:bg-red-200",children:"Cancel"})]})})]},b.id)})})]}),f.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Archived Returns"}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:f.map(b=>{const _=r.filter(x=>b.orders.includes(x.id)),j=e.find(x=>x.id===b.driverId);return u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[c(b.status),u.jsx("h4",{className:"font-medium text-gray-900",children:b.name})]}),u.jsx("button",{onClick:()=>p(b),className:"text-gray-600 hover:text-gray-800",children:u.jsx(hc,{className:"h-4 w-4"})})]}),u.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(tc,{className:"h-4 w-4"}),u.jsx("span",{children:new Date(b.scheduledDate).toLocaleDateString()})]}),j&&u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Mc,{className:"h-4 w-4"}),u.jsx("span",{children:j.name})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Pa,{className:"h-4 w-4"}),u.jsxs("span",{children:[_.length," orders"]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${d(b.priority)}`,children:b.priority}),u.jsx(oh,{status:b.status})]})]})]},b.id)})})]})]})},MS=()=>{const{pickups:t,drivers:e,orders:r,sources:n,designers:i,updatePickup:s}=dr(),a=t.filter(m=>m.status===er.ARCHIVED),o=m=>{switch(m){case Rt.LOW:return"bg-gray-100 text-gray-800";case Rt.STANDARD:return"bg-blue-100 text-blue-800";case Rt.HIGH:return"bg-orange-100 text-orange-800";case Rt.URGENT:return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},c=m=>{const y=e.find(f=>f.id===m);return y?y.name:"Unknown Driver"},d=async m=>{const y=e.find(b=>b.id===m.driverId),f=r.filter(b=>m.orders.includes(b.id));y&&await Bm.exportPickupPDF(m,f,n,i,y)},p=async m=>{if(confirm("Are you sure you want to reactivate this pickup?"))try{await s(m,{status:er.SCHEDULED})}catch(y){console.error("Error reactivating pickup:",y),alert("Failed to reactivate pickup. Please try again.")}};return a.length===0?null:u.jsxs("div",{className:"mt-8",children:[u.jsxs("div",{className:"flex items-center gap-2 mb-4 px-6",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Archived Pickups"}),u.jsxs("span",{className:"text-sm text-gray-500",children:["(",a.length,")"]})]}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pickup Name"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Driver"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Priority"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Scheduled Date"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Orders"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Cost"}),u.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.map(m=>u.jsxs("tr",{className:"hover:bg-gray-50",children:[u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium text-gray-900",children:m.name}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:c(m.driverId)}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap",children:u.jsx("span",{className:`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${o(m.priority)}`,children:m.priority.charAt(0).toUpperCase()+m.priority.slice(1)})}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:new Date(m.scheduledDate).toLocaleDateString()}),u.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:[m.orders.length," order",m.orders.length!==1?"s":""]}),u.jsxs("td",{className:"px-4 py-2 whitespace-nowrap text-sm text-gray-900",children:["$",m.orders.reduce((y,f)=>{const b=r.find(_=>_.id===f);return y+((b==null?void 0:b.cost)||0)},0).toLocaleString()]}),u.jsx("td",{className:"px-4 py-2 whitespace-nowrap text-sm font-medium",children:u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>d(m),className:"text-green-600 hover:text-green-800 p-1 rounded hover:bg-green-50",title:"Export PDF",children:u.jsx(Om,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>p(m.id),className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Reactivate pickup",children:u.jsx(d0,{className:"h-4 w-4"})})]})})]},m.id))})]})})]})},US=()=>{const{orders:t,pickups:e,returns:r,loading:n,error:i}=dr();console.log("HomePage: Current state:",{orders:t.length,pickups:e.length,returns:r.length,loading:n,error:i});const[s,a]=se.useState("orders"),[o,c]=se.useState(!1),[d,p]=se.useState(!1),[m,y]=se.useState(!1),[f,b]=se.useState(""),[_,j]=se.useState("all"),[x,w]=se.useState("all"),S=se.useMemo(()=>t.filter(H=>{const z=H.jobName.toLowerCase().includes(f.toLowerCase())||H.jobNumber.toLowerCase().includes(f.toLowerCase())||H.orderNumber.toLowerCase().includes(f.toLowerCase())||H.destinationName.toLowerCase().includes(f.toLowerCase()),L=_==="all"||H.status===_,U=x==="all"||(x==="unassigned"?!H.pickupId:H.pickupId===x);return z&&L&&U}),[t,f,_,x]),F=[{id:"orders",label:"Orders",icon:Pa,count:t.length},{id:"pickups",label:"Pickups",icon:zc,count:e.length},{id:"returns",label:"Returns",icon:d0,count:r.length}];if(n)return u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading data..."})]})})});if(i)return u.jsx("div",{className:"container mx-auto px-4 py-8",children:u.jsx("div",{className:"max-w-6xl mx-auto",children:u.jsx("div",{className:"text-center",children:u.jsx("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:u.jsxs("p",{className:"text-red-700",children:["Error: ",i]})})})})});const O=()=>{switch(s){case"orders":return u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[u.jsxs("h2",{className:"text-lg font-semibold text-gray-900",children:["Orders (",S.length,")"]}),u.jsxs("button",{onClick:()=>{console.log("HomePage: Add Order button clicked");try{c(!0),console.log("HomePage: showCreateOrder set to true")}catch(H){console.error("HomePage: Error setting showCreateOrder:",H)}},className:"btn-primary flex items-center space-x-2",children:[u.jsx(fc,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Order"})]})]}),u.jsx(OS,{orders:S,searchTerm:f,setSearchTerm:b,statusFilter:_,setStatusFilter:j,pickupFilter:x,setPickupFilter:w})]})});case"pickups":return u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Pickups"}),u.jsxs("button",{onClick:()=>p(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(zc,{className:"h-4 w-4"}),u.jsx("span",{children:"Create Pickup"})]})]}),u.jsx(FS,{}),u.jsx(MS,{})]})});case"returns":return u.jsx("div",{className:"space-y-6",children:u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Returns"}),u.jsxs("button",{onClick:()=>{console.log("HomePage: Create Return button clicked");try{y(!0),console.log("HomePage: showCreateReturn set to true")}catch(H){console.error("HomePage: Error setting showCreateReturn:",H)}},className:"btn-primary flex items-center space-x-2",children:[u.jsx(d0,{className:"h-4 w-4"}),u.jsx("span",{children:"Create Return"})]})]}),u.jsx(zS,{})]})});default:return null}};return u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsxs("h1",{className:"text-3xl font-bold text-gray-900 flex items-center gap-2",children:[u.jsx(Pa,{className:"h-8 w-8 text-primary-600"}),"CabinetTrack Dashboard"]}),u.jsx("p",{className:"text-gray-600",children:"Manage orders, pickups, and returns"})]}),u.jsx("div",{className:"border-b border-gray-200 mb-8",children:u.jsx("nav",{className:"-mb-px flex space-x-8",children:F.map(H=>{const z=H.icon;return u.jsxs("button",{onClick:()=>a(H.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${s===H.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(z,{className:"h-4 w-4"}),H.label,u.jsx("span",{className:"bg-gray-100 text-gray-600 px-2 py-0.5 rounded-full text-xs",children:H.count})]},H.id)})})}),u.jsx("div",{children:O()})]}),u.jsx(IS,{isOpen:o,onClose:()=>c(!1)}),u.jsx(DS,{isOpen:d,onClose:()=>p(!1)}),u.jsx(RS,{isOpen:m,onClose:()=>y(!1)})]})},BS=({isOpen:t,onClose:e})=>{const{addSource:r}=dr(),{user:n}=Xr(),[i,s]=se.useState({name:"",address:"",phoneNumber:"",mainContact:""}),[a,o]=se.useState(!1),c=async p=>{p.preventDefault(),o(!0);try{await r({...i,organizationId:(n==null?void 0:n.organizationId)||""})&&(e(),s({name:"",address:"",phoneNumber:"",mainContact:""}))}catch(m){console.error("Error creating Source:",m)}finally{o(!1)}},d=p=>{const{name:m,value:y}=p.target;s(f=>({...f,[m]:y}))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Source"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0,className:"input",placeholder:"Enter Source name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),u.jsx("textarea",{name:"address",value:i.address,onChange:d,required:!0,rows:3,className:"input",placeholder:"Enter address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:i.phoneNumber,onChange:d,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Contact *"}),u.jsx("input",{type:"text",name:"mainContact",value:i.mainContact,onChange:d,required:!0,className:"input",placeholder:"Enter main contact name"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Adding...":"Add Source"})]})]})]})}):null},qS=({isOpen:t,onClose:e})=>{const{addDesigner:r}=dr(),{user:n}=Xr(),[i,s]=se.useState({name:"",email:"",phone:""}),[a,o]=se.useState(!1),c=async p=>{p.preventDefault(),o(!0);try{await r({...i,organizationId:(n==null?void 0:n.organizationId)||""})&&(e(),s({name:"",email:"",phone:""}))}catch(m){console.error("Error creating designer:",m)}finally{o(!1)}},d=p=>{const{name:m,value:y}=p.target;s(f=>({...f,[m]:y}))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Designer"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designer Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0,className:"input",placeholder:"Enter designer name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,required:!0,className:"input",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:d,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Adding...":"Add Designer"})]})]})]})}):null},$S=({isOpen:t,onClose:e})=>{const{addDriver:r}=dr(),{user:n}=Xr(),[i,s]=se.useState({name:"",email:"",phone:"",vehicle:""}),[a,o]=se.useState(!1),c=async p=>{p.preventDefault(),o(!0);try{await r({...i,organizationId:(n==null?void 0:n.organizationId)||""})&&(e(),s({name:"",email:"",phone:"",vehicle:""}))}catch(m){console.error("Error creating driver:",m)}finally{o(!1)}},d=p=>{const{name:m,value:y}=p.target;s(f=>({...f,[m]:y}))};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add Driver"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0,className:"input",placeholder:"Enter driver name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:d,required:!0,className:"input",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:d,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle *"}),u.jsx("input",{type:"text",name:"vehicle",value:i.vehicle,onChange:d,required:!0,className:"input",placeholder:"Enter vehicle description"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Adding...":"Add Driver"})]})]})]})}):null},HS=({source:t,isOpen:e,onClose:r})=>{const{updateSource:n}=dr(),[i,s]=se.useState({name:"",address:"",phoneNumber:"",mainContact:""}),[a,o]=se.useState(!1);se.useEffect(()=>{t&&s({name:t.name,address:t.address,phoneNumber:t.phoneNumber,mainContact:t.mainContact})},[t]);const c=async p=>{p.preventDefault(),o(!0);try{await n(t.id,i)&&r()}catch(m){console.error("Error updating Source:",m)}finally{o(!1)}},d=p=>{const{name:m,value:y}=p.target;s(f=>({...f,[m]:y}))};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Source"}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:c,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Source Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:d,required:!0,className:"input",placeholder:"Enter Source name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),u.jsx("textarea",{name:"address",value:i.address,onChange:d,required:!0,rows:3,className:"input",placeholder:"Enter address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phoneNumber",value:i.phoneNumber,onChange:d,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Main Contact *"}),u.jsx("input",{type:"text",name:"mainContact",value:i.mainContact,onChange:d,required:!0,className:"input",placeholder:"Enter main contact name"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:a,children:a?"Updating...":"Update Source"})]})]})]})}):null},WS=({designer:t,isOpen:e,onClose:r})=>{const{updateDesigner:n}=dr(),[i,s]=se.useState({name:"",email:"",phone:""});se.useEffect(()=>{t&&s({name:t.name,email:t.email,phone:t.phone})},[t]);const a=async c=>{c.preventDefault();try{await n(t.id,i)?r():alert("Failed to update designer. Please try again.")}catch(d){console.error("Error updating designer:",d),alert("Failed to update designer. Please try again.")}},o=c=>{const{name:d,value:p}=c.target;s(m=>({...m,[d]:p}))};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Designer"}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designer Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:o,required:!0,className:"input",placeholder:"Enter designer name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:o,required:!0,className:"input",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:o,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",children:"Update Designer"})]})]})]})}):null},VS=({driver:t,isOpen:e,onClose:r})=>{const{updateDriver:n}=dr(),[i,s]=se.useState({name:"",email:"",phone:"",vehicle:""});se.useEffect(()=>{t&&s({name:t.name,email:t.email,phone:t.phone,vehicle:t.vehicle})},[t]);const a=async c=>{c.preventDefault();try{await n(t.id,i)?r():alert("Failed to update driver. Please try again.")}catch(d){console.error("Error updating driver:",d),alert("Failed to update driver. Please try again.")}},o=c=>{const{name:d,value:p}=c.target;s(m=>({...m,[d]:p}))};return e?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl max-w-md w-full mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Edit Driver"}),u.jsx("button",{onClick:r,className:"text-gray-400 hover:text-gray-600",children:u.jsx(Un,{className:"h-6 w-6"})})]}),u.jsxs("form",{onSubmit:a,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Driver Name *"}),u.jsx("input",{type:"text",name:"name",value:i.name,onChange:o,required:!0,className:"input",placeholder:"Enter driver name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),u.jsx("input",{type:"email",name:"email",value:i.email,onChange:o,required:!0,className:"input",placeholder:"Enter email address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone Number *"}),u.jsx("input",{type:"tel",name:"phone",value:i.phone,onChange:o,required:!0,className:"input",placeholder:"Enter phone number"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vehicle *"}),u.jsx("input",{type:"text",name:"vehicle",value:i.vehicle,onChange:o,required:!0,className:"input",placeholder:"Enter vehicle description"})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[u.jsx("button",{type:"button",onClick:r,className:"btn-secondary",children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",children:"Update Driver"})]})]})]})}):null},GS=()=>{var S,F;const{organizationalSettings:t,updateOrganizationalSettings:e}=dr(),{user:r}=Xr(),[n,i]=se.useState(t);console.log("OrganizationalSettingsTab: organizationalSettings from context:",t),console.log("OrganizationalSettingsTab: formData state:",n);const[s,a]=se.useState(!1),o=se.useRef(null),c=se.useRef(null),d=O=>{const{name:H,value:z}=O.target;i(L=>({...L,[H]:z}))},p=async O=>{var z;const H=(z=O.target.files)==null?void 0:z[0];if(H){if(console.log("Uploading logo file:",H.name,"Size:",H.size,"bytes"),H.size>1024*1024){alert("Logo file is too large. Please use an image smaller than 1MB.");return}const L=new FileReader;L.onload=async U=>{var J;try{const D=(J=U.target)==null?void 0:J.result;console.log("Logo URL generated, length:",D.length);let T=D;D.length>5e5&&(console.log("Logo is large, attempting to compress..."),T=await m(D,800,600),console.log("Compressed logo length:",T.length));const B={...n,logoUrl:T};i(B);const W=await e(B);console.log("Logo upload save result:",W),W||alert("Failed to save logo. Please try again.")}catch(D){console.error("Error processing logo:",D),alert("Error processing logo. Please try again.")}},L.onerror=()=>{console.error("Error reading file"),alert("Error reading logo file. Please try again.")},L.readAsDataURL(H)}},m=(O,H,z)=>new Promise(L=>{const U=new Image;U.onload=()=>{const J=document.createElement("canvas"),D=J.getContext("2d");let{width:T,height:B}=U;T>B?T>H&&(B=B*H/T,T=H):B>z&&(T=T*z/B,B=z),J.width=T,J.height=B,D==null||D.drawImage(U,0,0,T,B),L(J.toDataURL("image/jpeg",.8))},U.src=O}),y=async()=>{console.log("Removing logo");const O={...n,logoUrl:void 0};i(O);const H=await e(O);console.log("Logo remove save result:",H),H||alert("Failed to remove logo. Please try again.")},f=async O=>{var z;const H=(z=O.target.files)==null?void 0:z[0];if(H){if(console.log("Uploading mobile icon file:",H.name,"Size:",H.size,"bytes"),H.size>512*1024){alert("Mobile icon file is too large. Please use an image smaller than 512KB.");return}const L=new FileReader;L.onload=async U=>{var J;try{const D=(J=U.target)==null?void 0:J.result;console.log("Mobile icon URL generated, length:",D.length);let T=D;D.length>2e5&&(console.log("Mobile icon is large, attempting to compress..."),T=await m(D,192,192),console.log("Compressed mobile icon length:",T.length));const B={...n,mobileIconUrl:T};i(B);const W=await e(B);console.log("Mobile icon upload save result:",W),W||alert("Failed to save mobile icon. Please try again.")}catch(D){console.error("Error processing mobile icon:",D),alert("Error processing mobile icon. Please try again.")}},L.onerror=()=>{console.error("Error reading file"),alert("Error reading mobile icon file. Please try again.")},L.readAsDataURL(H)}},b=async()=>{console.log("Removing mobile icon");const O={...n,mobileIconUrl:void 0};i(O);const H=await e(O);console.log("Mobile icon remove save result:",H),H||alert("Failed to remove mobile icon. Please try again.")},_=async()=>{console.log("Saving organizational settings:",n);const O={...n,logoUrl:void 0};console.log("Testing save without logo:",O);const H=await e(O);if(console.log("Save result (without logo):",H),H){if(n.logoUrl){console.log("Now trying to save with logo...");const z=await e(n);if(console.log("Save result (with logo):",z),!z){alert("Company information saved, but logo failed to save. Please try uploading a smaller image.");return}}a(!1)}else alert("Failed to save settings. Please try again.")},j=()=>{i(t),a(!1)},x=()=>{a(!0)},w=async()=>{var O;if((O=r==null?void 0:r.organization)!=null&&O.slug)try{await navigator.clipboard.writeText(r.organization.slug),alert("Organization slug copied to clipboard!")}catch(H){console.error("Failed to copy slug:",H),alert("Failed to copy slug to clipboard")}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(rh,{className:"h-5 w-5 text-primary-600"}),u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Organizational Settings"})]}),s?u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:j,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{onClick:_,className:"btn-primary flex items-center gap-2",children:[u.jsx(o3,{className:"h-4 w-4"}),"Save"]})]}):u.jsx("button",{onClick:x,className:"btn-secondary",children:"Edit"})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Company Information"}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Name"}),u.jsx("input",{type:"text",name:"companyName",value:n.companyName,onChange:d,disabled:!s,className:"input w-full",placeholder:"Enter company name"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Address"}),u.jsx("textarea",{name:"companyAddress",value:n.companyAddress,onChange:d,disabled:!s,rows:3,className:"input w-full",placeholder:"Enter company address"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Company Phone"}),u.jsx("input",{type:"tel",name:"companyPhone",value:n.companyPhone,onChange:d,disabled:!s,className:"input w-full",placeholder:"Enter company phone number"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Company Logo"}),u.jsxs("div",{className:"space-y-4",children:[n.logoUrl?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:u.jsx("img",{src:n.logoUrl,alt:"Company Logo",className:"max-w-full h-32 object-contain mx-auto"})}),s&&u.jsxs("button",{onClick:y,className:"btn-secondary flex items-center gap-2 w-full justify-center",children:[u.jsx(Bs,{className:"h-4 w-4"}),"Remove Logo"]})]}):u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[u.jsx(nd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No logo uploaded"}),s&&u.jsx("button",{onClick:()=>{var O;return(O=o.current)==null?void 0:O.click()},className:"btn-secondary",children:"Upload Logo"})]}),s&&!n.logoUrl&&u.jsxs("button",{onClick:()=>{var O;return(O=o.current)==null?void 0:O.click()},className:"btn-primary flex items-center gap-2 w-full justify-center",children:[u.jsx(nd,{className:"h-4 w-4"}),"Upload Logo"]}),u.jsx("input",{ref:o,type:"file",accept:"image/*",onChange:p,className:"hidden"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-md font-medium text-gray-900",children:"Mobile Icon"}),u.jsx("p",{className:"text-sm text-gray-600",children:"This icon will only appear on mobile devices (recommended: 192x192px)"}),u.jsxs("div",{className:"space-y-4",children:[n.mobileIconUrl?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-4",children:u.jsx("img",{src:n.mobileIconUrl,alt:"Mobile Icon",className:"max-w-full h-24 w-24 object-contain mx-auto"})}),s&&u.jsxs("button",{onClick:b,className:"btn-secondary flex items-center gap-2 w-full justify-center",children:[u.jsx(Bs,{className:"h-4 w-4"}),"Remove Mobile Icon"]})]}):u.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-8 text-center",children:[u.jsx(nd,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),u.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"No mobile icon uploaded"}),s&&u.jsx("button",{onClick:()=>{var O;return(O=c.current)==null?void 0:O.click()},className:"btn-secondary",children:"Upload Mobile Icon"})]}),s&&!n.mobileIconUrl&&u.jsxs("button",{onClick:()=>{var O;return(O=c.current)==null?void 0:O.click()},className:"btn-primary flex items-center gap-2 w-full justify-center",children:[u.jsx(nd,{className:"h-4 w-4"}),"Upload Mobile Icon"]}),u.jsx("input",{ref:c,type:"file",accept:"image/*",onChange:f,className:"hidden"})]})]})]}),!s&&u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[u.jsx("h4",{className:"text-sm font-medium text-gray-900 mb-2",children:"Current Settings"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 text-sm",style:{gap:"16px"},children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Company:"}),u.jsx("p",{className:"text-gray-900",children:n.companyName||"Not set"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Phone:"}),u.jsx("p",{className:"text-gray-900",children:n.companyPhone||"Not set"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Logo:"}),u.jsx("p",{className:"text-gray-900",children:n.logoUrl?"Uploaded":"Not uploaded"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Mobile Icon:"}),u.jsx("p",{className:"text-gray-900",children:n.mobileIconUrl?"Uploaded":"Not uploaded"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-gray-500",children:"Organization Slug:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("p",{className:"text-gray-900 font-mono text-xs bg-white px-2 py-1 rounded border",children:((S=r==null?void 0:r.organization)==null?void 0:S.slug)||"Not available"}),((F=r==null?void 0:r.organization)==null?void 0:F.slug)&&u.jsx("button",{onClick:w,className:"text-blue-600 hover:text-blue-800 p-1 rounded hover:bg-blue-50",title:"Copy slug to clipboard",children:u.jsx(r3,{className:"h-3 w-3"})})]})]})]})]})]})},JS=()=>{const{deleteSource:t,deleteDesigner:e,deleteDriver:r,sources:n,designers:i,drivers:s}=dr(),[a,o]=se.useState("Sources"),[c,d]=se.useState(!1),[p,m]=se.useState(!1),[y,f]=se.useState(!1),[b,_]=se.useState(null),[j,x]=se.useState(null),[w,S]=se.useState(null),F=async(z,L)=>{if(confirm(`Are you sure you want to delete this ${z}?`))try{switch(z){case"Source":await t(L);break;case"designer":await e(L);break;case"driver":await r(L);break}}catch(U){console.error(`Error deleting ${z}:`,U),alert(`Failed to delete ${z}. Please try again.`)}},O=[{id:"Sources",label:"Sources",icon:rh},{id:"designers",label:"Designers",icon:Mc},{id:"drivers",label:"Drivers",icon:zc},{id:"organizational",label:"Organizational Settings",icon:rh}],H=()=>{switch(a){case"Sources":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Sources"}),u.jsxs("button",{onClick:()=>d(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(fc,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Source"})]})]}),n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No Sources added yet."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n.map(z=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900",children:z.name}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>_(z),className:"text-primary-600 hover:text-primary-800",children:u.jsx($o,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>F("Source",z.id),className:"text-red-600 hover:text-red-800",children:u.jsx(Bs,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("p",{children:z.address}),u.jsx("p",{children:z.phoneNumber}),u.jsxs("p",{children:["Contact: ",z.mainContact]})]})]},z.id))})]});case"designers":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Designers"}),u.jsxs("button",{onClick:()=>m(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(fc,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Designer"})]})]}),i.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No designers added yet."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:i.map(z=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900",children:z.name}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>x(z),className:"text-primary-600 hover:text-primary-800",children:u.jsx($o,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>F("designer",z.id),className:"text-red-600 hover:text-red-800",children:u.jsx(Bs,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("p",{children:z.email}),u.jsx("p",{children:z.phone})]})]},z.id))})]});case"drivers":return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Drivers"}),u.jsxs("button",{onClick:()=>f(!0),className:"btn-primary flex items-center space-x-2",children:[u.jsx(fc,{className:"h-4 w-4"}),u.jsx("span",{children:"Add Driver"})]})]}),s.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No drivers added yet."}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(z=>u.jsxs("div",{className:"border border-gray-200 rounded-lg p-4",children:[u.jsxs("div",{className:"flex items-start justify-between mb-3",children:[u.jsx("h3",{className:"font-medium text-gray-900",children:z.name}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx("button",{onClick:()=>S(z),className:"text-primary-600 hover:text-primary-800",children:u.jsx($o,{className:"h-4 w-4"})}),u.jsx("button",{onClick:()=>F("driver",z.id),className:"text-red-600 hover:text-red-800",children:u.jsx(Bs,{className:"h-4 w-4"})})]})]}),u.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[u.jsx("p",{children:z.email}),u.jsx("p",{children:z.phone}),u.jsxs("p",{children:["Vehicle: ",z.vehicle]})]})]},z.id))})]});case"organizational":return u.jsx(GS,{});default:return null}};return u.jsxs("div",{className:"container mx-auto px-4 py-8",children:[u.jsxs("div",{className:"max-w-6xl mx-auto",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Settings"}),u.jsx("p",{className:"text-gray-600",children:"Manage CabinetTrack settings and data"})]}),u.jsx("div",{className:"border-b border-gray-200 mb-8",children:u.jsx("nav",{className:"-mb-px flex space-x-8",children:O.map(z=>{const L=z.icon;return u.jsxs("button",{onClick:()=>o(z.id),className:`py-2 px-1 border-b-2 font-medium text-sm flex items-center gap-2 ${a===z.id?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(L,{className:"h-4 w-4"}),z.label]},z.id)})})}),u.jsx("div",{className:"card",children:u.jsx("div",{className:"p-6",children:H()})})]}),u.jsx(BS,{isOpen:c,onClose:()=>d(!1)}),u.jsx(qS,{isOpen:p,onClose:()=>m(!1)}),u.jsx($S,{isOpen:y,onClose:()=>f(!1)}),u.jsx(HS,{source:b,isOpen:!!b,onClose:()=>_(null)}),u.jsx(WS,{designer:j,isOpen:!!j,onClose:()=>x(null)}),u.jsx(VS,{driver:w,isOpen:!!w,onClose:()=>S(null)})]})},KS=()=>{var b,_,j;const[t,e]=se.useState([]),[r,n]=se.useState(null),[i,s]=se.useState(!0),[a,o]=se.useState(!1),[c,d]=se.useState(null),{user:p}=Xr();se.useEffect(()=>{m()},[]);const m=async()=>{try{s(!0),console.log("Loading subscription data...");const[x,w]=await Promise.all([vc.getSubscriptionPlans(),vc.getUsageMetrics()]);console.log("Plans data:",x),console.log("Metrics data:",w),e(x),n(w)}catch(x){console.error("Error loading subscription data:",x),d("Failed to load subscription data")}finally{s(!1)}},y=async x=>{try{o(!0),d(null);const w=await vc.upgradePlan(x);w.success?(await m(),alert("Plan upgraded successfully!")):d(w.error||"Failed to upgrade plan")}catch(w){console.error("Error upgrading plan:",w),d("Failed to upgrade plan")}finally{o(!1)}},f=()=>{if(console.log("getCurrentPlan - user:",p),console.log("getCurrentPlan - user.organization:",p==null?void 0:p.organization),console.log("getCurrentPlan - plans:",t),!(p!=null&&p.organization))return console.log("getCurrentPlan - No organization found"),null;console.log("getCurrentPlan - organization.plan:",p.organization.plan);const x=p.organization.plan||"free";console.log("getCurrentPlan - using plan name:",x);const w=t.find(S=>S.name===x);return console.log("getCurrentPlan - found plan:",w),w};return i?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading subscription information..."})]})}):u.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"mb-8",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Subscription & Billing"}),u.jsx("p",{className:"mt-2 text-gray-600",children:"Manage your subscription plan and view usage metrics"})]}),c&&u.jsx("div",{className:"mb-6 bg-red-50 border border-red-200 rounded-md p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:u.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-800",children:c})})]})}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Current Plan"}),f()?u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-2xl font-bold text-gray-900 capitalize",children:[(b=f())==null?void 0:b.name," Plan"]}),u.jsxs("p",{className:"text-gray-600 mt-1",children:["$",(_=f())==null?void 0:_.price,"/",(j=f())==null?void 0:j.interval]})]}),u.jsx("div",{className:"text-right",children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-green-100 text-green-800",children:"Active"})})]}):u.jsx("p",{className:"text-gray-600",children:"No active plan found"})]}),r&&u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6 mb-8",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Usage This Month"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Users"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.users.total,u.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["/ ",r.users.limit===-1?"Unlimited":r.users.limit]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:r.users.limit===-1?"100%":`${Math.min(r.users.total/r.users.limit*100,100)}%`}})})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Orders"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.orders.total,u.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["/ ",r.orders.limit===-1?"Unlimited":r.orders.limit]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:r.orders.limit===-1?"100%":`${Math.min(r.orders.total/r.orders.limit*100,100)}%`}})})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Pickups"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.pickups.total,u.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["/ ",r.pickups.limit===-1?"Unlimited":r.pickups.limit]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-purple-600 h-2 rounded-full",style:{width:r.pickups.limit===-1?"100%":`${Math.min(r.pickups.total/r.pickups.limit*100,100)}%`}})})})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Storage"}),u.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[r.storage.used," MB",u.jsxs("span",{className:"text-sm font-normal text-gray-500",children:["/ ",r.storage.limit," MB"]})]}),u.jsx("div",{className:"mt-2",children:u.jsx("div",{className:"bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:"bg-yellow-600 h-2 rounded-full",style:{width:`${Math.min(r.storage.used/r.storage.limit*100,100)}%`}})})})]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-6",children:"Available Plans"}),u.jsxs("div",{className:"text-sm text-gray-600 mb-4",children:["Debug: ",t.length," plans loaded"]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:t.map(x=>{var F,O,H;const w=((F=p==null?void 0:p.organization)==null?void 0:F.plan)===x.name,S=!w&&(x.name==="pro"&&((O=p==null?void 0:p.organization)==null?void 0:O.plan)==="free"||x.name==="enterprise"&&((H=p==null?void 0:p.organization)==null?void 0:H.plan)!=="enterprise");return u.jsxs("div",{className:`relative rounded-lg border-2 p-6 ${w?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"}`,children:[w&&u.jsx("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:u.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-600 text-white",children:"Current Plan"})}),u.jsxs("div",{className:"text-center",children:[u.jsxs("h3",{className:"text-xl font-semibold text-gray-900 capitalize mb-2",children:[x.name," Plan"]}),u.jsxs("div",{className:"mb-4",children:[u.jsxs("span",{className:"text-3xl font-bold text-gray-900",children:["$",x.price]}),u.jsxs("span",{className:"text-gray-500",children:["/",x.interval]})]}),u.jsxs("ul",{className:"text-left space-y-3 mb-6",children:[u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),x.features.maxUsers===-1?"Unlimited":x.features.maxUsers," Users"]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),x.features.maxOrders===-1?"Unlimited":x.features.maxOrders," Orders"]}),u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),x.features.maxPickups===-1?"Unlimited":x.features.maxPickups," Pickups"]}),x.features.advancedReporting&&u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Advanced Reporting"]}),x.features.apiAccess&&u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"API Access"]}),x.features.prioritySupport&&u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Priority Support"]}),x.features.customBranding&&u.jsxs("li",{className:"flex items-center",children:[u.jsx("svg",{className:"h-5 w-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:u.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Custom Branding"]})]}),w?u.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 px-4 py-2 rounded-md font-medium cursor-not-allowed",children:"Current Plan"}):S?u.jsx("button",{onClick:()=>y(x.name),disabled:a,className:"w-full bg-blue-600 hover:bg-blue-700 disabled:bg-blue-400 text-white px-4 py-2 rounded-md font-medium transition-colors",children:a?"Upgrading...":"Upgrade"}):u.jsx("button",{disabled:!0,className:"w-full bg-gray-300 text-gray-500 px-4 py-2 rounded-md font-medium cursor-not-allowed",children:"Downgrade Not Available"})]})]},x.id)})})]})]})})},YS=()=>{const[t,e]=se.useState({organizationSlug:"",email:"",password:""}),[r,n]=se.useState(""),[i,s]=se.useState(!1),{login:a}=Xr(),o=Gc(),c=p=>{e({...t,[p.target.name]:p.target.value})},d=async p=>{p.preventDefault(),n(""),s(!0);try{const m=await a(t);m.success?o("/"):n(m.error||"Login failed")}catch{n("An unexpected error occurred")}finally{s(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",u.jsx(ki,{to:"/signup",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new organization"})]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:u.jsxs("form",{className:"space-y-6",onSubmit:d,children:[r&&u.jsx("div",{className:"rounded-md bg-red-50 p-4",children:u.jsx("div",{className:"text-sm text-red-700",children:r})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"organizationSlug",className:"block text-sm font-medium text-gray-700",children:"Organization"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"organizationSlug",name:"organizationSlug",type:"text",required:!0,value:t.organizationSlug,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"your-organization"})}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Enter your organization's unique identifier"})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"user@example.com"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,value:t.password,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""})})]}),u.jsx("div",{className:"flex items-center justify-between",children:u.jsx("div",{className:"text-sm",children:u.jsx(ki,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Signing in...":"Sign in"})})]})})})]})},XS=()=>{const[t,e]=se.useState({organizationName:"",organizationSlug:"",firstName:"",lastName:"",email:"",username:"",password:"",confirmPassword:""}),[r,n]=se.useState(""),[i,s]=se.useState(!1),{signup:a}=Xr(),o=Gc(),c=m=>{e({...t,[m.target.name]:m.target.value})},d=()=>t.password!==t.confirmPassword?(n("Passwords do not match"),!1):t.password.length<8?(n("Password must be at least 8 characters long"),!1):/^[a-z0-9-]+$/.test(t.organizationSlug)?!0:(n("Organization slug can only contain lowercase letters, numbers, and hyphens"),!1),p=async m=>{if(m.preventDefault(),n(""),!!d()){s(!0);try{const y=await a({organizationName:t.organizationName,organizationSlug:t.organizationSlug,firstName:t.firstName,lastName:t.lastName,email:t.email,username:t.username,password:t.password});y.success?o("/"):n(y.error||"Signup failed")}catch{n("An unexpected error occurred")}finally{s(!1)}}};return u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your organization"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",u.jsx(ki,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to existing organization"})]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:u.jsxs("form",{className:"space-y-6",onSubmit:p,children:[r&&u.jsx("div",{className:"rounded-md bg-red-50 p-4",children:u.jsx("div",{className:"text-sm text-red-700",children:r})}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"organizationName",className:"block text-sm font-medium text-gray-700",children:"Organization Name"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"organizationName",name:"organizationName",type:"text",required:!0,value:t.organizationName,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Acme Corp"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"organizationSlug",className:"block text-sm font-medium text-gray-700",children:"Organization Slug"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"organizationSlug",name:"organizationSlug",type:"text",required:!0,value:t.organizationSlug,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"acme-corp"})}),u.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"This will be your unique URL identifier"})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First Name"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"firstName",name:"firstName",type:"text",required:!0,value:t.firstName,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"John"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last Name"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"lastName",name:"lastName",type:"text",required:!0,value:t.lastName,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"Doe"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"user@example.com"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700",children:"Username"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"username",name:"username",type:"text",required:!0,value:t.username,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"johndoe"})})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2",children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,value:t.password,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm Password"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,value:t.confirmPassword,onChange:c,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:""})})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:i,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:i?"Creating organization...":"Create organization"})})]})})})]})},QS=()=>{const[t,e]=se.useState({organizationSlug:"",email:""}),[r,n]=se.useState(""),[i,s]=se.useState(!1),[a,o]=se.useState(!1),{requestPasswordReset:c}=Xr(),d=m=>{e({...t,[m.target.name]:m.target.value})},p=async m=>{m.preventDefault(),n(""),s(!1),o(!0);try{const y=await c(t);y.success?s(!0):n(y.error||"Failed to request password reset")}catch{n("An unexpected error occurred")}finally{o(!1)}};return i?u.jsx("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:u.jsx("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10 text-center",children:[u.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:u.jsx("svg",{className:"h-6 w-6 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),u.jsx("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"Check your email"}),u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:"We've sent you a password reset link. Please check your email and follow the instructions."}),u.jsx("div",{className:"mt-6",children:u.jsx(ki,{to:"/login",className:"text-indigo-600 hover:text-indigo-500 font-medium",children:"Back to login"})})]})})}):u.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Reset your password"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",u.jsx(ki,{to:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"sign in to your account"})]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsx("div",{className:"bg-white py-8 px-4 shadow sm:rounded-lg sm:px-10",children:u.jsxs("form",{className:"space-y-6",onSubmit:p,children:[r&&u.jsx("div",{className:"rounded-md bg-red-50 p-4",children:u.jsx("div",{className:"text-sm text-red-700",children:r})}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"organizationSlug",className:"block text-sm font-medium text-gray-700",children:"Organization"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"organizationSlug",name:"organizationSlug",type:"text",required:!0,value:t.organizationSlug,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"your-organization"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),u.jsx("div",{className:"mt-1",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:t.email,onChange:d,className:"appearance-none block w-full px-3 py-2 border border-gray-300 rounded-md placeholder-gray-400 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm",placeholder:"user@example.com"})})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?"Sending...":"Send reset link"})})]})})})]})},fp=({onClick:t,icon:e,variant:r="primary",size:n="md",disabled:i=!1,children:s,className:a=""})=>{const o=()=>{switch(r){case"primary":return"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 disabled:bg-primary-400";case"secondary":return"bg-gray-200 text-gray-900 hover:bg-gray-300 focus:ring-gray-500 disabled:bg-gray-100 disabled:text-gray-400";case"success":return"bg-success-600 text-white hover:bg-success-700 focus:ring-success-500 disabled:bg-success-400";case"warning":return"bg-warning-600 text-white hover:bg-warning-700 focus:ring-warning-500 disabled:bg-warning-400";case"danger":return"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500 disabled:bg-red-400";default:return"bg-primary-600 text-white hover:bg-primary-700 focus:ring-primary-500 disabled:bg-primary-400"}},c=()=>{switch(n){case"sm":return"px-2 py-1 text-sm";case"lg":return"px-4 py-2 text-base";default:return"px-3 py-1.5 text-sm"}},d="inline-flex items-center justify-center rounded-lg font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:cursor-not-allowed",p=o(),m=c();return u.jsxs("button",{onClick:t,disabled:i,className:`${d} ${p} ${m} ${a}`,children:[e&&u.jsx(e,{className:`${n==="sm"?"h-4 w-4":n==="lg"?"h-5 w-5":"h-4 w-4"} ${s?"mr-1.5":""}`}),s]})},ZS=()=>{const{user:t}=Xr(),[e,r]=se.useState([]),[n,i]=se.useState(!0),[s,a]=se.useState(!1),[o,c]=se.useState({firstName:"",lastName:"",email:"",username:"",password:"",role:"user"});se.useEffect(()=>{t&&d()},[t]);const d=async()=>{if(t)try{console.log("loadUsers: Loading users for organization:",t.organizationId);const{data:f,error:b}=await He.from("users").select("*").eq("organization_id",t.organizationId).order("created_at",{ascending:!1});if(console.log("loadUsers: Database result - data:",f,"error:",b),b)throw b;const _=(f||[]).map(j=>({id:j.id,organizationId:j.organization_id,email:j.email,username:j.username,firstName:j.first_name,lastName:j.last_name,role:j.role,isActive:j.is_active,emailVerified:j.email_verified,lastLogin:j.last_login?new Date(j.last_login):void 0,createdAt:new Date(j.created_at),updatedAt:new Date(j.updated_at),permissions:{canManageUsers:j.role==="admin",canManageBilling:j.role==="admin",canViewReports:j.role==="admin",canManageSettings:j.role==="admin"}}));console.log("loadUsers: Mapped users:",_),r(_)}catch(f){console.error("Error loading users:",f)}finally{i(!1)}},p=async f=>{if(f.preventDefault(),!!t)try{const{data:b,error:_}=await He.from("users").insert({organization_id:t.organizationId,first_name:o.firstName,last_name:o.lastName,email:o.email,username:o.username,password_hash:o.password,role:o.role,is_active:!0,email_verified:!0}).select().single();if(_)throw _;r([b,...e]),a(!1),c({firstName:"",lastName:"",email:"",username:"",password:"",role:"user"})}catch(b){console.error("Error adding user:",b)}},m=async(f,b)=>{try{console.log("toggleUserStatus: Toggling user",f,"to isActive:",b);const{data:_,error:j}=await He.from("users").update({is_active:b}).eq("id",f).select();if(console.log("toggleUserStatus: Database result - data:",_,"error:",j),j)throw j;const x=e.map(w=>w.id===f?{...w,isActive:b}:w);console.log("toggleUserStatus: Updated users state:",x),r(x),console.log("toggleUserStatus: Successfully toggled user status")}catch(_){console.error("Error updating user status:",_),alert("Failed to update user status. Please try again.")}},y=async f=>{if(confirm("Are you sure you want to delete this user?"))try{const{error:b}=await He.from("users").delete().eq("id",f);if(b)throw b;r(e.filter(_=>_.id!==f))}catch(b){console.error("Error deleting user:",b)}};return!t||t.role!=="admin"?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600",children:"You don't have permission to view this page."})]})}):n?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading users..."})]})}):u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"px-4 py-6 sm:px-0",children:[u.jsxs("div",{className:"flex justify-between items-center mb-6",children:[u.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Users"}),u.jsx(fp,{onClick:()=>a(!0),className:"bg-indigo-600 hover:bg-indigo-700",children:"Add User"})]}),u.jsx("div",{className:"bg-white shadow overflow-hidden sm:rounded-md",children:u.jsx("ul",{className:"divide-y divide-gray-200",children:e.map(f=>{var b,_;return u.jsx("li",{className:"px-6 py-4",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:u.jsxs("span",{className:"text-indigo-800 font-medium",children:[(b=f.firstName)==null?void 0:b[0],(_=f.lastName)==null?void 0:_[0]]})})}),u.jsxs("div",{className:"ml-4",children:[u.jsxs("div",{className:"text-sm font-medium text-gray-900",children:[f.firstName," ",f.lastName]}),u.jsxs("div",{className:"text-sm text-gray-500",children:["@",f.username,"  ",f.email]})]})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.role==="admin"?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-800"}`,children:f.role}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${f.isActive?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:f.isActive?"Active":"Inactive"}),u.jsxs("div",{className:"flex space-x-2",children:[u.jsx(fp,{onClick:()=>m(f.id,!f.isActive),className:f.isActive?"bg-yellow-600 hover:bg-yellow-700":"bg-green-600 hover:bg-green-700",children:f.isActive?"Deactivate":"Activate"}),f.id!==t.id&&u.jsx(fp,{onClick:()=>y(f.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})},f.id)})})})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:u.jsx("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:u.jsxs("div",{className:"mt-3",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Add New User"}),u.jsxs("form",{onSubmit:p,className:"space-y-4",children:[u.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"First Name"}),u.jsx("input",{type:"text",required:!0,value:o.firstName,onChange:f=>c({...o,firstName:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Last Name"}),u.jsx("input",{type:"text",required:!0,value:o.lastName,onChange:f=>c({...o,lastName:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Email"}),u.jsx("input",{type:"email",required:!0,value:o.email,onChange:f=>c({...o,email:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Username"}),u.jsx("input",{type:"text",required:!0,value:o.username,onChange:f=>c({...o,username:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Password"}),u.jsx("input",{type:"password",required:!0,value:o.password,onChange:f=>c({...o,password:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Role"}),u.jsxs("select",{value:o.role,onChange:f=>c({...o,role:f.target.value}),className:"mt-1 block w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"})]})]}),u.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:"Add User"})]})]})]})})})]})},fd=({children:t})=>{const{user:e,loading:r}=Xr();return r?u.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),u.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(z4,{to:"/login",replace:!0})},e6=()=>u.jsx(C_,{children:u.jsxs("div",{className:"min-h-screen bg-gray-50",children:[u.jsx(O_,{}),u.jsx("main",{children:u.jsxs(U4,{children:[u.jsx(bs,{path:"/login",element:u.jsx(YS,{})}),u.jsx(bs,{path:"/signup",element:u.jsx(XS,{})}),u.jsx(bs,{path:"/forgot-password",element:u.jsx(QS,{})}),u.jsx(bs,{path:"/",element:u.jsx(fd,{children:u.jsx(US,{})})}),u.jsx(bs,{path:"/settings",element:u.jsx(fd,{children:u.jsx(JS,{})})}),u.jsx(bs,{path:"/users",element:u.jsx(fd,{children:u.jsx(ZS,{})})}),u.jsx(bs,{path:"/subscription",element:u.jsx(fd,{children:u.jsx(KS,{})})})]})})]})});function t6(){return u.jsx(P_,{children:u.jsx(e6,{})})}pp.createRoot(document.getElementById("root")).render(u.jsx(C2.StrictMode,{children:u.jsx(G4,{children:u.jsx(t6,{})})}));export{Nt as _,Fn as c,bx as g};
